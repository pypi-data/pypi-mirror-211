(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[596],{10893:function(n,e,t){"use strict";t.d(e,{CY:function(){return y},N9:function(){return E}});var r,o=t(71171),i=t(96234),s=t(90239),a=t(31623),l=t(78193),p=t(50032),u=t(62638),d=t(74894),c=t(14228),h=t(85514),f=t(67099),x=t(84674),v=t(13422),m=t(92761),g=t(55500),S=t(25620),j=t(44907),I=t(48341),P=t(35936),y=function(){(0,d.Px)();var n=(0,p.UO)(),e=(0,I.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,p.k6)();return(0,f.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,P.jsx)(E,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,I.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,h.p)(e))}})},E=function(n){var e,t=n.explorerPath,r=n.repoAddress,o=n.onChangeExplorerPath,a=n.onNavigateToSourceAssetNode,p=n.isGraph,u=void 0!==p&&p,d=l.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),h=(0,i.Z)(d,2),f=h[0],x=h[1],I=t.opNames.slice(0,t.opNames.length-1),y=(0,m._T)(r||null,t.pipelineName),E=(0,s.a)(R,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:y,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:I.join("."),requestScopeHandleID:f.explodeComposites?void 0:I.join(".")}});return(0,P.jsx)(v.g,{queryResult:E,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,P.jsx)(j.Q,{isGraph:u,result:e,repoAddress:r});var i=e.solidHandle,s=f.explodeComposites?(0,g.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return f.preferAssetRendering&&l?(0,P.jsx)(c.OK,{options:f,setOptions:x,fetchOptions:{pipelineSelector:y},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:a}):(0,P.jsx)(S.m0,{options:f,setOptions:x,explorerPath:t,onChangeExplorerPath:o,container:e,repoAddress:r,handles:s,parentHandle:i||void 0,isGraph:u,getInvocations:function(n){return s.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},R=(0,a.Ps)(r||(r=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),x.it,S.Sm,S.Q,S.bg,u.B)},76408:function(n,e,t){"use strict";t.d(e,{G:function(){return k}});var r,o=t(71171),i=t(33028),s=t(68079),a=t(96234),l=t(31623),p=t(29845),u=t(3586),d=t(47515),c=t(67445),h=t(95714),f=t(86562),x=t(78193),v=t(50032),m=t(62638),g=t(39707),S=t(74894),j=t(15352),I=t(68506),P=t(89622),y=t(22264),E=t(4774),R=t(13422),b=t(42468),C=t(92761),N=t(9610),H=t(48341),_=t(53683),O=t(35936),$=["status","tag"],k=function(n){(0,S.Px)();var e=(0,v.UO)().pipelinePath,t=n.repoAddress,r=void 0===t?null:t,o=(0,H.p3)(e),l=o.pipelineName,m=o.snapshotId,k=(0,C.Ux)(r),A=(0,C.E8)(k,l);(0,_.b)(o,A);var D=(0,y.oD)($),Z=(0,a.Z)(D,2),T=Z[0],w=Z[1],q=x.useMemo((function(){return[A?{token:"job",value:l}:{token:"pipeline",value:l},m?{token:"snapshotId",value:m}:null].filter(Boolean)}),[A,l,m]),G=[].concat((0,s.Z)(T),(0,s.Z)(q));if(r){var Y={token:"tag",value:"".concat(I.H.RepositoryLabelTag,"=").concat((0,N.Wg)(r))};G.push(Y)}var Q=(0,E.l)({query:F,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,y.VH)(G)),{},{pipelineName:l,snapshotId:m})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),V=Q.queryResult,U=Q.paginationProps,W=x.useCallback((function(n){var e=(0,p.HY)(n);T.some((function(n){return(0,p.HY)(n)===e}))||w([].concat((0,s.Z)(T),[n]))}),[T,w]),z=(0,g.C4)(V,g.dT);return(0,O.jsx)(P.Lw.Provider,{value:{refetch:V.refetch},children:(0,O.jsx)(u.T,{children:(0,O.jsx)(R.g,{queryResult:V,allowStaleData:!0,children:function(n){var e=n.pipelineRunsOrError;if("Runs"!==e.__typename)return(0,O.jsx)(d.x,{padding:{vertical:64},children:(0,O.jsx)(c.t,{icon:"error",title:"Query Error",description:e.message})});var t=e.results.slice(0,25),r=U.hasNextCursor,o=U.hasPrevCursor;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(d.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,O.jsx)(d.x,{flex:{direction:"row",gap:8},children:q.map((function(n){var e=n.token,t=n.value;return(0,O.jsx)(h.V,{children:"".concat(e,":").concat(t)},e)}))}),(0,O.jsx)(g.xi,{refreshState:z})]}),(0,O.jsx)(b.Y,{$top:0,children:(0,O.jsx)(j.A,{runs:t,onAddTag:W,actionBarComponents:(0,O.jsx)(y.nr,{enabledFilters:$,tokens:T,onChange:w,loading:V.loading})})}),r||o?(0,O.jsx)("div",{style:{marginTop:"20px"},children:(0,O.jsx)(f.pI,(0,i.Z)({},U))}):null]})}})})})},F=(0,l.Ps)(r||(r=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),j.Z,m.B)},33069:function(n,e,t){"use strict";t.r(e),t.d(e,{SnapshotRoot:function(){return E},default:function(){return R}});t(78193);var r,o=t(50032),i=t(10893),s=t(48341),a=t(76408),l=t(33028),p=t(71171),u=t(31623),d=t(90239),c=t(95714),h=t(20356),f=t(83473),x=t(57103),v=t(16185),m=t(97412),g=t(4248),S=t(92761),j=t(63167),I=t(35936),P=(0,u.Ps)(r||(r=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),y=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,i=o.pipelineName,a=o.snapshotId,p=void 0===a?"":a,u=(0,s.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),y=(0,S.Nc)(i),E=!(null===y||void 0===y||!y.isJob),R=null===y||void 0===y?void 0:y.pipelineSnapshotId,b=(0,d.a)(P,{variables:{snapshotId:p}}),C=b.data,N=b.loading,H=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(u)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(u,"runs")}];return(0,I.jsx)(h.m,{title:(0,I.jsx)(f.X6,{style:{fontFamily:x.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(c.V,{icon:"schema",children:["Snapshot of"," ",(0,I.jsx)(m.rU,{to:(0,j.r4)(o.pipelineName,E),children:o.pipelineName})]}),function(){var n;return N?(0,I.jsx)(c.V,{intent:"none",minimal:!0,children:"..."}):!R||R!==p&&"PipelineSnapshot"===(null===C||void 0===C?void 0:C.pipelineSnapshotOrError.__typename)&&(null===C||void 0===C||null===(n=C.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==R?(0,I.jsx)(c.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,I.jsx)(c.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,I.jsx)(v.mQ,{selectedTabId:r,children:H.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,I.jsx)(g.f,{id:r,title:t,to:e},t)}))})})},E=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,r=(0,s.p3)(e);return(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,I.jsx)(y,{activeTab:t,explorerPath:r}),(0,I.jsxs)(o.rs,{children:[(0,I.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,I.jsx)(a.G,{})}),(0,I.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,I.jsx)(i.CY,{})})]})]})},R=E},42468:function(n,e,t){"use strict";t.d(e,{Y:function(){return i}});var r=t(60319),o=t(32667),i=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"sc-n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){var e=n.$top;return void 0===e?0:e}),o.w.White,o.w.KeylineGray)},225:function(n,e,t){var r=t(67268),o=t(86357),i=t(93550),s=t(9747),a=t(4564),l=t(59390);n.exports=function(n,e,t,p){var u=-1,d=o,c=!0,h=n.length,f=[],x=e.length;if(!h)return f;t&&(e=s(e,a(t))),p?(d=i,c=!1):e.length>=200&&(d=l,c=!1,e=new r(e));n:for(;++u<h;){var v=n[u],m=null==t?v:t(v);if(v=p||0!==v?v:0,c&&m===m){for(var g=x;g--;)if(e[g]===m)continue n;f.push(v)}else d(e,m,p)||f.push(v)}return f}},92578:function(n,e,t){var r=t(8945),o=t(70214);n.exports=function(n,e){return r(o(n,e),1)}},67656:function(n,e,t){var r=t(56797),o=t(93348)((function(n,e,t){r(n,t,e)}));n.exports=o},42918:function(n,e,t){var r=t(9747),o=t(39095),i=t(74864),s=t(70002);n.exports=function(n,e){if(null==n)return{};var t=r(s(n),(function(n){return[n]}));return e=o(e),i(n,t,(function(n,t){return e(n,t[0])}))}},97346:function(n,e,t){var r=t(225),o=t(94518),i=t(22482),s=o((function(n,e){return i(n)?r(n,e):[]}));n.exports=s}}]);
//# sourceMappingURL=596.858248d1.chunk.js.map