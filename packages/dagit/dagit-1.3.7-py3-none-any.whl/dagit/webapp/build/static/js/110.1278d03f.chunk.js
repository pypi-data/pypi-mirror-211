"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[110],{22260:function(n,e,t){t.d(e,{m:function(){return r}});var o=t(78193),r=function(){var n=navigator.clipboard,e=o.useRef(null);return o.useEffect((function(){return n||(e.current=document.createElement("input"),e.current.style.position="fixed",e.current.style.top="-10000px",document.body.appendChild(e.current)),function(){e.current&&document.body.removeChild(e.current)}}),[n]),o.useCallback((function(t){n?n.writeText(t):e.current&&(e.current.value=t,e.current.select(),document.execCommand("copy"))}),[n])}},10741:function(n,e,t){t.r(e),t.d(e,{CodeLocationsPage:function(){return an},default:function(){return cn}});var o=t(20356),r=t(83473),i=t(47515),s=t(78193),a=t(74894),c=t(67099),l=t(34319),d=t(62459),u=t(67445),x=t(67888),h=t(96234),p=t(32723),j=t(34795),f=t(68079),m=t(60319),g=t(32667),y=t(14491),v=t(45519),w=t(44229),b=t(95714),C=t(92555),O=t(58507),k=t(97412),_=t(82182),Z=t(22260),L=t(9346),I=t(49009),E=t(37349),z=t(56666),N=t(33028),V=t(85357),R=t(73070),S=t(3077),T=t(9886),U=t(68198),D=t(35936),G=function(n){var e,t=n.locationNode,o=s.useState(!1),r=(0,h.Z)(o,2),i=r[0],a=r[1],c=s.useState(!1),l=(0,h.Z)(c,2),d=l[0],u=l[1],x=null,p=null;return"RepositoryLocation"===(null===(e=t.locationOrLoadError)||void 0===e?void 0:e.__typename)&&null!==t.locationOrLoadError.dagsterLibraryVersions&&(x=(0,D.jsx)(V.sN,{icon:"info",text:"View Dagster libraries",onClick:function(){return u(!0)}}),p=(0,D.jsx)(W,{libraries:t.locationOrLoadError.dagsterLibraryVersions,isOpen:d,setIsOpen:u})),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(R.J,{position:"bottom-left",content:(0,D.jsxs)(V.v2,{children:[(0,D.jsx)(V.sN,{icon:"info",text:"View configuration",onClick:function(){return a(!0)}}),x]}),children:(0,D.jsx)(v.zx,{icon:(0,D.jsx)(O.JO,{name:"expand_more"})})}),(0,D.jsx)(P,{metadata:t.displayMetadata,isOpen:i,setIsOpen:a}),p]})},P=function(n){var e=n.isOpen,t=n.setIsOpen,o=n.metadata;return(0,D.jsxs)(S.Vq,{title:"Code location configuration",icon:"info",isOpen:e,onClose:function(){return t(!1)},style:{width:"600px"},children:[(0,D.jsx)(F,{displayMetadata:o}),(0,D.jsx)(S.cN,{topBorder:!0,children:(0,D.jsx)(v.zx,{onClick:function(){return t(!1)},intent:"primary",children:"Done"})})]})},W=function(n){var e=n.isOpen,t=n.setIsOpen,o=n.libraries;return(0,D.jsxs)(S.Vq,{title:"Dagster library versions",icon:"info",isOpen:e,onClose:function(){return t(!1)},style:{width:"600px"},children:[(0,D.jsxs)(x.i,{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Libray"}),(0,D.jsx)("th",{children:"Version"})]})}),(0,D.jsx)("tbody",{children:o.map((function(n){return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:n.name}),(0,D.jsx)("td",{children:n.version})]},n.name)}))})]}),(0,D.jsx)(S.cN,{topBorder:!0,children:(0,D.jsx)(v.zx,{onClick:function(){return t(!1)},intent:"primary",children:"Done"})})]})},F=function(n){var e=n.displayMetadata,t=s.useMemo((function(){var n=e.reduce((function(n,e){return(0,N.Z)((0,N.Z)({},n),{},(0,z.Z)({},e.key,e.value))}),{});return U.Pz(n)}),[e]);return(0,D.jsx)(T.NU,{value:t,options:{lineNumbers:!0,mode:"yaml"},theme:["config-editor"]})},J=t(9938),B=t(63167),M=function(n){var e=n.repo,t=n.repoAddress,o=e.assetGroups.length,r=e.pipelines.filter((function(n){var e=n.name;return!(0,J.pv)(e)})).length,s=e.schedules.length,a=e.sensors.length;return(0,D.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,D.jsx)(w.u,{content:1===o?"1 asset group":"".concat(o," asset groups"),placement:"top",children:(0,D.jsx)($,{to:(0,B.$U)(t,"/assets"),children:(0,D.jsx)(b.V,{interactive:!0,icon:"asset_group",children:o})})}),(0,D.jsx)(w.u,{content:1===r?"1 job":"".concat(r," jobs"),placement:"top",children:(0,D.jsx)($,{to:(0,B.$U)(t,"/jobs"),children:(0,D.jsx)(b.V,{interactive:!0,icon:"job",children:r})})}),(0,D.jsx)(w.u,{content:1===s?"1 schedule":"".concat(s," schedules"),placement:"top",children:(0,D.jsx)($,{to:(0,B.$U)(t,"/schedules"),children:(0,D.jsx)(b.V,{interactive:!0,icon:"schedule",children:s})})}),(0,D.jsx)(w.u,{content:1===a?"1 sensor":"".concat(a," sensors"),placement:"top",children:(0,D.jsx)($,{to:(0,B.$U)(t,"/sensors"),children:(0,D.jsx)(b.V,{interactive:!0,icon:"sensors",children:a})})})]})},$=(0,m.ZP)(k.rU).withConfig({displayName:"RepositoryCountTags__CountLink",componentId:"sc-o8gw04-0"})([":hover,:active{outline:none;text-decoration:none;}"]),A=t(99246),q=t(66708),H=t(9610),Y=function(n){var e=n.locationNode,t=e.name,o=e.locationOrLoadError;if(!o||"PythonError"===(null===o||void 0===o?void 0:o.__typename))return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{style:{maxWidth:"400px",color:g.w.Gray500},children:(0,D.jsx)(y.g,{text:t})}),(0,D.jsx)("td",{children:(0,D.jsx)(nn,{location:t,locationOrError:e})}),(0,D.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,D.jsx)(E.C,{unixTimestamp:e.updatedTimestamp})}),(0,D.jsx)("td",{children:"\u2013"}),(0,D.jsx)("td",{style:{width:"180px"},children:(0,D.jsxs)(v.zH,{children:[(0,D.jsx)(en,{location:t}),(0,D.jsx)(G,{locationNode:e})]})})]});var r=(0,f.Z)(o.repositories).sort((function(n,e){return n.name.localeCompare(e.name)}));return(0,D.jsx)(D.Fragment,{children:r.map((function(n){var o=(0,q.kQ)(n.name,t),r=[].concat((0,f.Z)(e.displayMetadata),(0,f.Z)(n.displayMetadata));return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{style:{maxWidth:"400px"},children:(0,D.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,D.jsx)("div",{style:{fontWeight:500},children:(0,D.jsx)(k.rU,{to:(0,B.$U)(o),children:(0,D.jsx)(y.g,{text:(0,H.Uz)(o)})})}),(0,D.jsx)(Q,{metadata:r}),(0,D.jsx)(X,{metadata:r})]})}),(0,D.jsx)("td",{children:(0,D.jsx)(nn,{location:n.name,locationOrError:e})}),(0,D.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,D.jsx)(E.C,{unixTimestamp:e.updatedTimestamp})}),(0,D.jsx)("td",{children:(0,D.jsx)(M,{repo:n,repoAddress:o})}),(0,D.jsx)("td",{style:{width:"180px"},children:(0,D.jsxs)(v.zH,{children:[(0,D.jsx)(en,{location:t}),(0,D.jsx)(G,{locationNode:e})]})})]},(0,H.Uz)(o))}))})},Q=function(n){var e=n.metadata,t=(0,Z.m)(),o=e.find((function(n){return"image"===n.key})),r=(null===o||void 0===o?void 0:o.value)||"",i=s.useCallback((0,j.Z)((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(r),n.next=3,(0,_.B7)({intent:"success",icon:"done",message:"Image string copied!"});case 3:case"end":return n.stop()}}),n)}))),[t,r]);return o?(0,D.jsxs)(K,{flex:{direction:"row",gap:4},children:[(0,D.jsx)("span",{style:{fontWeight:500},children:"image:"}),(0,D.jsx)(w.u,{content:"Click to copy",placement:"top",display:"block",children:(0,D.jsx)("button",{onClick:i,children:(0,D.jsx)(y.g,{text:o.value})})})]}):null},K=(0,m.ZP)(i.x).withConfig({displayName:"CodeLocationRowSet__ImageNameBox",componentId:"sc-edfki1-0"})(["width:100%;color:",";font-size:12px;.bp4-popover2-target{overflow:hidden;}button{background:transparent;border:none;color:",";cursor:pointer;font-size:12px;overflow:hidden;padding:0;margin:0;width:100%;:focus{outline:none;}}"],g.w.Gray700,g.w.Gray700),X=function(n){var e=n.metadata.find((function(n){var e=n.key;return"module_name"===e||"package_name"===e||"python_file"===e}));return e?(0,D.jsxs)(i.x,{flex:{direction:"row",gap:4},style:{width:"100%",color:g.w.Gray700,fontSize:12},children:[(0,D.jsxs)("span",{style:{fontWeight:500},children:[e.key,":"]}),(0,D.jsx)(y.g,{text:e.value})]}):null},nn=function(n){var e,t=n.location,o=n.locationOrError,r=s.useState(!1),a=(0,h.Z)(r,2),c=a[0],l=a[1],d=s.useMemo((function(){return(0,I.je)(t)}),[t]),u=(0,I.Dc)({scope:"location",reloadFn:d}),x=u.reloading,p=u.tryReload;return"LOADING"===o.loadStatus?o.locationOrLoadError?(0,D.jsx)(b.V,{minimal:!0,intent:"primary",children:"Updating..."}):(0,D.jsx)(b.V,{minimal:!0,intent:"primary",children:"Loading..."}):"PythonError"===(null===(e=o.locationOrLoadError)||void 0===e?void 0:e.__typename)?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.x,{flex:{alignItems:"center",gap:12},children:[(0,D.jsx)(b.V,{minimal:!0,intent:"danger",children:"Failed"}),(0,D.jsx)(C.Z,{onClick:function(){return l(!0)},children:(0,D.jsx)("span",{style:{fontSize:"14px"},children:"View error"})})]}),(0,D.jsx)(A.p,{location:t,isOpen:c,error:o.locationOrLoadError,reloading:x,onDismiss:function(){return l(!1)},onTryReload:function(){return p()}})]}):(0,D.jsx)(b.V,{minimal:!0,intent:"success",children:"Loaded"})},en=function(n){var e=n.location;return(0,D.jsx)(L.s,{location:e,ChildComponent:function(n){var e=n.reloading,t=n.tryReload,o=n.hasReloadPermission;return(0,D.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:(0,D.jsx)(w.u,{content:o?"":L.H,canShow:!o,useDisabledButtonTooltipFix:!0,children:(0,D.jsx)(v.zx,{icon:(0,D.jsx)(O.JO,{name:"refresh"}),disabled:!o,loading:e,onClick:function(){return t()},children:"Reload"})})})}})},tn=t(92761),on=function(){var n=s.useContext(tn.C5),e=n.locationEntries;return n.loading&&!e.length?(0,D.jsxs)(i.x,{flex:{gap:8,alignItems:"center"},padding:{horizontal:24},children:[(0,D.jsx)(d.$,{purpose:"body-text"}),(0,D.jsx)("div",{children:"Loading..."})]}):e.length?(0,D.jsxs)(x.i,{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Name"}),(0,D.jsx)("th",{children:"Status"}),(0,D.jsx)("th",{children:"Updated"}),(0,D.jsx)("th",{children:"Definitions"}),(0,D.jsx)("th",{children:"Actions"})]})}),(0,D.jsx)("tbody",{children:e.map((function(n){return(0,D.jsx)(Y,{locationNode:n},n.name)}))})]}):(0,D.jsx)(i.x,{padding:{vertical:32},children:(0,D.jsx)(u.t,{icon:"folder",title:"No code locations",description:"When you add a code location, your definitions will appear here."})})},rn=t(671),sn=t(8589),an=function(){(0,a.Px)(),(0,c.j)("Code locations");var n=s.useContext(rn.N).pageTitle,e=s.useContext(tn.C5),t=e.locationEntries,d=e.loading,u=s.useMemo((function(){var n=0;return t.forEach((function(e){var t;e.locationOrLoadError&&"PythonError"!==(null===(t=e.locationOrLoadError)||void 0===t?void 0:t.__typename)?n+=e.locationOrLoadError.repositories.length:n+=1})),n}),[t]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.m,{title:(0,D.jsx)(r.X6,{children:n}),tabs:(0,D.jsx)(sn.Z,{tab:"locations"})}),(0,D.jsxs)(i.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},style:{height:"64px"},children:[(0,D.jsx)(r.pm,{id:"repository-locations",children:d||!u?"Code locations":1===u?"1 code location":"".concat(u," code locations")}),(0,D.jsx)(l.i,{})]}),(0,D.jsx)(on,{})]})},cn=an},8589:function(n,e,t){t.d(e,{Z:function(){return y}});var o=t(47515),r=t(16185),i=t(78193),s=t(39707),a=t(58507),c=t(32667),l=t(85048),d=t(26819),u=t(35936),x=i.memo((function(){var n=i.useContext(l.Z).daemons;return n?(0,u.jsx)(d.a,{content:n.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(a.JO,{name:"warning",color:c.w.Yellow500})}):null})),h=t(44229),p=t(62459),j=i.memo((function(n){var e=n.placeholder,t=i.useContext(l.Z).codeLocations;return t?"spinner"===t.type?(0,u.jsx)(h.u,{content:t.content,placement:"bottom",children:(0,u.jsx)(p.$,{purpose:"body-text",fillColor:c.w.Gray300})}):(0,u.jsx)(d.a,{content:t.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(a.JO,{name:"warning",color:c.w.Yellow500})}):e?(0,u.jsx)("div",{style:{width:"16px"}}):null})),f=t(4248),m=t(671),g=t(76612),y=function(n){var e=n.refreshState,t=n.tab,a=i.useContext(m.N).healthTitle,c=(0,g._)();return(0,u.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,u.jsxs)(r.mQ,{selectedTabId:t,children:[(0,u.jsx)(f.f,{id:"locations",title:"Code locations",to:"/locations",icon:(0,u.jsx)(j,{placeholder:!1})}),(0,u.jsx)(f.f,{id:"health",title:a,to:"/health",icon:(0,u.jsx)(x,{})}),c?(0,u.jsx)(f.f,{id:"config",title:"Configuration",to:"/config"}):null]}),e?(0,u.jsx)(o.x,{padding:{bottom:8},children:(0,u.jsx)(s.xi,{refreshState:e})}):null]})}},76612:function(n,e,t){t.d(e,{_:function(){return a}});var o,r=t(71171),i=t(90239),s=t(31623),a=function(){var n=(0,i.a)(c).data;return!(null===n||void 0===n||!n.instance.hasInfo)},c=(0,s.Ps)(o||(o=(0,r.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      id\n      hasInfo\n    }\n  }\n"])))},4248:function(n,e,t){t.d(e,{f:function(){return d}});var o=t(33028),r=t(59740),i=t(60319),s=t(16185),a=(t(78193),t(97412)),c=t(35936),l=["to","title","disabled"],d=(0,i.ZP)((function(n){var e=n.to,t=n.title,i=n.disabled,d=(0,r.Z)(n,l),u=(0,s.xv)(n),x=(0,s.BY)(n),h="string"===typeof t?t:void 0;return(0,c.jsx)(a.rU,(0,o.Z)((0,o.Z)((0,o.Z)({to:i?"#":e,title:h},u),d),{},{children:x}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],s.gA)},34319:function(n,e,t){t.d(e,{i:function(){return p}});var o=t(96234),r=t(44229),i=t(45519),s=t(58507),a=t(3077),c=t(78193),l=t(35740),d=t(92014),u=t(49009),x=t(99246),h=t(35936),p=function(n){var e=n.label,t=void 0===e?"Reload all":e,p=(0,l.WB)(),j=p.permissions.canReloadWorkspace,f=p.disabledReasons,m=(0,u.Dc)({scope:"workspace",reloadFn:u.rL}),g=m.reloading,y=m.tryReload,v=m.error,w=m.errorLocationId,b=c.useState(!!v),C=(0,o.Z)(b,2),O=C[0],k=C[1];return c.useEffect((function(){return k(!!v)}),[v]),j?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.zx,{onClick:y,icon:(0,h.jsx)(s.JO,{name:"refresh"}),loading:g,intent:"none",children:t}),w?(0,h.jsx)(x.V,{error:v,location:w,reloading:g,onTryReload:y,onDismiss:function(){return k(!1)},isOpen:O}):(0,h.jsxs)(a.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:O,children:[(0,h.jsx)(a.a7,{children:v&&(0,h.jsx)(d.T9,{error:v})}),(0,h.jsx)(a.cN,{children:(0,h.jsx)(i.zx,{onClick:function(){return k(!1)},children:"Dismiss"})})]})]}):(0,h.jsx)(r.u,{content:f.canReloadWorkspace,children:(0,h.jsx)(i.zx,{icon:(0,h.jsx)(s.JO,{name:"refresh"}),disabled:!0,intent:"none",children:t})})}},67445:function(n,e,t){t.d(e,{t:function(){return l}});t(78193);var o=t(47515),r=t(32667),i=t(58507),s=t(62459),a=t(83473),c=t(35936),l=function(n){var e=n.title,t=n.description,l=n.icon,d=n.action,u=n.shrinkable,x=1===[e,t,d].filter(Boolean).length;return(0,c.jsxs)(o.x,{flex:{gap:20,alignItems:x?"center":"flex-start"},background:r.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:u?"initial":"max-content",maxWidth:500},children:["spinner"===l?(0,c.jsx)(s.$,{purpose:"section"}):"no-results"===l?(0,c.jsx)(i.JO,{name:"search",size:48,color:r.w.Gray400}):l?(0,c.jsx)(i.JO,{name:l,size:48,color:r.w.Gray400}):null,(0,c.jsxs)(o.x,{flex:{gap:8,direction:"column",alignItems:"flex-start",shrink:1,grow:1},children:[e&&(0,c.jsx)(a.pm,{style:{color:r.w.Gray900},children:e}),t&&(0,c.jsx)("div",{style:{color:r.w.Gray500},children:t}),d]})]})}}}]);
//# sourceMappingURL=110.1278d03f.chunk.js.map