"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[715],{97734:function(e,n,t){t.d(n,{a:function(){return a}});var i=t(96234),r=t(78193),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,o=r.checked,s=r.id;return o?t.add(s):t.delete(s),{lastCheckedId:s,checkedIds:t};case"toggle-slice":var a=n.payload,c=a.checked,l=a.id,d=a.allIds,u=e.lastCheckedId,h=u?d.indexOf(u):-1,x=d.indexOf(l);if(-1===h||-1===x)return e;for(var p=[h,x].sort(),m=(0,i.Z)(p,2),f=m[0],g=m[1],j=f;j<=g;j++)c?t.add(d[j]):t.delete(d[j]);return{lastCheckedId:l,checkedIds:t};case"toggle-all":var v=n.payload,y=v.checked,k=v.allIds;return{lastCheckedId:null,checkedIds:y?new Set(k):new Set}}},s={checkedIds:new Set,lastCheckedId:null};function a(e){var n=r.useReducer(o,s),t=(0,i.Z)(n,2),a=t[0],c=t[1];return[a,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&a.lastCheckedId?c({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):c({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){c({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},79234:function(e,n,t){t.d(n,{K:function(){return ee},m:function(){return ne}});var i,r=t(71171),o=t(56666),s=t(32723),a=t(34795),c=t(33028),l=t(96234),d=t(60319),u=t(15541),h=t(44719),x=t(31623),p=t(45519),m=t(73070),f=t(85357),g=t(47515),j=t(44229),v=t(58507),y=t(3077),k=t(9886),C=t(32667),w=t(78193),b=t(50032),N=t(97412),Z=t(33418),R=t(82182),I=t(35740),T=t(22260),P=t(23555),S=t(8686),_=t(48341),O=t(85279),E=t(79986),z=t(92761),A=t(80500),L=t(63167),M=t(9089),D=t(80018),H=t(4537),F=t(83473),J=t(49675),K=t(89622),B=t(35936),U=function(e){if("LaunchRunSuccess"===(null===e||void 0===e?void 0:e.launchPipelineReexecution.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.launchPipelineReexecution},q=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},V=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},G=function(e,n){switch(n.type){case"reset":return V(n.frozenRuns);case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting",reexecution:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var i=e.reexecution;return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting",reexecution:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,o.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},Q=function(e){var n=e.isOpen,t=e.onClose,i=e.onComplete,r=e.reexecutionStrategy,o=e.selectedRuns,c=w.useRef(o),d=w.useReducer(G,c.current,V),h=(0,l.Z)(d,2),x=h[0],m=h[1],f=Object.keys(x.frozenRuns).length;w.useEffect((function(){n&&m({type:"reset",frozenRuns:c.current})}),[n]),w.useEffect((function(){n||(c.current=o)}),[n,o]);var g=(0,u.D)(K.kO),j=(0,l.Z)(g,1)[0],k=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,t,o,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"start"}),n=Object.keys(x.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return o=n[t],e.next=7,j({variables:{reexecutionParams:{parentRunId:o,strategy:r}}});case 7:a=e.sent,"LaunchRunSuccess"===(null===(c=a.data)||void 0===c?void 0:c.launchPipelineReexecution.__typename)?m({type:"reexecution-success"}):m({type:"reexecution-error",id:o,error:U(c)});case 10:t++,e.next=3;break;case 13:m({type:"complete"}),i(x.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b="reexecuting"!==x.step;return(0,B.jsxs)(y.Vq,{isOpen:n,title:r===P.hmq.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:b,canOutsideClickClose:b,onClose:t,children:[(0,B.jsx)(y.a7,{children:(0,B.jsxs)(H.Z,{direction:"column",spacing:24,children:[function(){switch(x.step){case"initial":if(!f)return(0,B.jsxs)(H.Z,{direction:"column",spacing:16,children:[(0,B.jsx)("div",{children:"No runs selected for re-execution."}),(0,B.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,B.jsx)(H.Z,{direction:"column",spacing:16,children:(0,B.jsx)("div",{children:r===P.hmq.ALL_STEPS?(0,B.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,B.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,B.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,B.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=f>0?x.reexecution.completed/f:1;return(0,B.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,B.jsx)(D.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===x.step?(0,B.jsx)(J.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===x.step)return null;if("reexecuting"===x.step)return(0,B.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=x.reexecution.errors,n=Object.keys(e).length,t=x.reexecution.completed-n;return(0,B.jsxs)(H.Z,{direction:"column",spacing:8,children:[t?(0,B.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,B.jsx)(v.JO,{name:"check_circle",color:C.w.Green500}),(0,B.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,B.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,B.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,B.jsx)(v.JO,{name:"warning",color:C.w.Yellow500}),(0,B.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,B.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,B.jsx)("li",{children:(0,B.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,B.jsx)(F.fv,{children:n.slice(0,8)}),e[n]?(0,B.jsx)("div",{children:q(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,B.jsx)(y.cN,{children:function(){switch(x.step){case"initial":return f?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,B.jsx)(p.zx,{intent:"primary",onClick:k,children:"Re-execute ".concat("".concat(f," ").concat(1===f?"run":"runs"))})]}):(0,B.jsx)(p.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,B.jsx)(p.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(f," ").concat(1===f?"run":"runs","..."))});case"completed":return(0,B.jsx)(p.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},X=t(20967),Y=t(21687),$=t(69654),W=t(37870),ee=w.memo((function(e){var n,t=e.run,i=e.onAddTag,r=w.useContext(K.Lw).refetch,d=w.useState("none"),x=(0,l.Z)(d,2),C=x[0],N=x[1],P=w.useContext(Z.I).rootServerURI,D=(0,b.k6)(),H=(0,T.m)(),F=(0,u.D)(K.kO,{onCompleted:r}),J=(0,l.Z)(F,1)[0],U=(0,h.t)(ie,{variables:{runId:t.id}}),q=(0,l.Z)(U,2),V=q[0],G=q[1],Q=G.called,ee=G.loading,ne=G.data,se=function(){N("none")},ae=function(){r()},ce="Run"===(null===ne||void 0===ne||null===(n=ne.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===ne||void 0===ne?void 0:ne.pipelineRunOrError:null,le=null===ce||void 0===ce?void 0:ce.runConfigYaml,de=(0,A.n)(ce),ue=(0,W.J)((0,c.Z)((0,c.Z)({},t),{},{parentPipelineSnapshotId:null===ce||void 0===ce?void 0:ce.parentPipelineSnapshotId})),he=X.cv.has(t.status),xe=!(!de||!(0,z.E8)(null===de||void 0===de?void 0:de.match,t.pipelineName)),pe=!!Q&&!ee,me=w.useMemo((function(){return t.hasReExecutePermission?ue?{disabled:ue.disabled,message:ue.tooltip}:pe?{disabled:!1}:{disabled:!0}:{disabled:!0,message:I.Qr}}),[t.hasReExecutePermission,ue,pe]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(p.zH,{children:[(0,B.jsx)(O.A,{to:"/runs/".concat(t.id),children:"View run"}),(0,B.jsx)(m.J,{content:(0,B.jsxs)(f.v2,{children:[(0,B.jsx)(f.sN,{tagName:"button",text:ee?"Loading configuration...":"View configuration...",disabled:!le,icon:"open_in_new",onClick:function(){return N("config")}}),(0,B.jsx)(f.sN,{tagName:"button",text:(0,B.jsxs)("div",{style:{display:"contents"},children:["View all tags",(0,B.jsx)(g.x,{flex:{justifyContent:"center",alignItems:"center",display:"inline-flex"},padding:{horizontal:8},children:(0,B.jsx)(re,{children:"t"})})]}),icon:"tag",onClick:function(){return N("tags")}}),t.pipelineSnapshotId?(0,B.jsx)(oe,{to:(0,_.sS)(t.pipelineName,t.pipelineSnapshotId),children:(0,B.jsx)(f.sN,{tagName:"button",icon:"job",text:"View snapshot",onClick:function(){return N("tags")}})}):null,(0,B.jsx)(f.R,{}),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(j.u,{content:t.hasReExecutePermission?te:S.U,position:"left",disabled:pe&&t.hasReExecutePermission,targetTagName:"div",children:(0,B.jsx)(E.U,{text:"Open in Launchpad...",disabled:!pe||!t.hasReExecutePermission,icon:"edit",to:(0,L.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===de||void 0===de?void 0:de.match.repository.name,repositoryLocationName:null===de||void 0===de?void 0:de.match.repositoryLocation.name,isJob:xe})})}),(0,B.jsx)(j.u,{content:me.message||"",position:"left",canShow:me.disabled,targetTagName:"div",children:(0,B.jsx)(f.sN,{tagName:"button",text:"Re-execute",disabled:me.disabled,icon:"refresh",onClick:(0,a.Z)((0,s.Z)().mark((function e(){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!de||!le){e.next=5;break}return e.next=3,J({variables:(0,K.kz)({run:(0,c.Z)((0,c.Z)({},t),{},{runConfigYaml:le}),style:{type:"all"},repositoryLocationName:de.match.repositoryLocation.name,repositoryName:de.match.repository.name})});case 3:i=e.sent,(0,K.lF)(t.pipelineName,null===(n=i.data)||void 0===n?void 0:n.launchPipelineReexecution,D,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),he||!t.hasTerminatePermission?null:(0,B.jsx)(f.sN,{tagName:"button",icon:"cancel",text:"Terminate",onClick:function(){return N("terminate")}}),(0,B.jsx)(f.R,{})]}),(0,B.jsx)(f.AL,{text:"Download debug file",icon:"download_for_offline",download:!0,href:"".concat(P,"/download_debug/").concat(t.id)}),t.hasDeletePermission?(0,B.jsx)(f.sN,{tagName:"button",icon:"delete",text:"Delete",intent:"danger",onClick:function(){return N("delete")}}):null]}),position:"bottom-right",onOpening:function(){Q||V()},children:(0,B.jsx)(p.zx,{icon:(0,B.jsx)(v.JO,{name:"expand_more"})})})]}),t.hasTerminatePermission?(0,B.jsx)($.A,{isOpen:"terminate"===C,onClose:se,onComplete:ae,selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,t.hasDeletePermission?(0,B.jsx)(M.N,{isOpen:"delete"===C,onClose:se,onComplete:ae,onTerminateInstead:function(){return N("terminate")},selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,(0,B.jsxs)(y.Vq,{isOpen:"tags"===C,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:se,children:[(0,B.jsx)(y.a7,{children:(0,B.jsx)(Y.Q,{tags:t.tags,mode:xe?"default"!==t.mode?t.mode:null:t.mode,onAddTag:i})}),(0,B.jsx)(y.cN,{topBorder:!0,children:(0,B.jsx)(p.zx,{intent:"primary",onClick:se,children:"Close"})})]}),(0,B.jsxs)(y.Vq,{isOpen:"config"===C,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:se,children:[(0,B.jsx)(k.NU,{value:le||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,B.jsxs)(y.cN,{topBorder:!0,children:[(0,B.jsx)(p.zx,{intent:"none",onClick:(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(le||""),e.next=3,(0,R.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"});case 3:case"end":return e.stop()}}),e)}))),children:"Copy config"}),(0,B.jsx)(p.zx,{intent:"primary",onClick:se,children:"OK"})]})]})]})})),ne=w.memo((function(e){var n=e.selected,t=e.clearSelection,i=w.useContext(K.Lw).refetch,r=w.useState("none"),s=(0,l.Z)(r,2),a=s[0],d=s[1],u=w.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),h=w.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),x=w.useMemo((function(){return n.some((function(e){return e.hasReExecutePermission}))}),[n]),g=!u&&!h,j=n.filter((function(e){return!X.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasTerminatePermission})),y=j.map((function(e){return e.id})),k=j.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),C=n.map((function(e){return e.id})),b=n.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),N=n.filter((function(e){return X.hd.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),Z=N.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),R=n.filter((function(e){return X.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),I=R.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),T=function(){d("none")},S=function(){t(),i()};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(m.J,{disabled:g||0===n.length,content:(0,B.jsxs)(f.v2,{children:[u?(0,B.jsx)(f.sN,{icon:"cancel",text:"Terminate ".concat(y.length," ").concat(1===y.length?"run":"runs"),disabled:0===y.length,onClick:function(){d("terminate")}}):null,h?(0,B.jsx)(f.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(C.length," ").concat(1===C.length?"run":"runs"),disabled:0===C.length,onClick:function(){d("delete")}}):null,x?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(R.length," ").concat(1===R.length?"run":"runs"),disabled:0===R.length,onClick:function(){d("reexecute")}}),(0,B.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(N.length," ").concat(1===N.length?"run":"runs"," from failure"),disabled:0===N.length,onClick:function(){d("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,B.jsx)(p.zx,{disabled:g||0===n.length,rightIcon:(0,B.jsx)(v.JO,{name:"expand_more"}),intent:"primary",children:"Actions"})}),(0,B.jsx)($.A,{isOpen:"terminate"===a,onClose:T,onComplete:S,selectedRuns:k}),(0,B.jsx)(M.N,{isOpen:"delete"===a,onClose:T,onComplete:S,onTerminateInstead:function(){return d("terminate")},selectedRuns:b}),(0,B.jsx)(Q,{isOpen:"reexecute-from-failure"===a,onClose:T,onComplete:S,selectedRuns:Z,reexecutionStrategy:P.hmq.FROM_FAILURE}),(0,B.jsx)(Q,{isOpen:"reexecute"===a,onClose:T,onComplete:S,selectedRuns:I,reexecutionStrategy:P.hmq.ALL_STEPS})]})})),te="Launchpad is unavailable because the pipeline is not present in the current repository.",ie=(0,x.Ps)(i||(i=(0,r.Z)(["\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n"]))),re=d.ZP.div.withConfig({displayName:"RunActionsMenu__SlashShortcut",componentId:"sc-1et2hvz-0"})(["border-radius:4px;padding:0px 6px;background:",";color:",";"],C.w.Gray100,C.w.Gray500),oe=(0,d.ZP)(N.rU).withConfig({displayName:"RunActionsMenu__LinkNoUnderline",componentId:"sc-1et2hvz-1"})(["text-decoration:none !important;"])},15352:function(e,n,t){t.d(n,{A:function(){return A},Z:function(){return M}});var i,r=t(71171),o=t(41361),s=t(96234),a=t(33028),c=t(60319),l=t(31623),d=t(47515),u=t(67445),h=t(58507),x=t(67888),p=t(17914),m=t(83473),f=t(32667),g=t(78193),j=t(97412),v=t(72691),y=t(9938),k=t(97734),C=t(48341),w=t(24265),b=t(85279),N=t(92761),Z=t(66708),R=t(80500),I=t(63167),T=t(74492),P=t(79234),S=t(25465),_=t(45081),O=t(21687),E=t(89622),z=t(35936),A=function(e){return(0,v.gV)().flagRunsTableFiltering?(0,z.jsx)(_.A,(0,a.Z)({},e)):(0,z.jsx)(L,(0,a.Z)({},e))},L=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,r=e.highlightedIds,a=e.actionBarComponents,c=n.map((function(e){return e.id})),l=(0,k.a)(c),m=(0,s.Z)(l,2),f=m[0].checkedIds,j=m[1],v=j.onToggleFactory,y=j.onToggleAll,C=g.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]),w=(0,N.vl)().options;if(0===n.length){var R=Object.keys(t||{}).length;return(0,z.jsxs)("div",{children:[a?(0,z.jsx)(d.x,{padding:{vertical:8,left:24,right:12},children:a}):null,(0,z.jsx)(d.x,{margin:{vertical:32},children:R?(0,z.jsx)(u.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,z.jsx)(u.t,{icon:"run",title:"No runs found",description:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,z.jsx)("div",{children:"You have not launched any runs yet."}),(0,z.jsxs)(d.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,z.jsx)(b.A,{icon:(0,z.jsx)(h.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,z.jsx)("span",{children:"or"}),(0,z.jsx)(b.A,{icon:(0,z.jsx)(h.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})]})}var I,T=!1,S=(0,o.Z)(n);try{for(S.s();!(I=S.n()).done;){var _=I.value,O=_.repositoryOrigin;if(O){var E=(0,Z.kQ)(O.repositoryName,O.repositoryLocationName),A=(0,N.qz)(w,E);if(!A||!(0,N.E8)(A,_.pipelineName)){T=!0;break}}}}catch(M){S.e(M)}finally{S.f()}var L=n.filter((function(e){return f.has(e.id)}));return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(d.x,{flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},children:[a,(0,z.jsx)("div",{style:{flex:1}}),(0,z.jsx)(P.m,{selected:L,clearSelection:function(){return y(!1)}})]}),(0,z.jsxs)(x.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:C?(0,z.jsx)(p.X,{indeterminate:f.size>0&&f.size!==n.length,checked:f.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&y(e.target.checked)}}):null}),(0,z.jsx)("th",{style:{width:120},children:"Status"}),(0,z.jsx)("th",{style:{width:90},children:"Run ID"}),(0,z.jsx)("th",{children:T?"Job / Pipeline":"Job"}),(0,z.jsx)("th",{style:{width:90},children:"Snapshot ID"}),(0,z.jsx)("th",{style:{width:190},children:"Timing"}),e.additionalColumnHeaders,(0,z.jsx)("th",{style:{width:52}})]})}),(0,z.jsx)("tbody",{children:n.map((function(n){var t;return(0,z.jsx)(D,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:f.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:v(n.id),isHighlighted:r&&r.includes(n.id)},n.id)}))})]})]})},M=(0,l.Ps)(i||(i=(0,r.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),E.$X),D=function(e){var n=e.run,t=e.canTerminateOrDelete,i=e.onAddTag,r=e.checked,o=e.onToggleChecked,s=e.additionalColumns,a=e.isHighlighted,c=n.pipelineName,l=(0,R.r)(n),u=g.useMemo((function(){if(l){var e=l.match.repository.pipelines.find((function(e){return e.name===c}));return!(null===e||void 0===e||!e.isJob)}return!1}),[l,c]);return(0,z.jsxs)(H,{highlighted:!!a,children:[(0,z.jsx)("td",{children:t&&o?(0,z.jsx)(p.X,{checked:!!r,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");o&&o({checked:n,shiftKey:t})}}}):null}),(0,z.jsx)("td",{children:(0,z.jsx)(S.M9,{status:n.status,runId:n.id})}),(0,z.jsx)("td",{children:(0,z.jsx)(j.rU,{to:"/runs/".concat(n.id),children:(0,z.jsx)(m.fv,{children:(0,E.EI)(n)})})}),(0,z.jsx)("td",{children:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:5},children:[(0,y.pv)(n.pipelineName)?(0,z.jsx)(T.m,{assetKeys:(0,E.Bo)(n)}):(0,z.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,z.jsx)(w.h,{isJob:u,showIcon:!0,pipelineName:n.pipelineName,pipelineHrefContext:"no-link"}),(0,z.jsx)(j.rU,{to:l?(0,I.jT)({repoName:l.match.repository.name,repoLocation:l.match.repositoryLocation.name,pipelineName:n.pipelineName,isJob:u}):(0,I.r4)(n.pipelineName),target:"_blank",children:(0,z.jsx)(h.JO,{name:"open_in_new",color:f.w.Blue500})})]}),(0,z.jsx)(O.Q,{tags:n.tags,mode:u?"default"!==n.mode?n.mode:null:n.mode,onAddTag:i})]})}),(0,z.jsx)("td",{children:(0,z.jsx)(C.J2,{snapshotId:n.pipelineSnapshotId||"",pipelineName:n.pipelineName,size:"normal"})}),(0,z.jsxs)("td",{children:[(0,z.jsx)(E.Zr,{run:n}),(0,z.jsx)(E.Tw,{run:n})]}),s,(0,z.jsx)("td",{children:(0,z.jsx)(P.K,{run:n})})]})},H=c.ZP.tr.withConfig({displayName:"RunTable__Row",componentId:"sc-18h8t3i-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}))},45081:function(e,n,t){t.d(n,{Z:function(){return F},A:function(){return H}});var i=t(71171),r=t(96234),o=t(60319),s=t(31623),a=t(47515),c=t(67445),l=t(58507),d=t(67888),u=t(17914),h=t(83473),x=t(95714),p=t(32667),m=t(72835),f=t(92555),g=t(3077),j=t(45519),v=t(78193),y=t(97412),k=t(30382),C=t(9938),w=t(97734),b=t(24265),N=t(85279),Z=t(80500),R=t(63167),I=t(74492),T=t(79234),P=t(44229),S=t(1360),_=t(68506),O=t(35936);function E(e){var n,t=e.run.tags||[],i=t.find((function(e){return e.key===_.H.ScheduleName})),r=t.find((function(e){return e.key===_.H.SensorName})),o=t.find((function(e){return e.key===_.H.User})),s=t.find((function(e){return e.key===_.H.Automaterialize||e.key===_.H.CreatedBy&&"auto_materialize"===e.value})),c=t.find((function(e){return e.key===_.H.CreatedBy})),l=(0,S.C)().UserDisplay;return n=o?(0,O.jsx)(l,{email:o.value}):i?(0,O.jsx)(x.V,{icon:"schedule",children:i.value},"schedule"):r?(0,O.jsx)(x.V,{icon:"sensors",children:r.value},"sensor"):s?(0,O.jsx)(x.V,{icon:"auto_materialize_policy",children:"Auto-materialize policy"},"automaterialize"):(0,O.jsx)(P.u,{content:"No user specified. Add a `dagster/user` tag to specify one",children:(0,O.jsx)(x.V,{icon:"account_circle",children:"Manually launched"})}),(0,O.jsx)(a.x,{flex:{direction:"column",alignItems:"flex-start"},children:n||(null===c||void 0===c?void 0:c.value)})}var z,A=t(25465),L=t(21687),M=t(89622),D=t(22264),H=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,o=e.highlightedIds,s=e.actionBarComponents,h=e.belowActionBarComponents,x=e.hideCreatedBy,p=n.map((function(e){return e.id})),m=(0,w.a)(p),f=(0,r.Z)(m,2),g=f[0].checkedIds,j=f[1],y=j.onToggleFactory,k=j.onToggleAll,C=v.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]);var b=n.filter((function(e){return g.has(e.id)}));return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(B,{top:(0,O.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center",grow:1},children:[s,(0,O.jsx)(T.m,{selected:b,clearSelection:function(){return k(!1)}})]}),bottom:h}),function(){if(0===n.length){var r=Object.keys(t||{}).length;return(0,O.jsx)("div",{children:(0,O.jsx)(a.x,{margin:{vertical:32},children:r?(0,O.jsx)(c.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,O.jsx)(c.t,{icon:"run",title:"No runs found",description:(0,O.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,O.jsx)("div",{children:"You have not launched any runs yet."}),(0,O.jsxs)(a.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,O.jsx)(N.A,{icon:(0,O.jsx)(l.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,O.jsx)("span",{children:"or"}),(0,O.jsx)(N.A,{icon:(0,O.jsx)(l.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})})}return(0,O.jsxs)(d.i,{children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:C?(0,O.jsx)(u.X,{indeterminate:g.size>0&&g.size!==n.length,checked:g.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&k(e.target.checked)}}):null}),(0,O.jsx)("th",{style:{width:90},children:"Run ID"}),(0,O.jsx)("th",{style:{width:180},children:"Created date"}),(0,O.jsx)("th",{children:"Target"}),x?null:(0,O.jsx)("th",{style:{width:160},children:"Launched by"}),(0,O.jsx)("th",{style:{width:120},children:"Status"}),(0,O.jsx)("th",{style:{width:190},children:"Duration"}),e.additionalColumnHeaders,(0,O.jsx)("th",{style:{width:52}})]})}),(0,O.jsx)("tbody",{children:n.map((function(n){var t;return(0,O.jsx)(J,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:g.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:y(n.id),isHighlighted:o&&o.includes(n.id)},n.id)}))})]})}()]})},F=(0,s.Ps)(z||(z=(0,i.Z)(["\n  fragment RunTableRunNewFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),M.$X),J=function(e){var n,t=e.run,i=e.canTerminateOrDelete,o=e.onAddTag,s=e.checked,c=e.onToggleChecked,d=e.additionalColumns,w=e.isHighlighted,N=e.hideCreatedBy,P=t.pipelineName,S=(0,Z.r)(t),z=v.useMemo((function(){if(S){var e=S.match.repository.pipelines.find((function(e){return e.name===P}));return!(null===e||void 0===e||!e.isJob)}return!1}),[S,P]),H=t.tags.some((function(e){return e.key===_.H.ParentRunId})),F=t.tags.find((function(e){return e.key===_.H.Backfill})),J=t.tags.find((function(e){return e.key===_.H.Partition})),B=t.tags.find((function(e){return e.key===_.H.PartitionSet})),q=t.tags.find((function(e){return e.key===_.H.AssetPartitionRangeStart})),V=t.tags.find((function(e){return e.key===_.H.AssetPartitionRangeEnd})),G=v.useState(!1),Q=(0,r.Z)(G,2),X=Q[0],Y=Q[1],$=v.useState(!1),W=(0,r.Z)($,2),ee=W[0],ne=W[1],te=v.useMemo((function(){var e=[];if(F){var n,i=null!==(n=t.assetSelection)&&void 0!==n&&n.length?"/overview/backfills/".concat(F.value):(0,D.it)([{token:"tag",value:"".concat(_.H.Backfill,"=").concat(F.value)}]);e.push({key:F.key,value:F.value,link:i})}return J?e.push(J):B?e.push(B):void 0!==q&&void 0!==V&&e.push(q,V),e}),[null===(n=t.assetSelection)||void 0===n?void 0:n.length,F,J,V,q,B]);return(0,O.jsxs)(K,{highlighted:!!w,onMouseEnter:function(){ne(!0)},onMouseLeave:function(){ne(!1)},children:[(0,O.jsx)("td",{children:i&&c?(0,O.jsx)(u.X,{checked:!!s,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");c&&c({checked:n,shiftKey:t})}}}):null}),(0,O.jsx)("td",{children:(0,O.jsx)(y.rU,{to:"/runs/".concat(t.id),children:(0,O.jsx)(h.fv,{children:(0,M.EI)(t)})})}),(0,O.jsx)("td",{children:(0,O.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,O.jsx)(M.Zr,{run:t}),H?(0,O.jsx)("div",{children:(0,O.jsx)(x.V,{icon:"cached",children:"Re-execution"})}):null]})}),(0,O.jsxs)("td",{style:{position:"relative"},children:[(0,O.jsxs)(a.x,{flex:{direction:"column",gap:5},children:[(0,C.pv)(t.pipelineName)?(0,O.jsx)(I.m,{assetKeys:(0,M.Bo)(t)}):(0,O.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,O.jsx)(b.h,{isJob:z,showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:"no-link"}),(0,O.jsx)(y.rU,{to:S?(0,R.jT)({repoName:S.match.repository.name,repoLocation:S.match.repositoryLocation.name,pipelineName:t.pipelineName,isJob:z}):(0,R.r4)(t.pipelineName),target:"_blank",children:(0,O.jsx)(l.JO,{name:"open_in_new",color:p.w.Blue500})})]}),(0,O.jsxs)(a.x,{flex:{direction:"row",gap:8,wrap:"wrap"},children:[t.tags.length?(0,O.jsx)(a.x,{children:(0,O.jsx)(m.m,{fillColor:p.w.Gray100,label:(0,O.jsxs)(f.Z,{onClick:function(){Y(!0)},children:[t.tags.length," tag",1===t.tags.length?"":"s"]})})}):null,(0,O.jsx)(U,{children:te.length?(0,O.jsx)(L.Q,{tags:te,mode:z?"default"!==t.mode?t.mode:null:t.mode,onAddTag:o}):null})]})]}),ee&&t.tags.length?(0,O.jsx)(k.b,{onShortcut:function(){Y((function(e){return!e}))},shortcutLabel:"t",shortcutFilter:function(e){return"KeyT"===e.code},children:null},"runtabletags"):null]}),N?null:(0,O.jsx)("td",{children:(0,O.jsx)(E,{run:t,onAddTag:o})}),(0,O.jsx)("td",{children:(0,O.jsx)(A.M9,{status:t.status,runId:t.id})}),(0,O.jsx)("td",{children:(0,O.jsx)(M.Tw,{run:t})}),d,(0,O.jsx)("td",{children:(0,O.jsx)(T.K,{run:t,onAddTag:o})}),(0,O.jsxs)(g.Vq,{isOpen:X,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:function(){Y(!1)},children:[(0,O.jsx)(g.a7,{children:(0,O.jsx)(L.Q,{tags:t.tags,mode:z?"default"!==t.mode?t.mode:null:t.mode,onAddTag:o})}),(0,O.jsx)(g.cN,{topBorder:!0,children:(0,O.jsx)(j.zx,{intent:"primary",onClick:function(){Y(!1)},children:"Close"})})]})]})},K=o.ZP.tr.withConfig({displayName:"RunTableNew__Row",componentId:"sc-13t9dsz-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}));function B(e){var n=e.top,t=e.bottom;return(0,O.jsxs)(a.x,{flex:{direction:"column"},padding:{vertical:12},children:[(0,O.jsx)(a.x,{flex:{alignItems:"center",gap:12},padding:{left:24,right:24},children:n}),t?(0,O.jsx)(a.x,{margin:{top:12},padding:{left:24,right:12,top:8},border:{side:"top",width:1,color:p.w.KeylineGray},flex:{gap:8},children:t}):null]})}var U=o.ZP.div.withConfig({displayName:"RunTableNew__RunTagsWrapper",componentId:"sc-13t9dsz-1"})(["display:contents;> *{display:contents;}"])},4774:function(e,n,t){t.d(n,{l:function(){return l}});var i=t(68079),r=t(33028),o=t(96234),s=t(90239),a=t(78193),c=t(46860);function l(e){var n=a.useState((function(){return[]})),t=(0,o.Z)(n,2),l=t[0],d=t[1],u=(0,c.q)({queryKey:"cursor"}),h=(0,o.Z)(u,2),x=h[0],p=h[1],m=(0,r.Z)((0,r.Z)({},e.variables),{},{cursor:x,limit:e.pageSize+1}),f=(0,s.a)(e.query,{skip:e.skip,variables:m,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(f.data),j={hasPrevCursor:!!x,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,i.Z)(l);p(e.pop()),d(e)},advanceCursor:function(){x&&d((function(e){return[].concat((0,i.Z)(e),[x])}));var n=f.data&&e.nextCursorForResult(f.data);n&&p(n)},reset:function(){d([]),p(void 0)}};return{queryResult:f,paginationProps:j}}},79986:function(e,n,t){t.d(n,{U:function(){return x}});var i=t(33028),r=t(59740),o=t(60319),s=t(85357),a=t(47515),c=t(58507),l=t(32667),d=(t(78193),t(97412)),u=t(35936),h=["icon","intent","text","disabled"],x=function(e){var n=e.icon,t=e.intent,o=e.text,c=e.disabled,l=(0,r.Z)(e,h);return c?(0,u.jsx)(s.sN,{disabled:!0,icon:n,intent:t,text:o}):(0,u.jsx)(p,(0,i.Z)((0,i.Z)({},l),{},{children:(0,u.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.cR)(n,t),(0,u.jsx)("div",{children:o})]})}))},p=(0,o.ZP)(d.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],c.a1,c.a1,l.w.Gray900,l.w.Gray100)}}]);
//# sourceMappingURL=715.3ae7b294.chunk.js.map