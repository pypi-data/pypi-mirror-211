"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[2],{34287:function(e,n,t){t.d(n,{R:function(){return u}});var i=t(68079),r=t(47515),s=t(58507),o=t(32667),a=t(14491),l=(t(78193),t(97412)),c=t(85514),d=t(35936),u=function(e){var n=e.path,t=e.icon,u=e.url,h=e.isGroup,p=e.textStyle,f=void 0===p?"break-word":p,x=u||(0,c.p)({path:n}),m=n.reduce((function(e,n,t){return[].concat((0,i.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(h?"/":"");return(0,d.jsxs)(r.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,d.jsx)(r.x,{margin:{right:8,top:2},children:(0,d.jsx)(s.JO,{name:t,color:o.w.Gray400})}):null,(0,d.jsx)(l.rU,{to:x,style:{overflow:"hidden"},children:"break-word"===f?(0,d.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,d.jsx)(a.g,{text:m})})]})}},64960:function(e,n,t){t.d(n,{s:function(){return a},v:function(){return l}});var i,r,s=t(71171),o=t(31623),a=(0,o.Ps)(i||(i=(0,s.Z)(["\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n"]))),l=(0,o.Ps)(r||(r=(0,s.Z)(["\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ","\n"])),a)},31127:function(e,n,t){t.d(n,{C1:function(){return ae},fv:function(){return se}});var i,r,s,o=t(68079),a=t(71171),l=t(96234),c=t(90239),d=t(31623),u=t(47515),h=t(21189),p=t(80923),f=t(293),x=t(58507),m=t(85357),g=t(8236),y=t.n(g),j=t(60457),v=t.n(j),w=t(78193),k=t(62638),N=t(92014),C=t(39707),b=t(46860),S=t(79936),A=t(13422),z=t(66708),_=t(33028),O=t(67445),P=t(17914),T=t(32667),Z=t(44229),I=t(45519),R=t(73070),E=t(35740),F=t(97734),q=t(25626),M=t(93015),W=t(12453),K=t(35936),G=function(e){var n=e.headerCheckbox,t=e.prefixPath,i=e.groups,r=e.checkedPaths,s=e.onToggleFactory,a=e.onWipe,l=e.showRepoColumn,c=e.view,d=void 0===c?"flat":c,u=w.useRef(null),h=Object.keys(i).length,p=(0,q.useVirtualizer)({count:h,getScrollElement:function(){return u.current},estimateSize:function(){return 64},overscan:5}),f=p.getTotalSize(),x=p.getVirtualItems(),m=w.useMemo((function(){return Object.keys(i).map((function(e){var n=[].concat((0,o.Z)(t),(0,o.Z)(JSON.parse(e))),r=i[e];return r.length>1||n.join("/")!==r[0].key.path.join("/")?{type:"folder",path:n,assets:r}:{type:"asset",path:n,asset:r[0]}}))}),[t,i]);return(0,K.jsx)("div",{style:{overflow:"hidden"},children:(0,K.jsxs)(M.W2,{ref:u,children:[(0,K.jsx)(W.R_,{headerCheckbox:n,view:d}),(0,K.jsx)(M.Nh,{$totalHeight:f,children:x.map((function(e){var n=e.index,t=e.key,i=e.size,o=e.start,c=m[n],u=JSON.stringify(c.path),h="folder"===c.type?c.assets:[c.asset];return(0,K.jsx)(W.pN,{view:d,type:"folder"===c.type?"folder":c.asset.definition?"asset":"asset_non_sda",path:c.path,definition:"asset"===c.type?c.asset.definition:null,repoAddress:function(){if("folder"===c.type||!c.asset.definition)return null;var e=c.asset.definition.repository;return(0,z.kQ)(e.name,e.location.name)}(),showCheckboxColumn:!0,showRepoColumn:l,height:i,start:o,checked:r.has(u),onToggleChecked:s(u),onWipe:function(){return a(h.map((function(e){return e.key})))}},t)}))})]})})},J=t(32723),L=t(34795),U=t(15541),$=t(3077),D=t(4537),B=t(9938),V=function(e){var n=e.assetKeys,t=e.isOpen,i=e.onClose,r=e.onComplete,s=e.requery,o=(0,U.D)(Q,{variables:{assetKeys:n.map((function(e){return{path:e.path||[]}}))},refetchQueries:s}),a=(0,l.Z)(o,1)[0],c=function(){var e=(0,L.Z)((0,J.Z)().mark((function e(){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a();case 4:r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,K.jsxs)($.Vq,{isOpen:t,title:"Wipe materializations",onClose:i,style:{width:600},children:[(0,K.jsx)($.a7,{children:(0,K.jsxs)(D.Z,{direction:"column",spacing:16,children:[(0,K.jsx)("div",{children:"Are you sure you want to wipe materializations for these assets?"}),(0,K.jsx)("ul",{style:{paddingLeft:32,margin:0},children:n.map((function(e){var n=(0,B.ll)(e);return(0,K.jsx)("li",{style:{marginBottom:4},children:n},n)}))}),(0,K.jsx)("div",{children:"Assets defined only by their historical materializations will disappear from the Asset Catalog. Software-defined assets will remain unless their definition is also deleted."}),(0,K.jsx)("strong",{children:"This action cannot be undone."})]})}),(0,K.jsxs)($.cN,{topBorder:!0,children:[(0,K.jsx)(I.zx,{intent:"none",onClick:i,children:"Cancel"}),(0,K.jsx)(I.zx,{intent:"danger",onClick:c,children:"Wipe"})]})]})},Q=(0,d.Ps)(i||(i=(0,a.Z)(["\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),k.B),X=t(30559),H=function(e){var n=e.assets,t=e.actionBarComponents,i=e.refreshState,r=e.prefixPath,s=e.displayPathForAsset,a=e.requery,c=e.searchPath,d=e.searchGroup,h=e.view,p=w.useState(),f=(0,l.Z)(p,2),m=f[0],g=f[1],y={};n.forEach((function(e){var n=JSON.stringify(s(e));y[n]=[].concat((0,o.Z)(y[n]||[]),[e])}));var j=(0,F.a)(Object.keys(y)),v=(0,l.Z)(j,2),k=v[0].checkedIds,N=v[1],b=N.onToggleFactory,S=N.onToggleAll,A=[],z=[],R=Object.keys(y).sort();R.forEach((function(e){k.has(e)&&(z.push(e),A.push.apply(A,(0,o.Z)(y[e]||[])))}));return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(u.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,K.jsxs)(u.x,{background:T.w.White,flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},style:{position:"sticky",top:0,zIndex:1},children:[t,(0,K.jsx)("div",{style:{flex:1}}),(0,K.jsx)(C.xi,{refreshState:i}),(0,K.jsxs)(u.x,{flex:{alignItems:"center",gap:8},children:[A.some((function(e){return!e.definition}))?(0,K.jsx)(Z.u,{content:"One or more selected assets are not software-defined and cannot be launched directly.",children:(0,K.jsx)(I.zx,{intent:"primary",icon:(0,K.jsx)(x.JO,{name:"materialization"}),disabled:!0,children:A.length>1?"Materialize (".concat(A.length.toLocaleString(),")"):"Materialize"})}):(0,K.jsx)(X.XE,{scope:{selected:A.map((function(e){return(0,_.Z)((0,_.Z)({},e.definition),{},{assetKey:e.key})}))}}),(0,K.jsx)(Y,{selected:A,clearSelection:function(){return S(!1)}})]})]}),n.length?(0,K.jsx)(G,{headerCheckbox:(0,K.jsx)(P.X,{indeterminate:z.length>0&&z.length!==R.length,checked:z.length>0&&z.length===R.length,onChange:function(e){e.target instanceof HTMLInputElement&&S(z.length!==R.length)}}),prefixPath:r,groups:y,checkedPaths:k,onToggleFactory:b,showRepoColumn:!0,view:h,onWipe:function(e){return g(e)}}):c?(0,K.jsx)(u.x,{padding:{top:64},children:(0,K.jsx)(O.t,{icon:"search",title:"No matching assets",description:d?(0,K.jsxs)("div",{children:["No assets matching ",(0,K.jsx)("strong",{children:c})," were found in"," ",(0,K.jsx)("strong",{children:d.groupName})]}):(0,K.jsxs)("div",{children:["No assets matching ",(0,K.jsx)("strong",{children:c})," were found"]})})}):(0,K.jsx)(u.x,{padding:{top:20},children:(0,K.jsx)(O.t,{icon:"search",title:"No assets",description:d?(0,K.jsxs)("div",{children:["No assets were found in ",(0,K.jsx)("strong",{children:d.groupName})]}):"No assets were found"})})]}),(0,K.jsx)(V,{assetKeys:m||[],isOpen:!!m,onClose:function(){return g(void 0)},onComplete:function(){return g(void 0)},requery:a})]})},Y=w.memo((function(e){var n=e.selected,t=e.clearSelection,i=e.requery,r=w.useState(!1),s=(0,l.Z)(r,2),o=s[0],a=s[1];if(!(0,E.WB)().permissions.canWipeAssets)return null;var c=0===n.length;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(R.J,{position:"bottom-right",content:(0,K.jsx)(m.v2,{children:(0,K.jsx)(m.sN,{text:"Wipe materializations",onClick:function(){return a(!0)},icon:(0,K.jsx)(x.JO,{name:"delete",color:c?T.w.Gray600:T.w.Red500}),disabled:c,intent:"danger"})}),children:(0,K.jsx)(I.zx,{icon:(0,K.jsx)(x.JO,{name:"expand_more"})})}),(0,K.jsx)(V,{assetKeys:n.map((function(e){return e.key})),isOpen:o,onClose:function(){return a(!1)},onComplete:function(){a(!1),t()},requery:i})]})})),ee=t(64960),ne=function(e){var n=e.prefixPath;return(0,K.jsx)(O.t,{icon:"asset",title:"Assets",description:(0,K.jsxs)("p",{children:[n&&n.length?"There are no matching materialized assets with the specified asset key. ":"There are no known materialized assets. ","Any asset keys that have been specified with an ",(0,K.jsx)("code",{children:"AssetMaterialization"})," during a pipeline run will appear here. See the"," ",(0,K.jsx)("a",{href:"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization",children:"AssetMaterialization documentation"})," ","for more information."]})})},te=t(4227),ie=t(79962),re=function(e){return"flat"===e||"directory"===e?e:"flat"};var se=function(e){var n=e.prefixPath,t=e.setPrefixPath,i=e.groupSelector,r=(0,ie.U)("AssetViewPreference",re),s=(0,l.Z)(r,2),a=s[0],d=s[1],f=(0,b.q)({queryKey:"q"}),x=(0,l.Z)(f,2),m=x[0],g=x[1],j=(0,b.q)({queryKey:"g",decode:function(e){return e.group?JSON.parse(e.group):null},encode:function(e){return{group:e?JSON.stringify(e):void 0}}}),v=(0,l.Z)(j,2),k=v[0],S=v[1],z=(m||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),_=function(e){var n=(0,c.a)(ae,{skip:!!e,notifyOnNetworkStatusChange:!0}),t=(0,c.a)(le,{skip:!e,variables:{group:e},notifyOnNetworkStatusChange:!0});return w.useMemo((function(){var i;if(e){var r,s=null===(r=t.data)||void 0===r?void 0:r.assetNodes;return{query:t,error:void 0,assets:null===s||void 0===s?void 0:s.map(ce)}}var o=null===(i=n.data)||void 0===i?void 0:i.assetsOrError;return{query:n,error:"PythonError"===(null===o||void 0===o?void 0:o.__typename)?o:void 0,assets:"AssetConnection"===(null===o||void 0===o?void 0:o.__typename)?o.nodes:void 0}}),[n,t,e])}(i),O=_.assets,P=_.query,T=_.error,Z=(0,te.f)(z,O||[]),I=w.useMemo((function(){return Z.filter((function(e){return!k||y()(de(e),k)}))}),[Z,k]),R="flat"===a?function(e,n){return{displayed:e,displayPathForAsset:function(e){return e.key.path}}}(I):function(e,n){var t=function(e){return e.key.path.slice(n.length,n.length+1)},i=e.filter((function(e){return e.key.path.join(",").startsWith(n.join(","))})),r=Array.from(new Set(i.map((function(e){return JSON.stringify(t(e))})))).map((function(e){return JSON.parse(e)})).sort();return{displayPathForAsset:t,displayed:ue(i,r.map((function(e){return[].concat((0,o.Z)(n),(0,o.Z)(e))})))}}(I,n),E=R.displayPathForAsset,F=R.displayed,q=(0,C.C4)(P,C.dT);return w.useEffect((function(){"directory"!==a&&n.length&&d("directory")}),[a,d,n]),T?(0,K.jsx)(N.T9,{error:T}):O?O.length?(0,K.jsx)(H,{view:a,assets:F,actionBarComponents:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(h.h,{activeItems:new Set([a]),buttons:[{id:"flat",icon:"view_list",tooltip:"List view"},{id:"directory",icon:"folder",tooltip:"Folder view"}],onClick:function(e){d(e),"flat"===e&&n.length&&t([])}}),(0,K.jsx)(p.oi,{value:m||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:n.length?"Filter asset keys in ".concat(n.join("/"),"\u2026"):"Filter asset keys\u2026",onChange:function(e){return g(e.target.value)}}),i?void 0:(0,K.jsx)(oe,{assets:O,value:k,onChange:S})]}),refreshState:q,prefixPath:n||[],searchPath:z,searchGroup:k,displayPathForAsset:E,requery:function(e){return[{query:ae}]}}):(0,K.jsx)(u.x,{padding:{vertical:64},children:(0,K.jsx)(ne,{prefixPath:n})}):(0,K.jsx)(A.T,{purpose:"page"})},oe=function(e){var n=e.assets,t=e.value,i=e.onChange,r=w.useMemo((function(){return v()((n||[]).map(de).filter((function(e){return!!e})),(function(e){return JSON.stringify(e)})).sort((function(e,n){return e.groupName.localeCompare(n.groupName)}))}),[n]),s=w.useMemo((function(){var e={};return r.forEach((function(n){return e[n.groupName]=e.hasOwnProperty(n.groupName)})),e}),[r]);return(0,K.jsx)(f.U5,{selectedItem:t,items:r,inputProps:{style:{width:220},placeholder:"Filter asset groups\u2026",rightElement:t?(0,K.jsx)(S.C,{onClick:function(){return i(null)},style:{marginTop:5,marginRight:4},children:(0,K.jsx)(x.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(e){return e.groupName},itemPredicate:function(e,n){return 0===e.length||n.groupName.includes(e)},itemsEqual:y(),itemRenderer:function(e,n){return(0,K.jsx)(m.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,K.jsxs)(K.Fragment,{children:[e.groupName,s[e.groupName]?(0,K.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,z.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})},JSON.stringify(e))},noResults:(0,K.jsx)(m.sN,{disabled:!0,text:"No asset groups"}),onItemSelect:i})},ae=(0,d.Ps)(r||(r=(0,a.Z)(["\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),ee.v,k.B),le=(0,d.Ps)(s||(s=(0,a.Z)(["\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"])),ee.s);function ce(e){return{__typename:"Asset",id:e.id,key:e.assetKey,definition:e}}function de(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}var ue=function(e,n){return e.filter((function(e){return n.some((function(n){return n.every((function(n,t){return n===e.key.path[t]}))}))}))}},4227:function(e,n,t){t.d(n,{f:function(){return o},h:function(){return a}});var i=t(78193),r=t(9938),s=function(e){return i.useMemo((function(){return(e||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim()}),[e])},o=function(e,n){var t=s(e);return i.useMemo((function(){return t?n.filter((function(e){return(0,r.Je)(e.key).toLowerCase().includes(t)})):n}),[n,t])},a=function(e,n){var t=s(e);return i.useMemo((function(){return t?n.filter((function(e){return(0,r.Je)(e.assetKey).toLowerCase().includes(t)})):n}),[n,t])}},12434:function(e,n,t){t.d(n,{b:function(){return x}});var i=t(60319),r=t(47515),s=t(58507),o=t(32667),a=t(14491),l=t(62459),c=t(44229),d=(t(78193),t(97412)),u=t(9610),h=t(63167),p=t(9346),f=t(35936),x=function(e){var n=e.repoAddress,t=e.showIcon,i=void 0!==t&&t,c=e.showRefresh,d=void 0===c||c,x=n.location,j=(0,u.Uz)(n);return(0,f.jsxs)(r.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:j,children:[i&&(0,f.jsx)(s.JO,{name:"folder",style:{marginRight:8},color:o.w.Gray400}),(0,f.jsx)(m,{to:(0,h.$U)(n),style:{flex:1},children:(0,f.jsx)(a.g,{text:j})}),d?(0,f.jsx)(p.s,{location:x,ChildComponent:function(e){var n=e.codeLocation,t=e.tryReload,i=e.reloading,r=e.hasReloadPermission;return(0,f.jsx)(g,{content:r?i?"Reloading\u2026":(0,f.jsxs)(f.Fragment,{children:["Reload location ",(0,f.jsx)("strong",{children:n})]}):p.H,children:i?(0,f.jsx)(l.$,{purpose:"body-text"}):(0,f.jsx)(y,{disabled:!r,onClick:t,children:(0,f.jsx)(s.JO,{name:"refresh",color:r?o.w.Gray400:o.w.Gray300})})})}}):null]})},m=(0,i.ZP)(d.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),g=(0,i.ZP)(c.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),y=i.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:disabled{cursor:default;}:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],s.a1,s.a1,o.w.Blue500)},73765:function(e,n,t){t.d(n,{I:function(){return j}});var i=t(96234),r=t(95714),s=t(92555),o=t(32667),a=t(47515),l=t(44229),c=t(57103),d=t(14491),u=t(78193),h=t(97412),p=t(26756),f=t(65033),x=t(20876),m=t(63167),g=t(33385),y=t(35936),j=function(e){var n=e.schedules,t=e.sensors,a=e.repoAddress,l=e.showSwitch,c=void 0===l||l,d=u.useState(!1),h=(0,i.Z)(d,2),p=h[0],f=h[1],x=n.length,m=t.length;if(x>1||m>1||x&&m){var j=x&&m?"".concat(x+m," schedules/sensors"):x?"".concat(x," schedules"):"".concat(m," sensors"),k=x>1?"schedule":"sensors";return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.V,{icon:k,children:(0,y.jsx)(s.Z,{onClick:function(){return f(!0)},color:o.w.Link,children:j})}),(0,y.jsx)(g.f,{isOpen:p,onClose:function(){return f(!1)},repoAddress:a,schedules:n,sensors:t,showSwitch:c})]})}return x?(0,y.jsx)(v,{schedule:n[0],repoAddress:a,showSwitch:c}):m?(0,y.jsx)(w,{sensor:t[0],repoAddress:a,showSwitch:c}):null},v=function(e){var n=e.schedule,t=e.repoAddress,i=e.showSwitch,s=n.cronSchedule,o=n.executionTimezone,d="RUNNING"===n.scheduleState.status,u=(0,y.jsx)(r.V,{intent:d?"primary":"none",icon:"schedule",children:(0,y.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,y.jsx)(h.rU,{to:(0,m.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,f.A)(s,o||"UTC")}),i?(0,y.jsx)(p.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,y.jsx)(l.u,{placement:"top-start",content:(0,y.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,y.jsxs)("div",{children:["Name: ",(0,y.jsx)("strong",{children:n.name})]}),(0,y.jsxs)("div",{children:["Cron:"," ",(0,y.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,y.jsxs)("div",{children:["Timezone: ",(0,y.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:u}):u},w=function(e){var n=e.sensor,t=e.repoAddress,i=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,y.jsx)(r.V,{intent:s?"primary":"none",icon:"sensors",children:(0,y.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,y.jsx)(h.rU,{to:(0,m.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,y.jsx)(d.g,{text:n.name})}),i?(0,y.jsx)(x.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},12453:function(e,n,t){t.d(n,{R_:function(){return J},XC:function(){return L},pN:function(){return G}});var i,r=t(71171),s=t(33028),o=t(96234),a=t(60319),l=t(90239),c=t(31623),d=t(32667),u=t(17914),h=t(47515),p=t(83473),f=t(58507),x=t(78193),m=t(97412),g=t(1497),y=t(2528),j=t(9938),v=t(65778),w=t(73070),k=t(85357),N=t(44229),C=t(62459),b=t(45519),S=t(35740),A=t(79986),z=t(63167),_=t(30559),O=t(85514),P=t(35936),T=function(e){var n=e.repoAddress,t=e.path,i=e.definition,r=e.onWipe,s=(0,S.xz)(null===n||void 0===n?void 0:n.location).permissions,o=s.canWipeAssets,a=s.canLaunchPipelineExecution,l=(0,_.DO)(),c=l.onClick,d=l.loading,u=l.launchpadElement;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.J,{position:"bottom-right",content:(0,P.jsxs)(k.v2,{children:[(0,P.jsx)(N.u,{content:a?"Shift+click to add configuration":"You do not have permission to materialize assets",placement:"left",display:"block",useDisabledButtonTooltipFix:!0,children:(0,P.jsx)(k.sN,{text:"Materialize",icon:d?(0,P.jsx)(C.$,{purpose:"body-text"}):"materialization",disabled:!a||d,onClick:function(e){return c([{path:t}],e)}})}),(0,P.jsx)(A.U,{text:"Show in group",to:n&&null!==i&&void 0!==i&&i.groupName?(0,z.$U)(n,"/asset-groups/".concat(i.groupName)):"",disabled:!i,icon:"asset_group"}),(0,P.jsx)(A.U,{text:"View neighbors",to:(0,O.p)({path:t},{view:"lineage",lineageScope:"neighbors"}),disabled:!i,icon:"graph_neighbors"}),(0,P.jsx)(A.U,{text:"View upstream assets",to:(0,O.p)({path:t},{view:"lineage",lineageScope:"upstream"}),disabled:!i,icon:"graph_upstream"}),(0,P.jsx)(A.U,{text:"View downstream assets",to:(0,O.p)({path:t},{view:"lineage",lineageScope:"downstream"}),disabled:!i,icon:"graph_downstream"}),(0,P.jsx)(k.sN,{text:"Wipe materializations",icon:"delete",disabled:!r||!o,intent:"danger",onClick:function(){return o&&r&&r([{path:t}])}})]}),children:(0,P.jsx)(b.zx,{icon:(0,P.jsx)(f.JO,{name:"expand_more"})})}),u]})},Z=t(34287),I=t(46089),R=t(50021),E=t(77233),F=t(12434),q=t(46856),M=t(93015),W="1.3fr 1fr 80px",K="76px 1.3fr 1.3fr 1.3fr 80px",G=function(e){var n,t=e.path,i=e.definition,r=e.type,a=e.repoAddress,c=e.start,w=e.height,k=e.checked,N=e.onToggleChecked,C=e.onWipe,b=e.showCheckboxColumn,S=void 0!==b&&b,A=e.showRepoColumn,_=e.view,W=void 0===_?"flat":_,K=function(e,n){var t=x.useState([]),i=(0,o.Z)(t,2),r=i[0],a=i[1],c=(0,v.le)("asset"===n?r:[]),d=c.liveDataByNode,u=(0,l.a)(D,{skip:"asset_non_sda"!==n||0===r.length,variables:{input:r[0]}}),h=u.data;if(x.useEffect((function(){if("folder"!==n){var t=setTimeout((function(){a(e?[{path:e}]:[])}),$);return function(){return clearTimeout(t)}}}),[n,e]),"asset"===n)return d[(0,j.Wu)({path:e})];if("asset_non_sda"===n)return(0,s.Z)((0,s.Z)({},j.Se),{},{lastMaterialization:"Asset"===(null===h||void 0===h?void 0:h.assetOrError.__typename)?h.assetOrError.assetMaterializations[0]:null});return null}(t,r),G=(0,O.p)({path:t});return(0,P.jsx)(M.X2,{$height:w,$start:c,children:(0,P.jsxs)(U,{border:{side:"bottom",width:1,color:d.w.KeylineGray},$showRepoColumn:A,children:[S?(0,P.jsx)(M.E5,{children:(0,P.jsx)(u.X,{checked:k,onChange:function(e){if(N&&e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");N({checked:n,shiftKey:t})}}})}):null,(0,P.jsxs)(M.E5,{children:[(0,P.jsxs)(h.x,{flex:{alignItems:"center"},children:[(0,P.jsx)("div",{style:{flex:1,minWidth:0},children:(0,P.jsx)(Z.R,{path:"folder"===r||"directory"===W?t.slice(-1):t,url:G,isGroup:"folder"===r,icon:r,textStyle:"middle-truncate"})}),i&&(0,P.jsx)(E.hG,{reduceColor:!0,reduceText:!0,definition:i,style:{position:"relative"}})]}),(0,P.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,P.jsx)(p.YS,{style:{color:d.w.Gray500,whiteSpace:"nowrap"},children:null===i||void 0===i?void 0:i.description})})]}),A?(0,P.jsx)(M.E5,{children:a?(0,P.jsxs)(h.x,{flex:{direction:"column",gap:4},style:{maxWidth:"100%",overflow:"hidden"},children:[(0,P.jsx)(F.b,{repoAddress:a,showIcon:!0,showRefresh:!1}),i&&i.groupName?(0,P.jsx)(m.rU,{to:(0,z.$U)(a,"/asset-groups/".concat(i.groupName)),children:(0,P.jsxs)(h.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,P.jsx)(f.JO,{color:d.w.Gray400,name:"asset_group"}),i.groupName]})}):null]}):(0,P.jsx)("span",{children:"\u2013"})}):null,(0,P.jsx)(M.E5,{children:null!==i&&void 0!==i&&i.partitionDefinition?(0,P.jsxs)(h.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,P.jsx)(I.ux,{partitionStats:null===K||void 0===K?void 0:K.partitionStats}),(0,P.jsx)(p.YS,{children:(0,I._e)(null===K||void 0===K||null===(n=K.partitionStats)||void 0===n?void 0:n.numPartitions)})]}):(0,P.jsxs)(h.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[i?(0,P.jsx)(h.x,{style:{whiteSpace:"nowrap"},flex:{direction:"row",alignItems:"center",gap:8},children:(0,g.D5)({assetKey:{path:t},definition:i,expanded:!0,liveData:K}).content}):null!==K&&void 0!==K&&K.lastMaterialization?(0,P.jsx)(y.T,{runId:K.lastMaterialization.runId,event:{stepKey:K.stepKey,timestamp:K.lastMaterialization.timestamp},children:(0,P.jsx)(q.v,{timestamp:Number(K.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})}):(0,P.jsx)("div",{style:{color:d.w.Gray500},children:K||"folder"===r?"\u2013":"Loading"}),K&&(0,P.jsx)(R.f4,{assetKey:{path:t},liveData:K,include:"all"})]})}),(0,P.jsx)(M.E5,{children:"folder"!==r?(0,P.jsx)(T,{path:t,definition:i,repoAddress:a,onWipe:C}):null})]})})},J=function(e){var n=e.headerCheckbox,t=e.view;return(0,P.jsxs)(h.x,{background:d.w.White,border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:K,height:"32px",fontSize:"12px",color:d.w.Gray600,position:"sticky",top:0,zIndex:1},children:[(0,P.jsx)(M.qN,{children:n}),(0,P.jsx)(M.qN,{children:"flat"===t?"Asset name":"Asset key prefix"}),(0,P.jsx)(M.qN,{children:"Code location / Asset group"}),(0,P.jsx)(M.qN,{children:"Status"}),(0,P.jsx)(M.qN,{})]})},L=function(e){var n=e.nameLabel;return(0,P.jsxs)(h.x,{border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:W,height:"32px",fontSize:"12px",color:d.w.Gray600},children:[(0,P.jsx)(M.qN,{children:n}),(0,P.jsx)(M.qN,{children:"Status"}),(0,P.jsx)(M.qN,{})]})},U=(0,a.ZP)(h.x).withConfig({displayName:"VirtualizedAssetRow__RowGrid",componentId:"sc-12bv5lt-0"})(["display:grid;grid-template-columns:",";height:100%;"],(function(e){return e.$showRepoColumn?K:W})),$=250;var D=(0,c.Ps)(i||(i=(0,r.Z)(["\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n"])))}}]);
//# sourceMappingURL=2.45988736.chunk.js.map