{
  "type": "object",
  "properties": {
    "ioc_name": {
      "type": "string",
      "description": "Name of IOC instance"
    },
    "description": {
      "type": "string",
      "description": "Description of what the IOC does"
    },
    "entities": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "max_bytes": {
                "type": "integer",
                "description": "Max size in bytes for sending arrays over channel access",
                "default": 6000000
              },
              "type": {
                "type": "string",
                "const": "epics.EpicsCaMaxArrayBytes",
                "default": "epics.EpicsCaMaxArrayBytes"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "minutes_west": {
                "type": "integer",
                "description": "relative time zone minutes",
                "default": 0
              },
              "type": {
                "type": "string",
                "const": "epics.EpicsTsMinWest",
                "default": "epics.EpicsTsMinWest"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "pv": {
                "type": "string",
                "description": "Name of PV"
              },
              "value": {
                "type": "string",
                "description": "Value to set"
              },
              "type": {
                "type": "string",
                "const": "epics.Dbpf",
                "default": "epics.Dbpf"
              }
            },
            "required": [
              "pv",
              "value"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "name": {
                "type": "string",
                "description": "Name of environment variable"
              },
              "value": {
                "type": "string",
                "description": "Value of environment variable"
              },
              "type": {
                "type": "string",
                "const": "epics.EpicsEnvSet",
                "default": "epics.EpicsEnvSet"
              }
            },
            "required": [
              "name",
              "value"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "command": {
                "type": "string",
                "description": "command string",
                "default": ""
              },
              "type": {
                "type": "string",
                "const": "epics.StartupCommand",
                "default": "epics.StartupCommand"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "command": {
                "type": "string",
                "description": "command string",
                "default": ""
              },
              "type": {
                "type": "string",
                "const": "epics.PostStartupCommand",
                "default": "epics.PostStartupCommand"
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "entity_enabled": {
                "type": "boolean",
                "default": true
              },
              "name": {
                "type": "string",
                "description": "A name for an interrupt vector variable",
                "vscode_ibek_plugin_type": "type_id"
              },
              "count": {
                "type": "integer",
                "description": "The number of interrupt vectors to reserve",
                "default": 1
              },
              "type": {
                "type": "string",
                "const": "epics.InterruptVectorVME",
                "default": "epics.InterruptVectorVME"
              }
            },
            "required": [
              "name"
            ],
            "additionalProperties": false
          }
        ]
      },
      "description": "List of entities this IOC instantiates"
    },
    "generic_ioc_image": {
      "type": "string",
      "description": "The generic IOC container image registry URL"
    }
  },
  "required": [
    "ioc_name",
    "description",
    "entities",
    "generic_ioc_image"
  ],
  "additionalProperties": false,
  "$schema": "http://json-schema.org/draft-07/schema#"
}