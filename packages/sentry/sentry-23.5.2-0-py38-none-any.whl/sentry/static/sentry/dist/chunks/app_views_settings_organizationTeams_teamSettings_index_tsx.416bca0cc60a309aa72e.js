"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationTeams_teamSettings_index_tsx"],{"./app/data/forms/teamSettingsFields.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>o,route:()=>n}),s("../node_modules/core-js/modules/es.array.unshift.js");var a=s("./app/locale.tsx"),i=s("./app/utils/slugify.tsx");const n="/settings/:orgId/teams/:teamId/settings/",o=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:(0,a.t)("Team Slug"),placeholder:"e.g. api-team",help:(0,a.t)("A unique ID used to identify the team"),transformInput:i.Z,disabled:e=>{let{hasTeamWrite:t}=e;return!t},saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,a.t)("You will be redirected to the new team slug after saving")}]},{title:"Team Organization Role",fields:[{name:"orgRole",type:"select",choices:e=>{let{orgRoleList:t}=e;const s=t.map((e=>[e.id,e.name]))??[];return s.unshift(["","None"]),s},required:!1,label:(0,a.t)("Organization Role"),help:(0,a.t)("Organization owners can bulk assign an org-role for all the members in this team"),disabled:e=>{let{hasOrgAdmin:t,idpProvisioned:s}=e;return!t||s},visible:e=>{let{hasOrgRoleFlag:t}=e;return t},saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,a.t)("You are giving all team members the permissions of this organization role")}]}]},"./app/utils/slugify.tsx":(e,t,s)=>{function a(e){return e.normalize("NFKD").toLowerCase().replace(" ","-").replace(/[^a-z0-9-_]/g,"")}s.d(t,{Z:()=>a})},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var a=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends a.Z{getTitle(){return""}render(){return(0,n.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/organizationTeams/teamSettings/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/es.regexp.flags.js"),s("../node_modules/react/index.js")),n=s("../node_modules/react-router/es/index.js"),o=s("./app/actionCreators/indicator.tsx"),r=s("./app/actionCreators/teams.tsx"),l=s("./app/components/acl/access.tsx"),m=s("./app/components/button.tsx"),p=s("./app/components/confirm.tsx"),d=s("./app/components/forms/fieldGroup/index.tsx"),c=s("./app/components/forms/form.tsx"),u=s("./app/components/forms/jsonForm.tsx"),g=s("./app/components/panels/index.tsx"),h=s("./app/data/forms/teamSettingsFields.tsx"),x=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),v=s("./app/utils/withDomainRequired.tsx"),b=s("./app/utils/withOrganization.tsx"),w=s("./app/views/asyncView.tsx"),y=s("./app/views/settings/project/permissionAlert.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class T extends w.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleSubmitSuccess",((e,t,s)=>{const{organization:a}=this.props;(0,r.z_)(this.props.team.slug,e),"slug"===s&&((0,o.S9)((0,f.t)("Team name changed")),n.browserHistory.replace((0,v.D)(`/settings/${a.slug}/teams/${e.slug}/settings/`)),this.setState({loading:!0}))})),(0,a.Z)(this,"handleRemoveTeam",(async()=>{const{organization:e,params:t}=this.props;try{await(0,r.tT)(this.api,{orgId:e.slug,teamId:t.teamId}),n.browserHistory.replace((0,v.D)(`/settings/${e.slug}/teams/`))}catch{}}))}getTitle(){return"Team Settings"}getEndpoints(){return[]}renderBody(){const{organization:e,team:t}=this.props,s=t.flags["idp:provisioned"],a=e.orgRoleList,n=e.features.includes("org-roles-for-teams"),r=(0,l.d)(["team:write"],{organization:e,team:t}),v=(0,l.d)(["team:admin"],{organization:e,team:t}),b=(0,l.d)(["org:admin"],{organization:e});return(0,Z.BX)(i.Fragment,{children:[(0,Z.tZ)(y.Z,{access:["team:write"],team:t}),(0,Z.tZ)(c.Z,{apiMethod:"PUT",apiEndpoint:`/teams/${e.slug}/${t.slug}/`,saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:()=>(0,o.Iw)((0,f.t)("Unable to save change")),initialData:{name:t.name,slug:t.slug,orgRole:t.orgRole},children:(0,Z.tZ)(u.Z,{additionalFieldProps:{idpProvisioned:s,hasOrgRoleFlag:n,hasTeamWrite:r,hasOrgAdmin:b,orgRoleList:a},forms:h.default})}),(0,Z.BX)(g.s_,{children:[(0,Z.tZ)(g.V9,{children:(0,f.t)("Team Administration")}),(0,Z.tZ)(d.Z,{label:(0,f.t)("Remove Team"),help:(0,f.t)("This may affect team members' access to projects and associated alert delivery."),children:(0,Z.tZ)("div",{children:(0,Z.tZ)(p.Z,{disabled:!v,onConfirm:this.handleRemoveTeam,priority:"danger",message:(0,f._N)("Are you sure you want to remove the team [team]?",{team:`#${t.slug}`}),children:(0,Z.tZ)(m.zx,{icon:(0,Z.tZ)(x.Fz,{}),priority:"danger","data-test-id":"button-remove-team",children:(0,f.t)("Remove Team")})})})})]})]})}}const j=(0,b.Z)(T)},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var a=s("./app/components/acl/access.tsx"),i=s("./app/components/alert.tsx"),n=s("./app/locale.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{access:t=["project:write"],project:s,team:r,...l}=e;return(0,o.tZ)(a.Z,{access:t,project:s,team:r,children:e=>{let{hasAccess:t}=e;return!t&&(0,o.tZ)(i.bZ,{"data-test-id":"project-permission-alert",type:"warning",...l,children:(0,n.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.")})}})}r.displayName="PermissionAlert";const l=r}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationTeams_teamSettings_index_tsx.dc17c1e4bece444726f9723f0c26c7e2.js.map