"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,n)=>{n.r(e),n.d(e,{default:()=>vt});var i=n("../node_modules/query-string/index.js"),o=n("./app/components/onboarding/onboardingContext.tsx"),r=n("./app/utils/integrationUtil.tsx"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),l=n("./app/actionCreators/projects.tsx"),p=n("./app/components/acl/feature.tsx"),d=n("./app/components/alert.tsx"),c=n("./app/components/button.tsx"),u=n("./app/components/buttonBar.tsx"),m=n("./app/components/errors/notFound.tsx"),g=n("./app/components/hookOrDefault.tsx"),h=n("./app/components/links/externalLink.tsx"),f=n("./app/components/loadingError.tsx"),Z=n("./app/components/loadingIndicator.tsx"),x=n("./app/components/onboarding/documentationWrapper.tsx"),y=n("./app/components/onboarding/footer.tsx"),w=n("./app/components/sentryDocumentTitle.tsx"),k=n("./app/data/platformCategories.tsx"),v=n("./app/data/platforms.tsx"),b=n("./app/icons/index.tsx"),z=n("./app/locale.tsx"),j=n("./app/stores/configStore.tsx"),I=n("./app/styles/space.tsx"),S=n("./app/utils/useApi.tsx"),D=n("./app/utils/useOrganization.tsx"),_=n("./app/utils/useProjects.tsx"),B=n("./app/utils/withDomainRequired.tsx"),C=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const P=(0,g.Z)({hookName:"component:set-up-sdk-doc"});function $(t){let{organization:e,projectSlug:n,platform:i}=t;const o=(0,S.Z)(),[r,a]=(0,s.useState)(!0),[p,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),g=(0,s.useCallback)((async()=>{a(!0);try{const{html:t}=await(0,l.iC)({api:o,orgSlug:e.slug,projectSlug:n,platform:i.key});m(t),window.scrollTo(0,0)}catch(t){c(t)}a(!1)}),[o,e.slug,n,i.key]);return(0,s.useEffect)((()=>{g()}),[g]),(0,C.BX)("div",{children:[(0,C.tZ)(d.bZ,{type:"info",showIcon:!0,children:(0,z._N)("\n           This is a quick getting started guide. For in-depth instructions\n           on integrating Sentry with [platform], view\n           [docLink:our complete documentation].",{platform:i.name,docLink:(0,C.tZ)(h.Z,{href:i.link??void 0})})}),r?(0,C.tZ)(Z.Z,{}):p?(0,C.tZ)(f.Z,{onRetry:g}):(0,C.BX)(s.Fragment,{children:[(0,C.tZ)(w.Z,{title:`${(0,z.t)("Configure")} ${i.name}`,projectSlug:n}),(0,C.tZ)(x.l,{dangerouslySetInnerHTML:{__html:u}})]})]})}function T(t){let{location:e,params:n,route:i,router:o}=t;const r=(0,D.Z)(),a=j.Z.get("isSelfHosted"),{projects:l,initiallyLoaded:d}=(0,_.Z)({slugs:[n.projectId],orgId:r.slug}),g=!d,h=g?void 0:l.find((t=>t.slug===n.projectId)),f=!!r?.features.includes("onboarding-heartbeat-footer"),Z=n.platform??"other",x=v.Z.find((t=>t.id===Z)),w={key:Z,id:x?.id,name:x?.name,link:x?.link},I=(0,s.useCallback)((()=>{h?.slug&&o.push((0,B.D)(`/organizations/${r.slug}/projects/${h.slug}/getting-started/`))}),[r.slug,h?.slug,o]);if((0,s.useEffect)((()=>{w.key&&"other"!==w.key||I()}),[w.key,I]),!w.id)return(0,C.tZ)(m.Z,{});const S=`/organizations/${r.slug}/issues/`,T=`/organizations/${r.slug}/performance/`,E=`/organizations/${r.slug}/projects/${n.projectId}/getting-started/`,L=k.Sv.includes(w.id),M=window.location.href.indexOf("getting-started")>0;return h?(0,C.BX)(s.Fragment,{children:[(0,C.BX)(F,{children:[(0,C.tZ)("h2",{children:(0,z.t)("Configure %(platform)s SDK",{platform:w.name})}),(0,C.BX)(u.ZP,{gap:1,children:[(0,C.tZ)(c.zx,{icon:(0,C.tZ)(b.g6,{direction:"left",size:"sm"}),size:"sm",to:E,children:(0,z.t)("Back")}),(0,C.tZ)(c.zx,{size:"sm",href:w.link??void 0,external:!0,children:(0,z.t)("Full Documentation")})]})]}),(0,C.BX)("div",{children:[a?(0,C.tZ)($,{organization:r,projectSlug:h.slug,platform:w}):(0,C.tZ)(P,{organization:r,project:h,location:e,platform:w}),M&&L&&(0,C.tZ)(p.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,C.tZ)(N,{type:"info",showIcon:!0,children:(0,z.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),M&&f?(0,C.tZ)(y.$,{projectSlug:n.projectId,projectId:h?.id,route:i,router:o,location:e}):(0,C.BX)(X,{gap:1,children:[(0,C.tZ)(c.zx,{priority:"primary",busy:g,to:{pathname:S,query:h?.id,hash:"#welcome"},children:(0,z.t)("Take me to Issues")}),(0,C.tZ)(c.zx,{busy:g,to:{pathname:T,query:h?.id},children:(0,z.t)("Take me to Performance")})]})]})]}):null}$.displayName="SetUpGeneralSdkDoc",T.displayName="ProjectInstallPlatform";const X=(0,a.Z)(u.ZP,{target:"e1f5kh8r2"})("margin-top:",(0,I.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,I.D)(1),";grid-auto-flow:row;}"),F=(0,a.Z)("div",{target:"e1f5kh8r1"})("display:flex;justify-content:space-between;margin-bottom:",(0,I.D)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,I.D)(2),";}}"),N=(0,a.Z)(d.bZ,{target:"e1f5kh8r0"})("margin-top:",(0,I.D)(2),";");var E=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),L=n("../node_modules/react-router/es/index.js"),M=n("./app/components/asyncComponent.tsx"),O=n("./app/utils/analytics.tsx"),q=n("./app/utils/withOrganization.tsx"),A=n("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),H=n("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),W=n("./app/views/settings/organizationIntegrations/addIntegrationButton.tsx"),G=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),K=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),V=n("./app/styles/pulsingIndicator.tsx"),R=n("./app/utils/eventWaiter.tsx"),U=n("./app/utils/testableTransition.tsx");function Y(t){let{children:e,...n}=t;return(0,C.tZ)(R.Z,{...n,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,C.tZ)(J,{firstIssue:i,...n}),firstEventButton:(0,C.tZ)(c.zx,{title:(0,z.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,O.Gi)("growth.onboarding_take_to_error",{organization:n.organization}),to:`/organizations/${n.organization.slug}/issues/${i&&!0!==i&&"id"in i?`${i.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,z.t)("Take me to my error")})})}})}function J(t){let{firstIssue:e}=t;return(0,C.tZ)(Q,{children:(0,C.tZ)(G.M,{children:e?(0,C.tZ)(nt,{},"received"):(0,C.tZ)(et,{},"waiting")})})}Y.displayName="FirstEventIndicator",J.displayName="Indicator";const Q=(0,a.Z)("div",{target:"e10tfv734"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),tt=(0,a.Z)(K.E.div,{target:"e10tfv733"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,I.D)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");function et(t){return(0,C.BX)(tt,{...t,children:[(0,C.tZ)(ot,{children:(0,z.t)("Waiting to receive first event to continue")}),(0,C.tZ)(rt,{})]})}function nt(t){return(0,C.BX)(tt,{...t,children:[(0,C.tZ)(ot,{children:(0,z.t)("Event was received!")}),(0,C.tZ)(at,{})]})}tt.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,U.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}},et.displayName="Waiting",nt.displayName="Success";const it={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},ot=(0,a.Z)(K.E.div,{target:"e10tfv732"})("");ot.defaultProps={variants:it,transition:(0,U.Z)()};const rt=(0,a.Z)(K.E.div,{target:"e10tfv731"})("margin:0 6px;",V.Z,";");rt.defaultProps={variants:it,transition:(0,U.Z)()};const at=(0,a.Z)(b.DL,{target:"e10tfv730"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,I.D)(.25),";");at.defaultProps={size:"sm"};const st=Y;var lt=n("./app/views/onboarding/createSampleEventButton.tsx");function pt(t){let{organization:e,project:n,docsLink:i,docsOnClick:o}=t;return(0,C.BX)(s.Fragment,{children:[(0,C.tZ)(st,{organization:e,project:n,eventType:"error",children:t=>{let{indicator:e,firstEventButton:n}=t;return(0,C.BX)(dt,{children:[(0,C.BX)(ut,{gap:2,children:[n,(0,C.tZ)(c.zx,{external:!0,href:i,onClick:o,children:(0,z.t)("View full documentation")})]}),e]})}}),(0,C.tZ)(ct,{children:(0,z._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,C.tZ)(lt.Z,{"aria-label":"View a sample event",project:n,source:"onboarding",priority:"link"}),skip:(0,C.tZ)(c.zx,{priority:"link",href:"/","aria-label":(0,z.t)("Finish setup later")})})})]})}pt.displayName="FirstEventFooter";const dt=(0,a.Z)("div",{target:"eehhgoe2"})("display:flex;justify-content:space-between;margin:",(0,I.D)(2)," 0;margin-top:",(0,I.D)(4),";"),ct=(0,a.Z)("p",{target:"eehhgoe1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),ut=(0,a.Z)(u.ZP,{target:"eehhgoe0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function mt(t){let{gettingStartedLink:e,docsLink:n}=t;return(0,C.BX)(u.ZP,{gap:1,children:[(0,C.tZ)(c.zx,{size:"sm",icon:(0,C.tZ)(b.g6,{size:"xs",direction:"left"}),to:e,children:(0,z.t)("Back")}),(0,C.tZ)(c.zx,{size:"sm",href:n,external:!0,children:(0,z.t)("Full Documentation")})]})}mt.displayName="PlatformHeaderButtonBar";class gt extends M.Z{constructor(){super(...arguments),(0,E.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,O.Gi)("growth.onboarding_view_full_docs",{organization:t})})),(0,E.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,E.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,r.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){super.componentDidMount(),window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:n}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${n.projectId}/`]]:[]}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,n=`/organizations/${t.slug}/projects/${e}/getting-started/`;L.browserHistory.push((0,B.D)(n))}render(){const{organization:t,params:e}=this.props,{installed:n,project:i}=this.state,{projectId:o,platform:r}=e,a=this.provider,l=v.Z.find((t=>t.id===r));if(!a||!l||!i)return null;const p=`/organizations/${t.slug}/projects/${o}/getting-started/`,d="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,C.tZ)(Zt,{children:(0,C.BX)(ft,{children:[(0,C.tZ)(yt,{children:(0,z.t)("Automatically instrument %s",l.name)}),(0,C.tZ)(xt,{children:(0,C.tZ)(mt,{gettingStartedLink:p,docsLink:d})}),n?(0,C.BX)(s.Fragment,{children:[(0,C.tZ)(H.Z,{provider:a}),(0,C.tZ)(pt,{project:i,organization:t,docsLink:d,docsOnClick:this.handleFullDocsClick})]}):(0,C.BX)(s.Fragment,{children:[(0,C.tZ)(A.Z,{}),(0,C.BX)(ht,{gap:1,children:[(0,C.tZ)(W.w,{provider:a,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id},"aria-label":(0,z.t)("Add integration")}),(0,C.tZ)(c.zx,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,z.t)("Manual Setup")})]})]})]})})}}gt.displayName="PlatformIntegrationSetup";const ht=(0,a.Z)(u.ZP,{target:"e1o04xl64"})("margin-top:",(0,I.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,I.D)(1),";grid-auto-flow:row;}"),ft=(0,a.Z)("div",{target:"e1o04xl63"})({name:"1ki15kq",styles:"max-width:850px"}),Zt=(0,a.Z)("div",{target:"e1o04xl62"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),xt=(0,a.Z)("div",{target:"e1o04xl61"})("width:min-content;margin-bottom:",(0,I.D)(3),";"),yt=(0,a.Z)("h2",{target:"e1o04xl60"})("margin:0;margin-bottom:",(0,I.D)(2),";"),wt=(0,q.Z)(gt);function kt(t){const e=i.parse(window.location.search),{platform:n}=t.params,a=n&&r.C$[n];return a&&"1"!==e.manual?(0,C.tZ)(wt,{integrationSlug:a,...t}):(0,C.tZ)(o.P,{children:(0,C.tZ)(T,{...t})})}kt.displayName="PlatformOrIntegration";const vt=kt}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.25fc9d6d1353fa7a607bf64e2648a8e6.js.map