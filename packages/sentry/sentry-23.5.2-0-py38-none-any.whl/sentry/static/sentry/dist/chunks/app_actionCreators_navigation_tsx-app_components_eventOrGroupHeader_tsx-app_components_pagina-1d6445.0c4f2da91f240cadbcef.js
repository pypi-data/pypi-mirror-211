"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445"],{"./app/actionCreators/navigation.tsx":(e,t,n)=>{n.d(t,{T:()=>p}),n("../node_modules/core-js/modules/es.array.push.js");var s=n("./app/actionCreators/modal.tsx"),o=n("./app/components/contextPickerModal.tsx"),i=n("./app/stores/projectsStore.tsx"),r=n("./app/utils/replaceRouterParams.tsx"),a=n("./app/utils/withDomainRequired.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e,t,n){const p=e.includes(":orgId"),c=e.includes(":projectId")||e.includes(":project"),d=t?.location?.query?.project,u=!d||Array.isArray(d),g=i.Z.getById(d);p||c&&(u||!g)||n?(0,s.openModal)((s=>(0,l.tZ)(o.Z,{...s,nextPath:e,needOrg:p,needProject:c,configUrl:n,onFinish:e=>(s.closeModal(),window.setTimeout((()=>t.push((0,a.D)(e))),0))})),{}):(g&&(e=(0,r.Z)(e,{projectId:g.slug,project:g.id})),t.push((0,a.D)(e)))}},"./app/components/contextPickerModal.tsx":(e,t,n)=>{n.d(t,{Z:()=>w});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),r=n("../node_modules/react-dom/profiling.js"),a=n("../node_modules/react-select/dist/index-4bd03571.esm.js"),l=n("./app/components/asyncComponent.tsx"),p=n("./app/components/forms/controls/selectControl.tsx"),c=n("./app/components/idBadge/index.tsx"),d=n("./app/components/links/link.tsx"),u=n("./app/components/loadingIndicator.tsx"),g=n("./app/locale.tsx"),m=n("./app/stores/configStore.tsx"),h=n("./app/stores/organizationsStore.tsx"),f=n("./app/stores/organizationStore.tsx"),v=n("./app/styles/space.tsx"),S=n("./app/utils/projects.tsx"),Z=n("./app/utils/replaceRouterParams.tsx"),x=n("./app/views/settings/organizationIntegrations/integrationIcon.tsx"),y=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j={menu:e=>({...e,position:"initial",boxShadow:"none",marginBottom:0}),option:(e,t)=>({...e,opacity:t.isDisabled?.6:1,cursor:t.isDisabled?"not-allowed":"pointer",pointerEvents:t.isDisabled?"none":"auto"})};class b extends i.Component{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"onFinishTimeout",void 0),(0,s.Z)(this,"orgSelect",null),(0,s.Z)(this,"projectSelect",null),(0,s.Z)(this,"configSelect",null),(0,s.Z)(this,"navigateIfFinish",(function(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.organization;const{needProject:o,onFinish:i,nextPath:r,integrationConfigs:a}=e.props,{isSuperuser:l}=m.Z.get("user")||{};if(!o&&1!==t.length||o&&1!==n.length||a.length&&l)return;if(window.clearTimeout(e.onFinishTimeout),!o)return void(e.onFinishTimeout=i((0,Z.Z)(r,{orgId:t[0].slug}))??void 0);let p=s;p||1!==t.length||(p=t[0].slug),e.onFinishTimeout=i((0,Z.Z)(r,{orgId:p,projectId:n[0].slug,project:e.props.projects.find((e=>e.slug===n[0].slug))?.id}))??void 0})),(0,s.Z)(this,"doFocus",(e=>{if(!e||this.props.loading)return;const t=(0,r.findDOMNode)(e);if(null!==t){const e=t.querySelector("input");e&&e.focus()}})),(0,s.Z)(this,"handleSelectOrganization",(e=>{let{value:t}=e;this.props.needProject?this.props.onSelectOrganization(t):this.navigateIfFinish([{slug:t}],[])})),(0,s.Z)(this,"handleSelectProject",(e=>{let{value:t}=e;const{organization:n}=this.props;t&&n&&this.navigateIfFinish([{slug:n}],[{slug:t}])})),(0,s.Z)(this,"handleSelectConfiguration",(e=>{let{value:t}=e;const{onFinish:n,nextPath:s}=this.props;t&&n(`${s}${t}/`)})),(0,s.Z)(this,"getMemberProjects",(()=>{const{projects:e}=this.props,t=[],n=[];return e.forEach((e=>e.isMember?n.push(e):t.push(e))),[n,t]})),(0,s.Z)(this,"customOptionProject",(e=>{let{label:t,...n}=e;const s=this.props.projects.find((e=>{let{slug:t}=e;return n.value===t}));return s?(0,y.tZ)(a.c.Option,{label:t,...n,children:(0,y.tZ)(_,{project:s,avatarSize:20,displayName:t,avatarProps:{consistentWidth:!0},disableLink:!0})}):null}))}componentDidMount(){const{organization:e,projects:t,organizations:n}=this.props;1===n.length&&e&&this.navigateIfFinish([{slug:e}],t)}componentDidUpdate(e){JSON.stringify(e.projects)!==JSON.stringify(this.props.projects)&&this.navigateIfFinish(this.props.organizations,this.props.projects)}componentWillUnmount(){window.clearTimeout(this.onFinishTimeout)}get headerText(){const{needOrg:e,needProject:t,integrationConfigs:n}=this.props;return e&&t?(0,g.t)("Select an organization and a project to continue"):e?(0,g.t)("Select an organization to continue"):t?(0,g.t)("Select a project to continue"):n.length?(0,g.t)("Select a configuration to continue"):""}renderProjectSelectOrMessage(){const{organization:e,projects:t,allowAllProjectsSelection:n}=this.props,[s,o]=this.getMemberProjects(),{isSuperuser:i}=m.Z.get("user")||{},r=[{label:(0,g.t)("My Projects"),options:s.map((e=>({value:e.slug,label:e.slug,disabled:!1})))},{label:(0,g.t)("All Projects"),options:o.map((e=>({value:e.slug,label:e.slug,disabled:!n&&!i})))}];return t.length?(0,y.tZ)(z,{ref:e=>{this.projectSelect=e,this.doFocus(this.projectSelect)},placeholder:(0,g.t)("Select a Project to continue"),name:"project",options:r,onChange:this.handleSelectProject,components:{Option:this.customOptionProject,DropdownIndicator:null},styles:j,menuIsOpen:!0}):(0,y.tZ)("div",{children:(0,g._N)("You have no projects. Click [link] to make one.",{link:(0,y.tZ)(d.Z,{to:`/organizations/${e}/projects/new/`,children:(0,g.t)("here")})})})}renderIntegrationConfigs(){const{integrationConfigs:e}=this.props,{isSuperuser:t}=m.Z.get("user")||{},n=[{label:(0,g._N)("[providerName] Configurations",{providerName:e[0].provider.name}),options:e.map((e=>({value:e.id,label:(0,y.BX)(I,{children:[(0,y.tZ)(x.Z,{size:22,integration:e}),(0,y.tZ)("span",{children:e.domainName})]}),disabled:!t})))}];return(0,y.tZ)(z,{ref:e=>{this.configSelect=e,this.doFocus(this.configSelect)},placeholder:(0,g.t)("Select a configuration to continue"),name:"configurations",options:n,onChange:this.handleSelectConfiguration,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0})}render(){const{needOrg:e,needProject:t,organization:n,organizations:s,loading:o,Header:r,Body:a,integrationConfigs:l}=this.props,{isSuperuser:p}=m.Z.get("user")||{},c=n&&t&&!o,d=l.length>0&&p,u=s.filter((e=>{let{status:t}=e;return"pending_deletion"!==t.id})).map((e=>{let{slug:t}=e;return{label:t,value:t}}));return e||t||d?(0,y.BX)(i.Fragment,{children:[(0,y.tZ)(r,{closeButton:!0,children:this.headerText}),(0,y.BX)(a,{children:[o&&(0,y.tZ)(P,{overlay:!0}),e&&(0,y.tZ)(z,{ref:e=>{this.orgSelect=e,c||this.doFocus(this.orgSelect)},placeholder:(0,g.t)("Select an Organization"),name:"organization",options:u,value:n,onChange:this.handleSelectOrganization,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0}),c&&this.renderProjectSelectOrMessage(),d&&this.renderIntegrationConfigs()]})]}):null}}b.displayName="ContextPickerModal";class E extends l.Z{constructor(){super(...arguments),(0,s.Z)(this,"unlistener",h.Z.listen((e=>this.setState({organizations:e})),void 0)),(0,s.Z)(this,"handleSelectOrganization",(e=>{this.setState({selectedOrganization:e})}))}getDefaultState(){const e=f.Z.get();return{...super.getDefaultState(),organizations:h.Z.getAll(),selectedOrganization:e.organization?.slug}}getEndpoints(){const{configUrl:e}=this.props;return e?[["integrationConfigs",e]]:[]}componentWillUnmount(){this.unlistener?.()}renderModal(e){let{projects:t,initiallyLoaded:n,integrationConfigs:s}=e;return(0,y.tZ)(b,{...this.props,projects:t||[],loading:!n,organizations:this.state.organizations,organization:this.state.selectedOrganization,onSelectOrganization:this.handleSelectOrganization,integrationConfigs:s||[],allowAllProjectsSelection:this.props.allowAllProjectsSelection})}render(){const{projectSlugs:e,configUrl:t}=this.props;return t&&this.state.loading?(0,y.tZ)(u.Z,{}):this.state.integrationConfigs?.length?this.renderModal({integrationConfigs:this.state.integrationConfigs,initiallyLoaded:!this.state.loading}):this.state.selectedOrganization?(0,y.tZ)(S.Z,{orgId:this.state.selectedOrganization,allProjects:!e?.length,slugs:e,children:e=>{let{projects:t,initiallyLoaded:n}=e;return this.renderModal({projects:t,initiallyLoaded:n})}}):this.renderModal({})}}E.displayName="ContextPickerModalContainer";const w=E,z=(0,o.Z)(p.Z,{target:"e10w9lcp3"})("margin-top:",(0,v.D)(1),";"),_=(0,o.Z)(c.Z,{target:"e10w9lcp2"})("margin:",(0,v.D)(1),";"),P=(0,o.Z)(u.Z,{target:"e10w9lcp1"})({name:"1739oy8",styles:"z-index:1"}),I=(0,o.Z)("div",{target:"e10w9lcp0"})("display:grid;grid-template-columns:",(0,v.D)(4)," auto;grid-template-rows:1fr;")},"./app/components/eventOrGroupHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>R});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("../node_modules/lodash/capitalize.js"),r=n.n(i),a=n("./app/components/errorBoundary.tsx"),l=n("./app/components/eventOrGroupTitle.tsx"),p=n("./app/components/globalSelectionLink.tsx"),c=n("./app/components/tooltip.tsx"),d=n("./app/icons/index.tsx"),u=n("./app/locale.tsx"),g=n("./app/styles/space.tsx"),m=n("./app/utils/events.tsx"),h=n("./app/utils/useLocation.tsx"),f=n("./app/utils/withOrganization.tsx"),v=n("./app/views/issueDetails/unhandledTag.tsx"),S=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Z(){return(0,S.BX)(y,{children:[(0,S.tZ)(j,{children:(0,u.t)("<unknown>")}),(0,S.tZ)(b,{children:(0,u.t)("There was an error rendering the title")})]})}Z.displayName="EventTitleError";const x=Z,y=(0,s.Z)("span",{target:"e1rvqltq2"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),j=(0,s.Z)("span",{target:"e1rvqltq1"})("margin-right:",(0,g.D)(.5),";"),b=(0,s.Z)("span",{target:"e1rvqltq0"})("color:",(e=>e.theme.alert.error.iconColor),";background:",(e=>e.theme.alert.error.backgroundLight),";font-size:",(e=>e.theme.fontSizeMedium),";padding:0 ",(0,g.D)(.5),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;");function E(e){let{data:t,index:n,organization:s,query:i,onClick:l,hideIcons:p,hideLevel:g,size:f="normal",grouping:v=!1,source:Z}=e;const y=(0,h.T)();function j(){const{level:e,status:n,isBookmarked:i,hasSeen:l}=t;return(0,S.BX)(o.Fragment,{children:[!g&&e&&(0,S.tZ)(c.u,{skipWrapper:!0,disabled:"unknown"===e,title:(0,u._N)("Error level: [level]",{level:r()(e)}),children:(0,S.tZ)(O,{level:e})}),!p&&"ignored"===n&&!s.features.includes("escalating-issues-ui")&&(0,S.tZ)(D,{children:(0,S.tZ)(d.i1,{color:"red400"})}),!p&&i&&(0,S.tZ)(D,{children:(0,S.tZ)(d.GK,{isSolid:!0,color:"yellow400"})}),(0,S.tZ)(a.Z,{customComponent:(0,S.tZ)(x,{}),mini:!0,children:(0,S.tZ)(L,{data:t,organization:s,hasSeen:void 0===l||l,withStackTracePreview:!0,grouping:v})})]})}const b=(0,m.k$)(t),E=(0,m.FC)(t);return(0,S.BX)("div",{"data-test-id":"event-issue-header",children:[(0,S.tZ)(_,{children:function(){const{id:e,status:o}=t,{eventID:r,groupID:a}=t,p={"data-test-id":"resolved"===o?"resolved-issue":null,style:"resolved"===o?{textDecoration:"line-through"}:void 0};return(0,m.xM)(t)?(0,S.tZ)(T,{...p,children:j()}):(0,S.tZ)(k,{...p,to:{pathname:`/organizations/${s.slug}/issues/${r?a:e}/${r?`events/${r}/`:""}`,query:{referrer:Z||"event-or-group-header",stream_index:n,query:i,...void 0!==y.query.sort?{sort:y.query.sort}:{},...void 0!==y.query.project?{}:{_allp:1}}},onClick:l,children:j()})}()}),b&&(0,S.tZ)(I,{size:f,children:b}),E&&(0,S.tZ)(C,{size:f,children:E&&(0,S.tZ)(N,{children:E})})]})}E.displayName="EventOrGroupHeader";const w={name:"c9isw4",styles:"overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap"},z=e=>{let{size:t}=e;return"small"===t?"margin: 0;":"margin: 0 0 5px"},_=(0,s.Z)("div",{target:"e1c8ut038"})("margin-bottom:",(0,g.D)(.25),";& em{font-size:",(e=>e.theme.fontSizeMedium),";font-style:normal;font-weight:300;color:",(e=>e.theme.subText),";}"),P=(0,s.Z)("div",{target:"e1c8ut037"})(w,";",z,";direction:rtl;text-align:left;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";span{direction:ltr;}");function I(e){const{children:t,...n}=e;return(0,S.tZ)(P,{...n,children:(0,u._N)("in [location]",{location:(0,S.tZ)("span",{children:t})})})}I.displayName="Location";const C=(0,s.Z)(v.S,{target:"e1c8ut036"})(z,";line-height:1.2;"),N=(0,s.Z)("div",{target:"e1c8ut035"})(w,";font-size:",(e=>e.theme.fontSizeMedium),";"),D=(0,s.Z)("span",{target:"e1c8ut034"})({name:"1nwo1x0",styles:"position:relative;margin-right:5px"}),O=(0,s.Z)("div",{target:"e1c8ut033"})("position:absolute;left:-1px;width:9px;height:15px;border-radius:0 3px 3px 0;background-color:",(e=>e.theme.level[e.level]??e.theme.level.default),";"),k=(0,s.Z)(p.Z,{target:"e1c8ut032"})({name:"zjik7",styles:"display:flex"}),T=(0,s.Z)("span",{target:"e1c8ut031"})({name:"zjik7",styles:"display:flex"}),R=(0,f.Z)(E),L=(0,s.Z)(l.Z,{target:"e1c8ut030"})("font-weight:",(e=>e.hasSeen?400:600),";")},"./app/components/eventOrGroupTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>M});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("./app/utils/events.tsx"),r=n("./app/utils/withOrganization.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{treeLabel:t}=e;const n=t.slice(0,4),s=t.slice(n.length);return(0,l.BX)(d,{children:[(0,l.tZ)(u,{children:n.map(((e,t)=>{const s=(0,i.K2)(e);return t!==n.length-1?(0,l.BX)(o.Fragment,{children:[(0,l.tZ)(m,{children:s}),(0,l.tZ)(f,{children:"|"})]},t):(0,l.tZ)(m,{children:s},t)}))}),!!s.length&&(0,l.tZ)(h,{children:s.map(((e,t)=>{const n=(0,i.K2)(e);return(0,l.BX)(o.Fragment,{children:[(0,l.tZ)(f,{children:"|"}),(0,l.tZ)(g,{children:n})]},t)}))})]})}p.displayName="EventTitleTreeLabel";const c=p,d=(0,s.Z)("div",{target:"e1o0zbyk5"})({name:"povk8l",styles:"display:inline-grid;grid-template-columns:auto 1fr;align-items:center"}),u=(0,s.Z)("div",{target:"e1o0zbyk4"})({name:"ww2cfn",styles:"display:inline-grid;grid-auto-flow:column;align-items:center"}),g=(0,s.Z)("div",{target:"e1o0zbyk3"})({name:"1r5gb7q",styles:"display:inline-block"}),m=(0,s.Z)(g,{target:"e1o0zbyk2"})((e=>e.theme.overflowEllipsis)," display:inline-block;"),h=(0,s.Z)("div",{target:"e1o0zbyk1"})((e=>e.theme.overflowEllipsis)," display:inline-block;min-width:50px;"),f=(0,s.Z)("div",{target:"e1o0zbyk0"})("color:",(e=>e.theme.gray200),";display:inline-block;padding:0 ",(0,a.D)(1),";");var v=n("./app/components/events/interfaces/keyValueList/index.tsx"),S=n("./app/components/groupPreviewTooltip/groupPreviewHovercard.tsx"),Z=n("./app/components/groupPreviewTooltip/utils.tsx"),x=n("./app/components/loadingIndicator.tsx"),y=n("./app/locale.tsx"),j=n("./app/utils/queryClient.tsx"),b=n("./app/utils/useOrganization.tsx");function E(e){let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i}=e;const{data:r,isLoading:a,isError:p}=(0,j.WE)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});if((0,o.useEffect)((()=>(a?n():s(),i)),[a,n,s,i]),a)return(0,l.tZ)(z,{children:(0,l.tZ)(x.Z,{hideMessage:!0,size:32})});if(p)return(0,l.tZ)(z,{children:(0,y.t)("Failed to load preview")});const c=r?.occurrence?.evidenceDisplay;return c?.length?(0,l.tZ)(_,{"data-test-id":"evidence-preview-body",children:(0,l.tZ)(v.Z,{data:c.map((e=>({key:e.name,subject:e.name,value:e.value}))),shouldSort:!1})}):(0,l.tZ)(z,{children:(0,y.t)("There is no evidence available for this issue.")})}function w(e){let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,b.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:p,onRequestEnd:c,reset:d}=(0,Z.H)();return r?(0,l.tZ)(S.v,{hide:!a,body:(0,l.tZ)(E,{onRequestBegin:p,onRequestEnd:c,onUnmount:d,endpointUrl:r}),children:t}):(0,l.tZ)(o.Fragment,{children:t})}E.displayName="SpanEvidencePreviewBody",w.displayName="EvidencePreview";const z=(0,s.Z)("div",{target:"erjmuql1"})("color:",(e=>e.theme.subText),";padding:",(0,a.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),_=(0,s.Z)("div",{target:"erjmuql0"})("width:700px;padding:",(0,a.D)(1.5)," ",(0,a.D)(1.5)," 0 ",(0,a.D)(1.5),";");var P=n("./app/stores/projectsStore.tsx"),I=n("./app/types/index.tsx"),C=n("./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx");function N(e){let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i,projectSlug:r}=e;const{data:a,isLoading:p,isError:c}=(0,j.WE)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});return(0,o.useEffect)((()=>(p?n():s(),i)),[p,n,s,i]),p?(0,l.tZ)(O,{children:(0,l.tZ)(x.Z,{hideMessage:!0,size:32})}):c?(0,l.tZ)(O,{children:(0,y.t)("Failed to load preview")}):a?(0,l.tZ)(k,{"data-test-id":"span-evidence-preview-body",children:(0,l.tZ)(C.VD,{event:a,projectSlug:r})}):(0,l.tZ)(O,{children:(0,y.t)("There is no span evidence available for this issue.")})}function D(e){let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,b.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:p,onRequestEnd:c,reset:d}=(0,Z.H)();return r?(0,l.tZ)(S.v,{hide:!a,body:(0,l.tZ)(N,{onRequestBegin:p,onRequestEnd:c,onUnmount:d,endpointUrl:r,projectSlug:i}),children:t}):(0,l.tZ)(o.Fragment,{children:t})}N.displayName="SpanEvidencePreviewBody",D.displayName="SpanEvidencePreview";const O=(0,s.Z)("div",{target:"e1r0qo9w1"})("color:",(e=>e.theme.subText),";padding:",(0,a.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),k=(0,s.Z)("div",{target:"e1r0qo9w0"})("width:700px;padding:",(0,a.D)(1.5)," ",(0,a.D)(1.5)," 0 ",(0,a.D)(1.5),";");var T=n("./app/components/groupPreviewTooltip/stackTracePreview.tsx");const R=function(e){let{children:t,eventId:n,groupId:s,groupingCurrentLevel:o,issueCategory:i,projectId:r}=e;const a=n?P.Z.getById(r)?.slug:void 0;switch(i){case I.qE.ERROR:return(0,l.tZ)(T._$,{issueId:s,groupingCurrentLevel:o,eventId:n,projectSlug:a,children:t});case I.qE.PERFORMANCE:return(0,l.tZ)(D,{groupId:s,eventId:n,projectSlug:a,children:t});default:return(0,l.tZ)(w,{groupId:s,eventId:n,projectSlug:a,children:t})}};function L(e){let{organization:t,data:n,withStackTracePreview:s,grouping:r=!1,className:a}=e;const{id:p,eventID:d,groupID:u,projectID:g}=n,{title:m,subtitle:h,treeLabel:f}=(0,i.YQ)(n,t?.features,r),v=f?(0,l.tZ)(c,{treeLabel:f}):m??"";return(0,l.BX)(F,{className:a,children:[!(0,i.xM)(n)&&s?(0,l.tZ)(R,{groupId:u||p,issueCategory:n.issueCategory,groupingCurrentLevel:n.metadata?.current_level,eventId:d,projectId:g,children:v}):v,h&&(0,l.BX)(o.Fragment,{children:[(0,l.tZ)(B,{}),(0,l.tZ)(q,{title:h,children:h}),(0,l.tZ)("br",{})]})]})}L.displayName="EventOrGroupTitle";const M=(0,r.Z)(L);function B(){return(0,l.tZ)("span",{style:{display:"inline-block",width:10},children:" "})}B.displayName="Spacer";const q=(0,s.Z)("em",{target:"e1v8ok1u1"})((e=>e.theme.overflowEllipsis),";display:inline-block;color:",(e=>e.theme.gray300),";font-style:normal;height:100%;"),F=(0,s.Z)("span",{target:"e1v8ok1u0"})("font-size:",(e=>e.theme.fontSizeLarge),";display:inline-grid;grid-template-columns:auto max-content 1fr max-content;align-items:baseline;")},"./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx":(e,t,n)=>{n.d(t,{VD:()=>w});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/lodash/kebabCase.js"),r=n.n(i),a=n("../node_modules/lodash/mapValues.js"),l=n.n(a),p=n("./app/components/button.tsx"),c=n("./app/components/clippedBox.tsx"),d=n("./app/components/events/interfaces/performance/utils.tsx"),u=n("./app/components/events/meta/annotatedText/index.tsx"),g=n("./app/components/links/link.tsx"),m=n("./app/components/performance/waterfall/utils.tsx"),h=n("./app/locale.tsx"),f=n("./app/types/index.tsx"),v=n("./app/utils.tsx"),S=n("./app/utils/discover/urls.tsx"),Z=n("./app/utils/performance/urls.ts"),x=n("./app/utils/useOrganization.tsx"),y=n("./app/views/performance/transactionSummary/utils.tsx"),j=n("./app/views/performance/utils.tsx"),b=n("./app/components/events/interfaces/keyValueList/index.tsx"),E=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{event:t,projectSlug:n}=e;const{slug:s}=(0,x.Z)(),o=(0,d.L)(t),i=t.perfProblem?.issueType??(0,f.o5)(t.occurrence?.type);if(!i||!o)return(0,E.tZ)(R,{event:t,offendingSpans:[],causeSpans:[],parentSpan:null,orgSlug:s,projectSlug:n});const r={[f.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:I,[f.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:C,[f.EM.PERFORMANCE_SLOW_DB_QUERY]:O,[f.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:z,[f.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:k,[f.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:T,[f.EM.PERFORMANCE_CONSECUTIVE_HTTP]:_,[f.EM.PERFORMANCE_LARGE_HTTP_PAYLOAD]:P}[i]??R;return(0,E.tZ)(c.Z,{clipHeight:300,children:(0,E.tZ)(r,{event:t,orgSlug:s,projectSlug:n,...o})})}function z(e){let{event:t,causeSpans:n,offendingSpans:s,orgSlug:o,projectSlug:i}=e;return(0,E.tZ)(L,{data:[M(t,o,i),n?B((0,h.t)("Starting Span"),q(n[0])):null,B("Parallelizable Spans",s.map(q)),B((0,h.t)("Duration Impact"),$(t,F(n,s)))].filter(Boolean)})}function _(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B("Offending Spans",n.map((e=>e.description)))].filter(Boolean)})}function P(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Large HTTP Payload Span"),q(n[0])),B((0,h.t)("Payload Size"),X(n[0],"http.response_content_length")??X(n[0],"Encoded Body Size"))].filter(Boolean)})}function I(e){let{event:t,causeSpans:n,parentSpan:s,offendingSpans:o,orgSlug:i,projectSlug:r}=e;const a=o.filter((e=>(e.op||"").startsWith("db"))),l=a.filter((e=>o.find((t=>t.hash===e.hash))===e)).map(((e,t)=>B(0===t?(0,h.t)("Repeating Spans (%s)",a.length):"",q(e))));return(0,E.tZ)(L,{data:[M(t,i,r),s?B((0,h.t)("Parent Span"),q(s)):null,n.length>0?B((0,h.t)("Preceding Span"),q(n[0])):null,...l].filter(Boolean)})}function C(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:i}=e;const r=t?.entries?.find(D),a=r?.data?.url,p=function(e,t){const n=function(e){const t={};return e.forEach((e=>{for(const[n,s]of e.searchParams)t[n]??=[],t[n].push(s)})),l()(t,(e=>Array.from(new Set(e))))}(e.map((e=>Q(e,t))).filter((e=>e instanceof URL))),s=[];for(const e in n){const t=n[e];t.length>1&&s.push(`${e}:{${t.join(",")}}`)}return s}(n,a),c=function(e,t){const n=Q(e,t);return n?.pathname??""}(n[0],a);return(0,E.tZ)(L,{data:[M(t,s,i),c?B((0,h.t)("Repeating Spans (%s)",n.length),(0,E.tZ)("pre",{className:"val-string",children:(0,E.tZ)(u.q,{value:(0,E.BX)(o.Fragment,{children:[c,(0,E.tZ)(N,{children:"[Parameters]"})]})})})):null,p.length>0?B((0,h.t)("Parameters"),p):null].filter(Boolean)})}w.displayName="SpanEvidenceKeyValueList",z.displayName="ConsecutiveDBQueriesSpanEvidence",_.displayName="ConsecutiveHTTPSpanEvidence",P.displayName="LargeHTTPPayloadSpanEvidence",I.displayName="NPlusOneDBQueriesSpanEvidence",C.displayName="NPlusOneAPICallsSpanEvidence";const N=(0,s.Z)("span",{target:"enrenm20"})("color:",(e=>e.theme.errorText),";"),D=e=>e.type===f.UZ.REQUEST;function O(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow DB Query"),q(n[0])),B((0,h.t)("Duration Impact"),V(t,n[0]))]})}function k(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;const i=n[0];return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow Resource Span"),q(i)),B((0,h.t)("FCP Delay"),H(U(i),t.measurements?.fcp?.value??0)),B((0,h.t)("Duration Impact"),V(t,i))]})}function T(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),B((0,h.t)("Slow Resource Span"),q(n[0])),B((0,h.t)("Asset Size"),X(n[0],"http.response_content_length")??X(n[0],"Encoded Body Size")),B((0,h.t)("Duration Impact"),V(t,n[0]))]})}function R(e){let{event:t,offendingSpans:n,orgSlug:s,projectSlug:o}=e;return(0,E.tZ)(L,{data:[M(t,s,o),n.length>0?B((0,h.t)("Offending Span"),q(n[0])):null].filter(Boolean)})}function L(e){let{data:t}=e;return(0,E.tZ)(b.Z,{shouldSort:!1,data:t})}O.displayName="SlowDBQueryEvidence",k.displayName="RenderBlockingAssetSpanEvidence",T.displayName="UncompressedAssetSpanEvidence",R.displayName="DefaultSpanEvidence",L.displayName="PresortedKeyValueList";const M=(e,t,n)=>{const s=(0,y.e1)({orgSlug:t,projectID:e.projectID,transaction:e.title,query:{}}),o=(0,S.JE)({id:e.eventID,project:n}),i=(0,Z.D)(t,o),r=n?(0,E.tZ)(p.zx,{size:"xs",to:i,children:(0,h.t)("View Full Event")}):void 0;return B((0,h.t)("Transaction"),(0,E.tZ)("pre",{children:(0,E.tZ)(g.Z,{to:s,children:e.title})}),r)},B=(e,t,n)=>{const s=r()(e);return{key:s,subject:e,value:t,subjectDataTestId:`span-evidence-key-value-list.${s}`,isMultiValue:Array.isArray(t),actionButton:n}};function q(e){return e&&(e.op||e.description)?!e.op&&e.description?e.description:e.op&&!e.description?e.op:`${e.op} - ${e.description}`:(0,h.t)("(no value)")}const F=(e,t)=>{const n=A(e),s=Math.max(...t.map((e=>U(e)))),o=t.map((e=>e.span_id));let i=0;return e.forEach((e=>{o.includes(e.span_id)||(i+=U(e))})),n-Math.max(s,i)},A=e=>{let t=0;return e.forEach((e=>{t+=U(e)})),t},U=e=>{let{timestamp:t,start_timestamp:n}=e;return 1e3*((t??0)-(n??0))};function $(e,t){const n=1e3*(e.endTimestamp-e.startTimestamp);return n?function(e,t){const n=e/t;return`${(0,m.uL)(n)} (${(0,j.YL)(e)}/${(0,j.YL)(t)})`}(t,n):null}function H(e,t){const n=e/t;return`${(0,j.YL)(e)} (${(0,m.uL)(n)} of ${(0,j.YL)(t)})`}function V(e,t){return $(e,U(t))}function X(e,t){const n=function(e,t){return e.data?.[t]}(e,t);return n?`${(0,v.F)(n)} (${n} B)`:null}const Q=(e,t)=>{let n;if(n=e?.data?.url,n)try{let n=e?.data?.url??"";const s=e?.data?.["http.query"];return s&&(n+=`?${s}`),new URL(n,t)}catch(e){}const[s,o]=(e?.description??"").split(" ",2);n=o;try{return new URL(o,t)}catch(e){}return null}},"./app/components/events/interfaces/performance/utils.tsx":(e,t,n)=>{n.d(t,{L:()=>a,x:()=>l}),n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.push.js");var s=n("../node_modules/@sentry/core/esm/exports.js"),o=n("../node_modules/lodash/keyBy.js"),i=n.n(o),r=n("./app/types/index.tsx");function a(e){const t=e.perfProblem??e?.occurrence?.evidenceData;if(!t)return e.issueCategory===r.qE.PERFORMANCE&&e.endTimestamp>166356e4&&s.Tb(new Error("Span Evidence missing for performance issue.")),null;const n=e.entries.find((e=>e.type===r.UZ.SPANS)),o=n?.data?[...n.data]:[];e?.contexts?.trace&&e?.contexts?.trace?.span_id&&o.push(e.contexts.trace);const a=i()(o,"span_id"),l=t?.parentSpanIds??[],p=t?.offenderSpanIds??[],c=t?.causeSpanIds??[];return{parentSpan:a[l[0]],offendingSpans:p.map((e=>a[e])),causeSpans:c.map((e=>a[e]))}}function l(e){const t=e.perfProblem??e?.occurrence?.evidenceData,n=e.perfProblem?.issueType??(0,r.o5)(e?.occurrence?.type),s=[],o=[],i=t?.offenderSpanIds??[];if(s.push(...i),n!==r.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS){const e=t?.parentSpanIds??[];s.push(...e)}if(n===r.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES){const e=t?.causeSpanIds??[];e.length<11&&o.push(...e)}if(n===r.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES){const e=t?.causeSpanIds??[];o.push(...e)}return{affectedSpanIds:s,focusedSpanIds:o}}},"./app/components/pagination.tsx":(e,t,n)=>{n.d(t,{Z:()=>v});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react-router/es/index.js")),i=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),c=n("./app/utils/parseLinkHeader.tsx"),d=n("./app/utils/useLocation.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=(e,t,n,s)=>o.browserHistory.push({pathname:t,query:{...n,cursor:e}});function m(e){let{to:t,className:n,onCursor:s=g,paginationAnalyticsEvent:o,pageLinks:p,size:m="sm",caption:v,disabled:S=!1}=e;const Z=(0,d.T)();if(!p)return null;const x=t??Z.pathname,y=Z.query,j=(0,c.Z)(p),b=S||!1===j.previous?.results,E=S||!1===j.next?.results;return(0,u.BX)(h,{className:n,"data-test-id":"pagination",children:[v&&(0,u.tZ)(f,{children:v}),(0,u.BX)(r.ZP,{merged:!0,children:[(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:m,disabled:b,onClick:()=>{s?.(j.previous?.cursor,x,y,-1),o?.("Previous")}}),(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:m,disabled:E,onClick:()=>{s?.(j.next?.cursor,x,y,1),o?.("Next")}})]})]})}m.displayName="Pagination";const h=(0,s.Z)("div",{target:"e1yybcqw1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,p.D)(3)," 0 0 0;"),f=(0,s.Z)("span",{target:"e1yybcqw0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,p.D)(2),";"),v=m},"./app/utils/replaceRouterParams.tsx":(e,t,n)=>{function s(e,t){const n=e.match(/:\w+/g);return n&&n.length?(n.forEach((n=>{const s=n.slice(1);void 0!==t[s]&&(e=e.replace(n,String(t[s])))})),e):e}n.d(t,{Z:()=>s})},"./app/utils/useParams.tsx":(e,t,n)=>{n.d(t,{U:()=>r});var s=n("../node_modules/react/index.js"),o=n("./app/constants/index.tsx"),i=n("./app/utils/useRouteContext.tsx");function r(){const e=(0,i.s)().params;return(0,s.useMemo)((()=>o.Yj&&o.QI&&void 0===e.orgId?{...e,orgId:o.QI}:e),[e])}},"./app/utils/withOrganizations.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),i=n("./app/stores/organizationsStore.tsx"),r=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{organizations:i.Z.getAll()}),(0,s.Z)(this,"unsubscribe",i.Z.listen((e=>this.setState({organizations:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{organizationsLoading:t,organizations:n,...s}=this.props;return(0,a.tZ)(e,{organizationsLoading:t??!i.Z.loaded,organizations:n??this.state.organizations,...s})}}return t.displayName="WithOrganizations",(0,s.Z)(t,"displayName",`withOrganizations(${(0,r.Z)(e)})`),t}},"./app/views/issueDetails/unhandledTag.tsx":(e,t,n)=>{n.d(t,{S:()=>d,Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/tag.tsx"),i=n("./app/components/tooltip.tsx"),r=n("./app/locale.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(){return(0,l.tZ)(c,{children:(0,l.tZ)(i.u,{title:(0,r.t)("An unhandled error was detected in this Issue."),children:(0,l.tZ)(o.Z,{type:"error",children:(0,r.t)("Unhandled")})})})}p.displayName="UnhandledTag";const c=(0,s.Z)("div",{target:"ey2rimh1"})("margin-right:",(0,a.D)(1),";"),d=(0,s.Z)("div",{target:"ey2rimh0"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),u="app"==n.j?p:null},"./app/views/settings/organizationIntegrations/integrationIcon.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),r=n("./app/plugins/components/pluginIcon.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(0,o.Z)("img",{target:"eidhfci0"})("height:",(e=>e.size),"px;width:",(e=>e.size),"px;border-radius:2px;display:block;");class p extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{imgSrc:this.props.integration.icon})}render(){const{integration:e,size:t}=this.props;return(0,a.tZ)(l,{size:t,src:this.state.imgSrc,onError:()=>{this.setState({imgSrc:r.kg[e.provider.key]||r.jp})}})}}p.displayName="Icon";const c=function(e){let{integration:t,size:n=32}=e;return t.icon?(0,a.tZ)(p,{size:n,integration:t}):(0,a.tZ)(r.ZP,{size:n,pluginId:t.provider.key})}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445.872a427c601298bd88029eddb9ec3c4d.js.map