"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_demoEndModal_tsx"],{"./app/actionCreators/guides.tsx":(e,t,s)=>{s.r(t),s.d(t,{closeGuide:()=>v,dismissGuide:()=>y,fetchGuides:()=>g,nextStep:()=>x,recordDismiss:()=>k,recordFinish:()=>_,registerAnchor:()=>m,setForceHide:()=>f,toStep:()=>b,unregisterAnchor:()=>h});var a=s("../node_modules/@sentry/core/esm/exports.js"),o=s("./app/actionCreators/organization.tsx"),n=s("./app/api.tsx"),r=s("./app/stores/configStore.tsx"),i=s("./app/stores/guideStore.tsx"),c=s("./app/utils/analytics.tsx"),d=s("./app/utils/demoMode.tsx"),u=s("./app/actionCreators/modal.tsx"),l=s("./app/actionCreators/onboardingTasks.tsx");const p=new n.KU;async function g(){try{const e=await p.requestPromise("/assistant/");i.Z.fetchSucceeded(e)}catch(e){401!==e.status&&403!==e.status&&a.Tb(e)}}function m(e){i.Z.registerAnchor(e)}function h(e){i.Z.unregisterAnchor(e)}function x(){i.Z.nextStep()}function f(e){i.Z.setForceHide(e)}function b(e){i.Z.toStep(e)}function v(e){i.Z.closeGuide(e)}function y(e,t,s){k(e,t,s),v(!0)}function _(e,t,s,a){p.requestPromise("/assistant/",{method:"PUT",data:{guide:e,status:"viewed"}});const n=(0,d._8)(e);if((0,d.ax)()&&n&&a){const{tour:e,task:t}=n;(0,l.T)(p,a,{task:t,status:"complete",completionSeen:!0}),(0,o.h)(p,a.slug,!0,!1),(0,u.demoEndModal)({tour:e,orgSlug:s})}r.Z.get("user")&&(0,c.Gi)("assistant.guide_finished",{organization:t,guide:e})}function k(e,t,s){p.requestPromise("/assistant/",{method:"PUT",data:{guide:e,status:"dismissed"}}),r.Z.get("user")&&(0,c.Gi)("assistant.guide_dismissed",{organization:s,guide:e,step:t})}},"./app/actionCreators/onboardingTasks.tsx":(e,t,s)=>{s.d(t,{T:()=>n});var a=s("./app/stores/configStore.tsx"),o=s("./app/stores/organizationStore.tsx");function n(e,t,s){null!==e&&e.requestPromise(`/organizations/${t.slug}/onboarding-tasks/`,{method:"POST",data:s});const n=t.onboardingTasks.find((e=>e.task===s.task)),r=a.Z.get("user"),i=n?t.onboardingTasks.map((e=>e.task===s.task?{...e,...s}:e)):[...t.onboardingTasks,{...s,user:r}];o.Z.onUpdate({onboardingTasks:i})}},"./app/components/card.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/panels/panel.tsx");const n={name:"1gx8kln",styles:"&:focus,&:hover{box-shadow:0px 0px 0px 6px rgba(209, 202, 216, 0.2);outline:none;}&:active{box-shadow:0px 0px 0px 6px rgba(209, 202, 216, 0.5);}*{cursor:pointer;}"},r=(0,a.Z)(o.Z,{target:"e18vjt3g0"})("display:flex;align-items:stretch;flex-direction:column;transition:box-shadow 0.2s ease;text-align:left;padding:0;",(e=>e.interactive&&"cursor: pointer"),";",(e=>e.interactive&&n),";")},"./app/components/modals/demoEndModal.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>_,modalCss:()=>k});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("./app/actionCreators/guides.tsx"),r=s("./app/components/button.tsx"),i=s("./app/components/card.tsx"),c=s("./app/icons/iconCheckmark.tsx"),d=s("./app/styles/space.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{title:t}=e;return(0,u.tZ)(g,{children:(0,u.BX)(p,{children:[(0,u.tZ)(c.D,{isCircled:!0,color:"successText"}),t]})})}l.displayName="ModalTask";const p=(0,a.Z)("div",{target:"e1n2av3b1"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,d.D)(1),";align-items:center;font-weight:600;"),g=(0,a.Z)(i.Z,{target:"e1n2av3b0"})("position:relative;padding:",(0,d.D)(2)," ",(0,d.D)(3),";");var m=s("./app/components/sidebar/types.tsx"),h=s("./app/icons/iconClose.tsx"),x=s("./app/locale.tsx"),f=s("./app/stores/sidebarPanelStore.tsx"),b=s("./app/utils/analytics.tsx"),v=s("./app/utils/useApi.tsx"),y=s("./app/utils/useNavigate.tsx");function _(e){let{tour:t,closeModal:s,CloseButton:a,orgSlug:i}=e;const c=(0,v.Z)(),d=(0,y.s)();let p="",g="",_=[""],k="";switch(t){case"issues":p=(0,x.t)("Issues Tour"),g=(0,x.t)("Thank you for completing the Issues tour. Learn about other Sentry features by starting another tour."),_=["issues_v3","issue_stream_v3"],k=`/organizations/${i}/issues/`;break;case"performance":p=(0,x.t)("Performance Tour"),g=(0,x.t)("Thank you for completing the Performance tour. Learn about other Sentry features by starting another tour."),_=["performance","transaction_summary","transaction_details_v2"],k=`/organizations/${i}/performance/`;break;case"releases":p=(0,x.t)("Releases Tour"),g=(0,x.t)("Thank you for completing the Releases tour. Learn about other Sentry features by starting another tour."),_=["releases_v2","react-native-release","release-details_v2"],k=`/organizations/${i}/releases/`;break;case"tabs":p=(0,x.t)("Check out the different tabs"),g=(0,x.t)("Thank you for checking out the different tabs. Learn about other Sentry features by starting another tour."),_=["sidebar_v2"],k=`/organizations/${i}/projects/`}const T=window.SandboxData,C=T?.cta?.url||"https://sentry.io/signup/",E=(0,o.useCallback)((()=>{d(k)}),[k,d]);return(0,u.BX)(w,{children:[(0,u.tZ)(a,{size:"zero",onClick:()=>{(0,b.Gi)("growth.end_modal_close",{organization:null}),s&&s()},icon:(0,u.tZ)(h.b,{size:"xs"})}),(0,u.tZ)(Z,{children:(0,u.BX)("h2",{children:[" ",(0,x.t)("Tour Complete")," "]})}),(0,u.tZ)(l,{title:p}),(0,u.tZ)(Z,{children:g}),(0,u.BX)(z,{children:[(0,u.tZ)(S,{external:!0,href:C,onClick:()=>{(0,b.Gi)("growth.end_modal_signup",{organization:null})},children:T?.cta?.title||(0,x.t)("Sign up for Sentry")}),(0,u.BX)(P,{children:[(0,u.BX)(r.zx,{onClick:()=>{s?.(),f.Z.togglePanel(m.z.OnboardingWizard),(0,b.Gi)("growth.end_modal_more_tours",{organization:null})},children:[(0,x.t)("More Tours")," "]}),(0,u.tZ)(r.zx,{onClick:async function(){await Promise.all(_.map((e=>c.requestPromise("/assistant/",{method:"PUT",data:{guide:e,status:"restart"}})))),(0,b.Gi)("growth.end_modal_restart_tours",{organization:null}),s?.(),(0,n.fetchGuides)(),E()},children:(0,x.t)("Restart Tour")})]})]})]})}_.displayName="DemoEndingModal";const k={name:"78x8vz",styles:"width:100%;max-width:500px;[role='document']{position:relative;padding:50px 60px;}"},w=(0,a.Z)("div",{target:"e5moa8g4"})({name:"70pwir",styles:"display:flex;flex-direction:column;gap:20px;align-items:center"}),Z=(0,a.Z)("div",{target:"e5moa8g3"})({name:"19snz7",styles:"p{font-size:16px;text-align:center;margin:0;}h2{font-size:2em;margin:0;}"}),S=(0,a.Z)(r.zx,{target:"e5moa8g2"})("background-color:",(e=>e.theme.purple300),";border:none;color:",(e=>e.theme.white),";width:100%;"),P=(0,a.Z)("div",{target:"e5moa8g1"})({name:"pbjze6",styles:"display:flex;flex-direction:row;gap:5px;justify-content:center"}),z=(0,a.Z)("div",{target:"e5moa8g0"})({name:"1c3pogw",styles:"display:flex;flex-direction:column;gap:10px"})},"./app/components/sidebar/types.tsx":(e,t,s)=>{let a;s.d(t,{z:()=>a}),function(e){e.Broadcasts="broadcasts",e.OnboardingWizard="todos",e.ServiceIncidents="statusupdate",e.PerformanceOnboarding="performance_onboarding",e.ReplaysOnboarding="replays_onboarding",e.ProfilingOnboarding="profiling_onboarding"}(a||(a={}))},"./app/stores/sidebarPanelStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});const a={activePanel:"",init(){},activatePanel(e){this.activePanel=e,this.trigger(this.activePanel)},togglePanel(e){this.activePanel===e?this.hidePanel():this.activatePanel(e)},hidePanel(){this.activePanel="",this.trigger(this.activePanel)},getState(){return this.activePanel}},o=(0,s("../node_modules/reflux/src/index.js").createStore)(a)},"./app/utils/demoMode.tsx":(e,t,s)=>{s.d(t,{_8:()=>d,ax:()=>c,g3:()=>i,gp:()=>r,vM:()=>n});var a=s("./app/stores/configStore.tsx"),o=s("./app/types/index.tsx");function n(){const e=window.SandboxData?.extraQueryString||"";return new URLSearchParams(e)}function r(){const e=n(),t=localStorage.getItem("email");return t&&e.append("email",t),e}function i(e,t){const s=t.toString();return s?e+"?"+s:e}function c(){return a.Z.get("demoMode")}function d(e){switch(e){case"sidebar_v2":return{tour:"tabs",task:o.ve.SIDEBAR_GUIDE};case"issues_v3":return{tour:"issues",task:o.ve.ISSUE_GUIDE};case"release-details_v2":return{tour:"releases",task:o.ve.RELEASE_GUIDE};case"transaction_details_v2":return{tour:"performance",task:o.ve.PERFORMANCE_GUIDE};default:return}}},"./app/utils/useApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var a=s("../node_modules/react/index.js"),o=s("./app/api.tsx");const n=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,a.useRef)();void 0===s.current&&void 0===t&&(s.current=new o.KU);const n=t??s.current,r=(0,a.useCallback)((()=>{e||n.clear()}),[n,e]);return(0,a.useEffect)((()=>r),[r]),n}},"./app/utils/useNavigate.tsx":(e,t,s)=>{s.d(t,{s:()=>r}),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.array.push.js");var a=s("../node_modules/react/index.js"),o=s("./app/utils/useRouteContext.tsx"),n=s("./app/utils/withDomainRequired.tsx");function r(){const e=(0,o.s)().router,t=(0,a.useRef)(!1);(0,a.useEffect)((()=>{t.current=!0}));const s=(0,a.useCallback)((function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.current)throw new Error("You should call navigate() in a React.useEffect(), not when your component is first rendered.");if("number"==typeof s)return e.go(s);const o={pathname:(0,n.D)(s),state:a.state};return a.replace?e.replace(o):e.push(o)}),[e]);return s}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_demoEndModal_tsx.6a91a523d4ecf96e44cdaf28364ff444.js.map