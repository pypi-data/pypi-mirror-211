{"version":3,"file":"chunks/app_components_charts_areaChart_tsx-app_components_charts_chartZoom_tsx-app_components_profil-76d9b3.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/charts/areaChart.tsx","webpack:///./app/components/charts/series/areaSeries.tsx","webpack:///./app/components/charts/components/dataZoomSlider.tsx","webpack:///./app/components/charts/chartZoom.tsx","webpack:///./app/components/charts/components/dataZoomInside.tsx","webpack:///./app/components/charts/components/toolBox.tsx","webpack:///./app/components/performanceDuration.tsx","webpack:///./app/components/profiling/arrayLinks.tsx","webpack:///./app/components/profiling/suspectFunctions/functionsTable.tsx","webpack:///./app/components/profiling/suspectFunctions/suspectFunctionsTable.tsx","webpack:///./app/utils/profiling/hooks/useProfileFunctions.tsx","webpack:///./app/utils/profiling/hooks/utils.tsx","webpack:///./app/utils/profiling/tableRenderer.tsx"],"sourcesContent":["import type {LineSeriesOption} from 'echarts';\n\nimport {Series} from 'sentry/types/echarts';\n\nimport AreaSeries from './series/areaSeries';\nimport BaseChart from './baseChart';\n\ntype ChartProps = Omit<React.ComponentProps<typeof BaseChart>, 'css'>;\n\nexport type AreaChartSeries = Series & Omit<LineSeriesOption, 'data' | 'name'>;\n\nexport interface AreaChartProps extends Omit<ChartProps, 'series'> {\n  series: AreaChartSeries[];\n  additionalSeries?: LineSeriesOption[];\n  stacked?: boolean;\n}\n\nexport function AreaChart({series, stacked, colors, ...props}: AreaChartProps) {\n  return (\n    <BaseChart\n      {...props}\n      data-test-id=\"area-chart\"\n      colors={colors}\n      series={series.map(({seriesName, data, ...otherSeriesProps}, i) =>\n        AreaSeries({\n          stack: stacked ? 'area' : undefined,\n          name: seriesName,\n          data: data.map(({name, value}) => [name, value]),\n          lineStyle: {\n            color: colors?.[i],\n            opacity: 1,\n            width: 0.4,\n          },\n          areaStyle: {\n            color: colors?.[i],\n            opacity: 1.0,\n          },\n          animation: false,\n          animationThreshold: 1,\n          animationDuration: 0,\n          ...otherSeriesProps,\n        })\n      )}\n    />\n  );\n}\n","import type {LineSeriesOption} from 'echarts';\n\nimport LineSeries from 'sentry/components/charts/series/lineSeries';\n\nexport default function AreaSeries(props: LineSeriesOption = {}): LineSeriesOption {\n  return LineSeries({\n    ...props,\n  });\n}\n","import 'echarts/lib/component/dataZoomSlider';\n\nimport type {SliderDataZoomComponentOption} from 'echarts';\n\nconst DEFAULT: SliderDataZoomComponentOption = {\n  realtime: false,\n  showDetail: false,\n  left: 0,\n  right: 6,\n  bottom: 8,\n};\n\nexport default function DataZoomSlider(\n  props: SliderDataZoomComponentOption | SliderDataZoomComponentOption[]\n): SliderDataZoomComponentOption[] {\n  // `props` can be boolean, if so return default\n  if (!props || !Array.isArray(props)) {\n    const dataZoom = {\n      ...DEFAULT,\n      ...props,\n    };\n    return [dataZoom];\n  }\n\n  return props;\n}\n","import {Component} from 'react';\nimport {InjectedRouter} from 'react-router';\nimport type {\n  DataZoomComponentOption,\n  InsideDataZoomComponentOption,\n  ToolboxComponentOption,\n  XAXisComponentOption,\n} from 'echarts';\nimport moment from 'moment';\nimport * as qs from 'query-string';\n\nimport {updateDateTime} from 'sentry/actionCreators/pageFilters';\nimport DataZoomInside from 'sentry/components/charts/components/dataZoomInside';\nimport DataZoomSlider from 'sentry/components/charts/components/dataZoomSlider';\nimport ToolBox from 'sentry/components/charts/components/toolBox';\nimport {DateString} from 'sentry/types';\nimport {\n  EChartChartReadyHandler,\n  EChartDataZoomHandler,\n  EChartFinishedHandler,\n  EChartRestoreHandler,\n} from 'sentry/types/echarts';\nimport {callIfFunction} from 'sentry/utils/callIfFunction';\nimport {getUtcDateString, getUtcToLocalDateObject} from 'sentry/utils/dates';\n\nconst getDate = date =>\n  date ? moment.utc(date).format(moment.HTML5_FMT.DATETIME_LOCAL_SECONDS) : null;\n\ntype Period = {\n  end: DateString;\n  period: string | null;\n  start: DateString;\n};\n\nconst ZoomPropKeys = [\n  'period',\n  'xAxis',\n  'onChartReady',\n  'onDataZoom',\n  'onRestore',\n  'onFinished',\n] as const;\n\nexport type ZoomRenderProps = Pick<Props, (typeof ZoomPropKeys)[number]> & {\n  dataZoom?: DataZoomComponentOption[];\n  end?: Date;\n  isGroupedByDate?: boolean;\n  showTimeInTooltip?: boolean;\n  start?: Date;\n  toolBox?: ToolboxComponentOption;\n  utc?: boolean;\n};\n\ntype Props = {\n  children: (props: ZoomRenderProps) => React.ReactNode;\n  chartZoomOptions?: DataZoomComponentOption;\n  disabled?: boolean;\n  end?: DateString;\n  onChartReady?: EChartChartReadyHandler;\n  onDataZoom?: EChartDataZoomHandler;\n  onFinished?: EChartFinishedHandler;\n  onRestore?: EChartRestoreHandler;\n  onZoom?: (period: Period) => void;\n  period?: string | null;\n  router?: InjectedRouter;\n  showSlider?: boolean;\n  start?: DateString;\n  usePageDate?: boolean;\n  utc?: boolean | null;\n  xAxis?: XAXisComponentOption;\n  xAxisIndex?: number | number[];\n};\n\n/**\n * This is a very opinionated component that takes a render prop through `children`. It\n * will provide props to be passed to `BaseChart` to enable support of zooming without\n * eCharts' clunky zoom toolboxes.\n *\n * This also is very tightly coupled with the Global Selection Header. We can make it more\n * generic if need be in the future.\n */\nclass ChartZoom extends Component<Props> {\n  constructor(props: Props) {\n    super(props);\n\n    // Zoom history\n    this.history = [];\n\n    // Initialize current period instance state for zoom history\n    this.saveCurrentPeriod(props);\n  }\n\n  componentDidUpdate() {\n    if (this.props.disabled) {\n      return;\n    }\n\n    // When component updates, make sure we sync current period state\n    // for use in zoom history\n    this.saveCurrentPeriod(this.props);\n  }\n\n  history: Period[];\n  currentPeriod?: Period;\n  zooming: (() => void) | null = null;\n\n  /**\n   * Save current period state from period in props to be used\n   * in handling chart's zoom history state\n   */\n  saveCurrentPeriod = props => {\n    this.currentPeriod = {\n      period: props.period,\n      start: getDate(props.start),\n      end: getDate(props.end),\n    };\n  };\n\n  /**\n   * Sets the new period due to a zoom related action\n   *\n   * Saves the current period to an instance property so that we\n   * can control URL state when zoom history is being manipulated\n   * by the chart controls.\n   *\n   * Saves a callback function to be called after chart animation is completed\n   */\n  setPeriod = ({period, start, end}, saveHistory = false) => {\n    const {router, onZoom, usePageDate} = this.props;\n    const startFormatted = getDate(start);\n    const endFormatted = getDate(end);\n\n    // Save period so that we can revert back to it when using echarts \"back\" navigation\n    if (saveHistory) {\n      this.history.push(this.currentPeriod!);\n    }\n\n    // Callback to let parent component know zoom has changed\n    // This is required for some more perceived responsiveness since\n    // we delay updating URL state so that chart animation can finish\n    //\n    // Parent container can use this to change into a loading state before\n    // URL parameters are changed\n    onZoom?.({\n      period,\n      start: startFormatted,\n      end: endFormatted,\n    });\n\n    this.zooming = () => {\n      if (usePageDate && router) {\n        const newQuery = {\n          ...router.location.query,\n          pageStart: start ? getUtcDateString(start) : undefined,\n          pageEnd: end ? getUtcDateString(end) : undefined,\n          pageStatsPeriod: period ?? undefined,\n        };\n\n        // Only push new location if query params has changed because this will cause a heavy re-render\n        if (qs.stringify(newQuery) !== qs.stringify(router.location.query)) {\n          router.push({\n            pathname: router.location.pathname,\n            query: newQuery,\n          });\n        }\n      } else {\n        updateDateTime(\n          {\n            period,\n            start: startFormatted\n              ? getUtcToLocalDateObject(startFormatted)\n              : startFormatted,\n            end: endFormatted ? getUtcToLocalDateObject(endFormatted) : endFormatted,\n          },\n          router,\n          {skipDesyncUpdate: true}\n        );\n      }\n\n      this.saveCurrentPeriod({period, start, end});\n    };\n  };\n\n  /**\n   * Enable zoom immediately instead of having to toggle to zoom\n   */\n  handleChartReady = chart => {\n    this.props.onChartReady?.(chart);\n  };\n\n  /**\n   * Restores the chart to initial viewport/zoom level\n   *\n   * Updates URL state to reflect initial params\n   */\n  handleZoomRestore = (evt, chart) => {\n    if (!this.history.length) {\n      return;\n    }\n\n    this.setPeriod(this.history[0]);\n\n    // reset history\n    this.history = [];\n\n    this.props.onRestore?.(evt, chart);\n  };\n\n  handleDataZoom = (evt, chart) => {\n    const model = chart.getModel();\n    const {startValue, endValue} = model._payload.batch[0];\n\n    // if `rangeStart` and `rangeEnd` are null, then we are going back\n    if (startValue === null && endValue === null) {\n      const previousPeriod = this.history.pop();\n\n      if (!previousPeriod) {\n        return;\n      }\n\n      this.setPeriod(previousPeriod);\n    } else {\n      const start = moment.utc(startValue);\n\n      // Add a day so we go until the end of the day (e.g. next day at midnight)\n      const end = moment.utc(endValue);\n\n      this.setPeriod({period: null, start, end}, true);\n    }\n\n    this.props.onDataZoom?.(evt, chart);\n  };\n\n  /**\n   * Chart event when *any* rendering+animation finishes\n   *\n   * `this.zooming` acts as a callback function so that\n   * we can let the native zoom animation on the chart complete\n   * before we update URL state and re-render\n   */\n  handleChartFinished = (_props, chart) => {\n    if (typeof this.zooming === 'function') {\n      this.zooming();\n      this.zooming = null;\n    }\n\n    // This attempts to activate the area zoom toolbox feature\n    const zoom = chart._componentsViews?.find(c => c._features && c._features.dataZoom);\n    if (zoom && !zoom._features.dataZoom._isZoomActive) {\n      // Calling dispatchAction will re-trigger handleChartFinished\n      chart.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'dataZoomSelect',\n        dataZoomSelectActive: true,\n      });\n    }\n\n    callIfFunction(this.props.onFinished);\n  };\n\n  render() {\n    const {\n      utc: _utc,\n      start: _start,\n      end: _end,\n      disabled,\n      children,\n      xAxisIndex,\n\n      router: _router,\n      onZoom: _onZoom,\n      onRestore: _onRestore,\n      onChartReady: _onChartReady,\n      onDataZoom: _onDataZoom,\n      onFinished: _onFinished,\n      showSlider,\n      chartZoomOptions,\n      ...props\n    } = this.props;\n\n    const utc = _utc ?? undefined;\n    const start = _start ? getUtcToLocalDateObject(_start) : undefined;\n    const end = _end ? getUtcToLocalDateObject(_end) : undefined;\n\n    if (disabled) {\n      return children({\n        utc,\n        start,\n        end,\n        ...props,\n      });\n    }\n    const renderProps = {\n      // Zooming only works when grouped by date\n      isGroupedByDate: true,\n      onChartReady: this.handleChartReady,\n      utc,\n      start,\n      end,\n      dataZoom: showSlider\n        ? [\n            ...DataZoomSlider({xAxisIndex, ...chartZoomOptions}),\n            ...DataZoomInside({\n              xAxisIndex,\n              ...(chartZoomOptions as InsideDataZoomComponentOption),\n            }),\n          ]\n        : DataZoomInside({\n            xAxisIndex,\n            ...(chartZoomOptions as InsideDataZoomComponentOption),\n          }),\n      showTimeInTooltip: true,\n      toolBox: ToolBox(\n        {},\n        {\n          dataZoom: {\n            title: {\n              zoom: '',\n              back: '',\n            },\n            iconStyle: {\n              borderWidth: 0,\n              color: 'transparent',\n              opacity: 0,\n            },\n          },\n        }\n      ),\n      onDataZoom: this.handleDataZoom,\n      onFinished: this.handleChartFinished,\n      onRestore: this.handleZoomRestore,\n      ...props,\n    };\n\n    return children(renderProps);\n  }\n}\n\nexport default ChartZoom;\n","import 'echarts/lib/component/dataZoomInside';\n\nimport type {InsideDataZoomComponentOption} from 'echarts';\n\nconst DEFAULT: InsideDataZoomComponentOption = {\n  type: 'inside',\n  // Mouse wheel can not trigger zoom\n  zoomOnMouseWheel: false,\n  // The translation (by mouse drag or touch drag) is available but zoom is not\n  zoomLock: true,\n  throttle: 50,\n};\n\nexport default function DataZoomInside(\n  props: InsideDataZoomComponentOption | InsideDataZoomComponentOption[]\n): InsideDataZoomComponentOption[] {\n  // `props` can be boolean, if so return default\n  if (!props || !Array.isArray(props)) {\n    const dataZoom = {\n      ...DEFAULT,\n      ...props,\n    };\n    return [dataZoom];\n  }\n\n  return props;\n}\n","import type {ToolboxComponentOption} from 'echarts';\n\nfunction getFeatures({\n  dataZoom,\n  ...features\n}: ToolboxComponentOption['feature'] = {}): ToolboxComponentOption['feature'] {\n  return {\n    ...(dataZoom\n      ? {\n          dataZoom: {\n            yAxisIndex: 'none',\n            title: {\n              zoom: 'zoom',\n              back: 'undo',\n            },\n            ...dataZoom,\n          },\n        }\n      : {}),\n    ...features,\n  };\n}\n\nexport default function ToolBox(\n  options: ToolboxComponentOption,\n  features: ToolboxComponentOption['feature']\n): ToolboxComponentOption {\n  return {\n    right: 0,\n    top: 0,\n    itemSize: 16,\n    // Stack the toolbox under the legend.\n    // so all series names are clickable.\n    z: -1,\n\n    feature: getFeatures(features),\n    ...options,\n  };\n}\n","import Duration from 'sentry/components/duration';\nimport {defined} from 'sentry/utils';\n\ninterface DurationProps {\n  abbreviation?: boolean;\n}\n\ninterface SecondsProps extends DurationProps {\n  seconds: number;\n}\n\ninterface MillisecondsProps extends DurationProps {\n  milliseconds: number;\n}\n\ninterface NanosecondsProps extends DurationProps {\n  nanoseconds: number;\n}\n\ntype PerformanceDurationProps = SecondsProps | MillisecondsProps | NanosecondsProps;\n\nfunction isMilliseconds(props: PerformanceDurationProps): props is MillisecondsProps {\n  return defined((props as MillisecondsProps).milliseconds);\n}\n\nfunction isNanoseconds(props: PerformanceDurationProps): props is NanosecondsProps {\n  return defined((props as NanosecondsProps).nanoseconds);\n}\n\nfunction PerformanceDuration(props: PerformanceDurationProps) {\n  const normalizedSeconds = isNanoseconds(props)\n    ? props.nanoseconds / 1_000_000_000\n    : isMilliseconds(props)\n    ? props.milliseconds / 1000\n    : props.seconds;\n\n  return (\n    <Duration\n      abbreviation={props.abbreviation}\n      seconds={normalizedSeconds}\n      fixedDigits={2}\n    />\n  );\n}\n\nexport default PerformanceDuration;\n","import {useState} from 'react';\nimport styled from '@emotion/styled';\nimport {LocationDescriptor} from 'history';\n\nimport Link from 'sentry/components/links/link';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\ntype Item = {\n  target: LocationDescriptor;\n  value: string;\n  onClick?: () => void;\n};\n\ninterface ArrayLinksProps {\n  items: Item[];\n}\n\nfunction ArrayLinks({items}: ArrayLinksProps) {\n  const [expanded, setExpanded] = useState(false);\n  const firstItem = items[0];\n\n  return (\n    <ArrayContainer expanded={expanded}>\n      {firstItem && <LinkedItem item={firstItem} />}\n      {items.length > 1 &&\n        expanded &&\n        items\n          .slice(1, items.length)\n          .map(item => <LinkedItem key={item.value} item={item} />)}\n      {items.length > 1 ? (\n        <ButtonContainer>\n          <button onClick={() => setExpanded(!expanded)}>\n            {expanded ? t('[collapse]') : t('[+%s more]', items.length - 1)}\n          </button>\n        </ButtonContainer>\n      ) : null}\n    </ArrayContainer>\n  );\n}\n\nfunction LinkedItem({item}: {item: Item}) {\n  return (\n    <ArrayItem>\n      <Link to={item.target} onClick={item?.onClick}>\n        {item.value}\n      </Link>\n    </ArrayItem>\n  );\n}\n\nconst ArrayContainer = styled('div')<{expanded: boolean}>`\n  display: flex;\n  flex-direction: ${p => (p.expanded ? 'column' : 'row')};\n`;\n\nconst ArrayItem = styled('span')`\n  flex-shrink: 1;\n  display: block;\n\n  ${p => p.theme.overflowEllipsis};\n  width: unset;\n`;\n\nconst ButtonContainer = styled('div')`\n  white-space: nowrap;\n\n  & button {\n    background: none;\n    border: 0;\n    outline: none;\n    padding: 0;\n    cursor: pointer;\n    color: ${p => p.theme.linkColor};\n    margin-left: ${space(0.5)};\n  }\n`;\n\nexport {ArrayLinks};\n","import {useCallback, useMemo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Count from 'sentry/components/count';\nimport GridEditable, {\n  COL_WIDTH_UNDEFINED,\n  GridColumnOrder,\n} from 'sentry/components/gridEditable';\nimport PerformanceDuration from 'sentry/components/performanceDuration';\nimport {ArrayLinks} from 'sentry/components/profiling/arrayLinks';\nimport {t} from 'sentry/locale';\nimport {Project} from 'sentry/types';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport {Container, NumberContainer} from 'sentry/utils/discover/styles';\nimport {getShortEventId} from 'sentry/utils/events';\nimport {EventsResults, Sort} from 'sentry/utils/profiling/hooks/types';\nimport {generateProfileFlamechartRouteWithQuery} from 'sentry/utils/profiling/routes';\nimport {renderTableHead} from 'sentry/utils/profiling/tableRenderer';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport useOrganization from 'sentry/utils/useOrganization';\n\ninterface FunctionsTableProps {\n  analyticsPageSource: 'performance_transaction' | 'profiling_transaction';\n  error: string | null;\n  functions: EventsResults<TableColumnKey>['data'];\n  isLoading: boolean;\n  project: Project | undefined;\n  sort: Sort<any>;\n}\n\nfunction FunctionsTable(props: FunctionsTableProps) {\n  const location = useLocation();\n  const organization = useOrganization();\n\n  const functions: TableDataRow[] = useMemo(() => {\n    const project = props.project;\n    if (!project) {\n      return [];\n    }\n    return props.functions.map(func => {\n      const profileIds = (func['examples()'] as unknown as string[]) || [];\n\n      return {\n        ...func,\n        'examples()': profileIds.map(profileId => {\n          return {\n            value: getShortEventId(profileId),\n            onClick: () =>\n              trackAnalytics('profiling_views.go_to_flamegraph', {\n                organization,\n                source: `${props.analyticsPageSource}.suspect_functions_table`,\n              }),\n            target: generateProfileFlamechartRouteWithQuery({\n              orgSlug: organization.slug,\n              projectSlug: project.slug,\n              profileId,\n              query: {\n                // specify the frame to focus, the flamegraph will switch\n                // to the appropriate thread when these are specified\n                frameName: func.function as string,\n                framePackage: func.package as string,\n              },\n            }),\n          };\n        }),\n      };\n    });\n  }, [organization, props.project, props.functions, props.analyticsPageSource]);\n\n  const generateSortLink = useCallback(\n    (column: TableColumnKey) => {\n      if (!SORTABLE_COLUMNS.has(column)) {\n        return () => undefined;\n      }\n\n      const direction =\n        props.sort.key !== column ? 'desc' : props.sort.order === 'desc' ? 'asc' : 'desc';\n\n      return () => ({\n        ...location,\n        query: {\n          ...location.query,\n          functionsSort: `${direction === 'desc' ? '-' : ''}${column}`,\n        },\n      });\n    },\n    [location, props.sort]\n  );\n\n  return (\n    <GridEditable\n      isLoading={props.isLoading}\n      error={props.error}\n      data={functions}\n      columnOrder={COLUMN_ORDER.map(key => COLUMNS[key])}\n      columnSortBy={[]}\n      grid={{\n        renderHeadCell: renderTableHead({\n          currentSort: props.sort,\n          rightAlignedColumns: RIGHT_ALIGNED_COLUMNS,\n          sortableColumns: SORTABLE_COLUMNS,\n          generateSortLink,\n        }),\n        renderBodyCell: renderFunctionsTableCell,\n      }}\n      location={location}\n    />\n  );\n}\n\nconst RIGHT_ALIGNED_COLUMNS = new Set<TableColumnKey>(['p75()', 'sum()', 'count()']);\n\nconst SORTABLE_COLUMNS = RIGHT_ALIGNED_COLUMNS;\n\nfunction renderFunctionsTableCell(\n  column: TableColumn,\n  dataRow: TableDataRow,\n  rowIndex: number,\n  columnIndex: number\n) {\n  return (\n    <ProfilingFunctionsTableCell\n      column={column}\n      dataRow={dataRow}\n      rowIndex={rowIndex}\n      columnIndex={columnIndex}\n    />\n  );\n}\n\ninterface ProfilingFunctionsTableCellProps {\n  column: TableColumn;\n  columnIndex: number;\n  dataRow: TableDataRow;\n  rowIndex: number;\n}\n\nconst EmptyValueContainer = styled('span')`\n  color: ${p => p.theme.gray300};\n`;\n\nfunction ProfilingFunctionsTableCell({\n  column,\n  dataRow,\n}: ProfilingFunctionsTableCellProps) {\n  const value = dataRow[column.key];\n\n  switch (column.key) {\n    case 'count()':\n      return (\n        <NumberContainer>\n          <Count value={value} />\n        </NumberContainer>\n      );\n    case 'p75()':\n    case 'sum()':\n      return (\n        <NumberContainer>\n          <PerformanceDuration nanoseconds={value} abbreviation />\n        </NumberContainer>\n      );\n    case 'examples()':\n      return <ArrayLinks items={value} />;\n    case 'function':\n    case 'package':\n      const name = value || <EmptyValueContainer>{t('Unknown')}</EmptyValueContainer>;\n      return <Container>{name}</Container>;\n    default:\n      return <Container>{value}</Container>;\n  }\n}\n\nconst FIELDS = [\n  'function',\n  'package',\n  'count()',\n  'p75()',\n  'sum()',\n  'examples()',\n] as const;\n\ntype TableColumnKey = (typeof FIELDS)[number];\n\ntype TableDataRow = Record<TableColumnKey, any>;\n\ntype TableColumn = GridColumnOrder<TableColumnKey>;\n\nconst COLUMN_ORDER: TableColumnKey[] = [\n  'function',\n  'package',\n  'count()',\n  'p75()',\n  'sum()',\n  'examples()',\n];\n\nconst COLUMNS: Record<TableColumnKey, TableColumn> = {\n  function: {\n    key: 'function',\n    name: t('Name'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  package: {\n    key: 'package',\n    name: t('Package'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  'p75()': {\n    key: 'p75()',\n    name: t('P75 Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  'sum()': {\n    key: 'sum()',\n    name: t('Total Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  'count()': {\n    key: 'count()',\n    name: t('Occurrences'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  'examples()': {\n    key: 'examples()',\n    name: t('Example Profiles'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n};\n\nexport {FunctionsTable};\n","import {Fragment, useCallback, useMemo, useState} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {CompactSelect} from 'sentry/components/compactSelect';\nimport Pagination from 'sentry/components/pagination';\nimport {FunctionsTable} from 'sentry/components/profiling/suspectFunctions/functionsTable';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Project} from 'sentry/types';\nimport {useProfileFunctions} from 'sentry/utils/profiling/hooks/useProfileFunctions';\nimport {formatSort} from 'sentry/utils/profiling/hooks/utils';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport {useLocation} from 'sentry/utils/useLocation';\n\ninterface SuspectFunctionsTableProps {\n  analyticsPageSource: 'performance_transaction' | 'profiling_transaction';\n  project: Project | undefined;\n  transaction: string;\n}\n\nconst FUNCTIONS_CURSOR_NAME = 'functionsCursor';\n\nexport function SuspectFunctionsTable({\n  analyticsPageSource,\n  project,\n  transaction,\n}: SuspectFunctionsTableProps) {\n  const [functionType, setFunctionType] = useState<'application' | 'system' | 'all'>(\n    'application'\n  );\n  const location = useLocation();\n  const functionsCursor = useMemo(\n    () => decodeScalar(location.query.functionsCursor),\n    [location.query.functionsCursor]\n  );\n  const functionsSort = useMemo(\n    () =>\n      formatSort<FunctionsField>(\n        decodeScalar(location.query.functionsSort),\n        functionsFields,\n        {\n          key: 'sum()',\n          order: 'desc',\n        }\n      ),\n    [location.query.functionsSort]\n  );\n\n  const handleFunctionsCursor = useCallback((cursor, pathname, query) => {\n    browserHistory.push({\n      pathname,\n      query: {...query, [FUNCTIONS_CURSOR_NAME]: cursor},\n    });\n  }, []);\n\n  const query = useMemo(() => {\n    const conditions = new MutableSearch('');\n    conditions.setFilterValues('transaction', [transaction]);\n    if (functionType === 'application') {\n      conditions.setFilterValues('is_application', ['1']);\n    } else if (functionType === 'system') {\n      conditions.setFilterValues('is_application', ['0']);\n    }\n    return conditions.formatString();\n  }, [functionType, transaction]);\n\n  const functionsQuery = useProfileFunctions<FunctionsField>({\n    fields: functionsFields,\n    referrer: 'api.profiling.profile-summary-functions-table',\n    sort: functionsSort,\n    query,\n    limit: 5,\n    cursor: functionsCursor,\n  });\n\n  return (\n    <Fragment>\n      <TableHeader>\n        <CompactSelect\n          triggerProps={{prefix: t('Suspect Functions'), size: 'xs'}}\n          value={functionType}\n          options={[\n            {\n              label: t('All'),\n              value: 'all' as const,\n            },\n            {\n              label: t('Application'),\n              value: 'application' as const,\n            },\n            {\n              label: t('System'),\n              value: 'system' as const,\n            },\n          ]}\n          onChange={({value}) => setFunctionType(value)}\n        />\n        <StyledPagination\n          pageLinks={\n            functionsQuery.isFetched\n              ? functionsQuery.data?.[2]?.getResponseHeader('Link') ?? null\n              : null\n          }\n          onCursor={handleFunctionsCursor}\n          size=\"xs\"\n        />\n      </TableHeader>\n      <FunctionsTable\n        analyticsPageSource={analyticsPageSource}\n        error={functionsQuery.isError ? functionsQuery.error.message : null}\n        isLoading={functionsQuery.isLoading}\n        functions={functionsQuery.isFetched ? functionsQuery.data?.data ?? [] : []}\n        project={project}\n        sort={functionsSort}\n      />\n    </Fragment>\n  );\n}\n\nconst functionsFields = [\n  'package',\n  'function',\n  'count()',\n  'p75()',\n  'sum()',\n  'examples()',\n] as const;\n\ntype FunctionsField = (typeof functionsFields)[number];\n\nconst TableHeader = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ${space(1)};\n`;\n\nconst StyledPagination = styled(Pagination)`\n  margin: 0 0 0 ${space(1)};\n`;\n","import {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {PageFilters} from 'sentry/types';\nimport {useApiQuery} from 'sentry/utils/queryClient';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport usePageFilters from 'sentry/utils/usePageFilters';\n\nimport type {EventsResults, Sort} from './types';\n\nexport interface UseProfileFunctionsOptions<F extends string> {\n  fields: readonly F[];\n  referrer: string;\n  sort: Sort<F>;\n  cursor?: string;\n  datetime?: PageFilters['datetime'];\n  enabled?: boolean;\n  limit?: number;\n  projects?: (number | string)[];\n  query?: string;\n  refetchOnMount?: boolean;\n}\n\nexport function useProfileFunctions<F extends string>({\n  fields,\n  referrer,\n  sort,\n  cursor,\n  datetime,\n  enabled,\n  limit,\n  projects,\n  query,\n  refetchOnMount,\n}: UseProfileFunctionsOptions<F>) {\n  const organization = useOrganization();\n  const {selection} = usePageFilters();\n\n  const path = `/organizations/${organization.slug}/events/`;\n  const endpointOptions = {\n    query: {\n      dataset: 'profileFunctions',\n      referrer,\n      project: projects || selection.projects,\n      environment: selection.environments,\n      ...normalizeDateTimeParams(datetime ?? selection.datetime),\n      field: fields,\n      per_page: limit,\n      query,\n      sort: sort.order === 'asc' ? sort.key : `-${sort.key}`,\n      cursor,\n    },\n  };\n\n  return useApiQuery<EventsResults<F>>([path, endpointOptions], {\n    staleTime: 0,\n    refetchOnWindowFocus: false,\n    refetchOnMount,\n    retry: false,\n    enabled,\n  });\n}\n","import {t} from 'sentry/locale';\nimport {defined} from 'sentry/utils';\n\nimport type {Sort} from './types';\n\nexport function formatSort<F extends string>(\n  value: string | undefined,\n  allowedKeys: readonly F[],\n  fallback: Sort<F>\n): Sort<F> {\n  value = value || '';\n  const order: Sort<F>['order'] = value[0] === '-' ? 'desc' : 'asc';\n  const key = order === 'asc' ? value : value.substring(1);\n\n  if (!allowedKeys.includes(key as F)) {\n    return fallback;\n  }\n\n  return {key: key as F, order};\n}\n\nexport function formatError(error: any): string | null {\n  if (!defined(error)) {\n    return null;\n  }\n\n  const detail = error.responseJSON?.detail;\n  if (typeof detail === 'string') {\n    return detail;\n  }\n\n  const message = detail?.message;\n  if (typeof message === 'string') {\n    return message;\n  }\n\n  return t('An unknown error occurred.');\n}\n","import {LocationDescriptorObject} from 'history';\n\nimport {GridColumnOrder, GridColumnSortBy} from 'sentry/components/gridEditable';\nimport SortLink from 'sentry/components/gridEditable/sortLink';\n\ninterface TableHeadProps<K> {\n  currentSort?: GridColumnSortBy<K> | null;\n  generateSortLink?: (column: K) => () => LocationDescriptorObject | undefined;\n  onClick?(column: GridColumnOrder<K>, e: React.MouseEvent<HTMLAnchorElement>): void;\n  rightAlignedColumns?: Set<K>;\n  sortableColumns?: Set<K>;\n}\n\nexport function renderTableHead<K>({\n  currentSort,\n  generateSortLink,\n  rightAlignedColumns,\n  sortableColumns,\n  onClick,\n}: TableHeadProps<K>) {\n  return function (column: GridColumnOrder<K>, _columnIndex: number) {\n    return (\n      <SortLink\n        onClick={e => onClick?.(column, e)}\n        align={rightAlignedColumns?.has(column.key) ? 'right' : 'left'}\n        title={column.name}\n        direction={currentSort?.key === column.key ? currentSort?.order : undefined}\n        canSort={sortableColumns?.has(column.key) || false}\n        generateSortLink={generateSortLink?.(column.key) ?? (() => undefined)}\n        replace\n      />\n    );\n  };\n}\n"],"names":["AreaChart","_ref","series","stacked","colors","props","_jsx","BaseChart","map","_ref2","i","seriesName","data","otherSeriesProps","arguments","length","undefined","LineSeries","AreaSeries","stack","name","_ref3","value","lineStyle","color","opacity","width","areaStyle","animation","animationThreshold","animationDuration","displayName","DEFAULT","realtime","showDetail","left","right","bottom","DataZoomSlider","Array","isArray","getDate","date","moment","format","ChartZoom","Component","constructor","_this","super","this","_defineProperty","currentPeriod","period","start","end","saveHistory","router","onZoom","usePageDate","startFormatted","endFormatted","history","push","zooming","newQuery","location","query","pageStart","getUtcDateString","pageEnd","pageStatsPeriod","qs","pathname","updateDateTime","getUtcToLocalDateObject","skipDesyncUpdate","saveCurrentPeriod","chart","onChartReady","evt","setPeriod","onRestore","model","getModel","startValue","endValue","_payload","batch","previousPeriod","pop","onDataZoom","_props","zoom","_componentsViews","find","c","_features","dataZoom","_isZoomActive","dispatchAction","type","key","dataZoomSelectActive","callIfFunction","onFinished","componentDidUpdate","disabled","render","utc","_utc","_start","_end","children","xAxisIndex","_router","_onZoom","_onRestore","_onChartReady","_onDataZoom","_onFinished","showSlider","chartZoomOptions","isGroupedByDate","handleChartReady","DataZoomInside","showTimeInTooltip","toolBox","ToolBox","title","back","iconStyle","borderWidth","handleDataZoom","handleChartFinished","handleZoomRestore","zoomOnMouseWheel","zoomLock","throttle","getFeatures","features","yAxisIndex","options","top","itemSize","z","feature","PerformanceDuration","normalizedSeconds","defined","nanoseconds","isNanoseconds","milliseconds","isMilliseconds","seconds","Duration","abbreviation","fixedDigits","ArrayLinks","items","expanded","setExpanded","useState","firstItem","_jsxs","ArrayContainer","LinkedItem","item","slice","ButtonContainer","onClick","t","ArrayItem","Link","to","target","_styled","p","theme","overflowEllipsis","linkColor","space","FunctionsTable","useLocation","organization","useOrganization","functions","useMemo","project","func","profileIds","profileId","getShortEventId","trackAnalytics","source","analyticsPageSource","generateProfileFlamechartRouteWithQuery","orgSlug","slug","projectSlug","frameName","function","framePackage","package","generateSortLink","useCallback","column","SORTABLE_COLUMNS","has","direction","sort","order","functionsSort","GridEditable","isLoading","error","columnOrder","COLUMN_ORDER","COLUMNS","columnSortBy","grid","renderHeadCell","renderTableHead","currentSort","rightAlignedColumns","RIGHT_ALIGNED_COLUMNS","sortableColumns","renderBodyCell","renderFunctionsTableCell","Set","dataRow","rowIndex","columnIndex","ProfilingFunctionsTableCell","EmptyValueContainer","gray300","NumberContainer","Count","Container","COL_WIDTH_UNDEFINED","FUNCTIONS_CURSOR_NAME","SuspectFunctionsTable","transaction","functionType","setFunctionType","functionsCursor","decodeScalar","formatSort","functionsFields","handleFunctionsCursor","cursor","browserHistory","conditions","MutableSearch","setFilterValues","formatString","functionsQuery","useProfileFunctions","fields","referrer","limit","Fragment","TableHeader","CompactSelect","triggerProps","prefix","size","label","onChange","StyledPagination","pageLinks","isFetched","getResponseHeader","onCursor","isError","message","Pagination","datetime","enabled","projects","refetchOnMount","selection","usePageFilters","path","endpointOptions","dataset","environment","environments","normalizeDateTimeParams","field","per_page","useApiQuery","staleTime","refetchOnWindowFocus","retry","allowedKeys","fallback","substring","includes","formatError","detail","responseJSON","_columnIndex","SortLink","e","align","canSort","replace"],"sourceRoot":""}