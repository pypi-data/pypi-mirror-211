{"version":3,"file":"chunks/vendors-node_modules_echarts_lib_component_dataZoomInside_js.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///../node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack:///../node_modules/echarts/lib/component/dataZoom/roams.js","webpack:///../node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack:///../node_modules/echarts/lib/component/dataZoomInside.js","webpack:///../node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","webpack:///../node_modules/echarts/lib/component/helper/RoamController.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n\nvar InsideZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomModel, _super);\n\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\n\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\n\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\n\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\n\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\n\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (becuase it hold the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\n\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as roams from './roams.js';\nimport { bind } from 'zrender/lib/core/util.js';\n\nvar InsideZoomView =\n/** @class */\nfunction (_super) {\n  __extends(InsideZoomView, _super);\n\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      return;\n    } // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n\n\n    this.range = dataZoomModel.getPercentRange(); // Reset controllers.\n\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\n\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\n\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\n\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../extension.js';\nimport { install } from './dataZoom/installDataZoomInside.js';\nuse(install);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel.js';\nimport InsideZoomView from './InsideZoomView.js';\nimport { installDataZoomRoamProcessor } from './roams.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\n;\n\nvar RoamController =\n/** @class */\nfunction (_super) {\n  __extends(RoamController, _super);\n\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n\n    _this._zr = zr; // Avoid two roamController bind the same handler\n\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n\n      if (controlType == null) {\n        controlType = true;\n      }\n\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n\n    return _this;\n  }\n\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      return;\n    }\n\n    var el = e.target;\n\n    while (el) {\n      if (el.draggable) {\n        return;\n      } // check if host is draggable\n\n\n      el = el.__hostTarget || el.parent;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n\n\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n\n  return RoamController;\n}(Eventful);\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e); // TODO should not have type issue.\n\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\n\nexport default RoamController;"],"names":["_super","InsideZoomModel","_this","apply","this","arguments","type","defaultOption","DataZoomModel","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","inner","disposeCoordSysRecord","coordSysRecordMap","coordSysRecord","removeKey","model","uid","controller","dispose","dispatchAction","api","batch","isDisposed","animation","easing","duration","containsPoint","coordSysModel","e","x","y","coordinateSystem","containPoint","InsideZoomView","prototype","render","dataZoomModel","ecModel","noTarget","_clear","range","getPercentRange","getRange","each","dzInfo","dataZoomInfoMap","get","pan","bind","getRangeHandlers","zoom","scrollMove","coordSysKeyArr","keys","i","length","coordSysKey","dzUid","DataZoomView","coordSysInfo","coordSysMainType","lastRange","slice","axisModel","axisModels","directionInfo","getDirectionInfo","originX","originY","percentPoint","signal","pixelStart","pixelLength","pixel","scale","Math","max","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","sliderMove","minSpan","maxSpan","makeMover","oldX","oldY","newX","newY","scrollDelta","getPercentDelta","percentDelta","grid","oldPoint","newPoint","axis","ret","rect","getRect","dim","width","inverse","height","polar","radiusExtent","getRadiusAxis","getExtent","angleExtent","getAngleAxis","pointToCoord","mainType","singleAxis","orient","registers","installCommon","registerComponentModel","registerComponentView","registerProcessor","PRIORITY","PROCESSOR","FILTER","apiInner","createHashMap","eachComponent","subType","dzReferCoordSysWrap","infoList","dzCoordSysInfo","coordSysUid","set","curry","RoamController","getZr","eventName","on","event","isAvailableBehavior","option","method","dzReferCoordSysInfo","push","dataZoomId","id","start","end","createCoordSysRecord","firstDzInfo","firstDzKey","controllerParams","controlType","prefix","typePriority","dataZoomInfo","oneType","opt","mergeControllerParams","enable","setPointerChecker","throttle","installDataZoomRoamProcessor","checkPointerAndTrigger","behaviorToCheck","contollerEvent","pointerChecker","trigger","settings","setting","isString","zr","call","_zr","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","disable","_opt","defaults","clone","off","isDragging","_dragging","isPinching","_pinching","el","target","draggable","__hostTarget","parent","offsetX","offsetY","_x","_y","gestureEvent","dx","dy","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","abs","factor","absDelta","pinchScale","pinchX","pinchY"],"sourceRoot":""}