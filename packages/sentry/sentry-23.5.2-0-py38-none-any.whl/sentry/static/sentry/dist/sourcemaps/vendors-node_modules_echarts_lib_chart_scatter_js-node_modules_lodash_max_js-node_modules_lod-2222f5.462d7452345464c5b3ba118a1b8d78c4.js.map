{"version":3,"file":"chunks/vendors-node_modules_echarts_lib_chart_scatter_js-node_modules_lodash_max_js-node_modules_lod-2222f5.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///../node_modules/echarts/lib/chart/scatter/ScatterSeries.js","webpack:///../node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","webpack:///../node_modules/echarts/lib/chart/scatter/ScatterView.js","webpack:///../node_modules/echarts/lib/chart/scatter.js","webpack:///../node_modules/echarts/lib/chart/scatter/install.js","webpack:///../node_modules/lodash/_baseLt.js","webpack:///../node_modules/lodash/max.js","webpack:///../node_modules/lodash/min.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\n\nvar ScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ScatterSeriesModel, _super);\n\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  ScatterSeriesModel.prototype.getZLevelKey = function () {\n    // Each progressive series has individual key.\n    return this.getData().count() > this.getProgressiveThreshold() ? this.id : '';\n  };\n\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8 // color: 各异\n\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    } // progressive: null\n\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\n\nexport default ScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\n\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { getECData } from '../../util/innerStore.js';\nvar BOOST_SIZE_THRESHOLD = 4;\n\nvar LargeSymbolPathShape =\n/** @class */\nfunction () {\n  function LargeSymbolPathShape() {}\n\n  return LargeSymbolPathShape;\n}();\n\nvar LargeSymbolPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeSymbolPath, _super);\n\n  function LargeSymbolPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this._off = 0;\n    _this.hoverDataIdx = -1;\n    return _this;\n  }\n\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n\n  LargeSymbolPath.prototype.reset = function () {\n    this.notClear = false;\n    this._off = 0;\n  };\n\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD;\n    var softClipShape = this.softClipShape;\n    var i; // Do draw in afterBrush.\n\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n\n    this._ctx = null;\n\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n    var softClipShape = this.softClipShape;\n    var i;\n\n    if (!ctx) {\n      return;\n    } // PENDING If style or other canvas status changed?\n\n\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  };\n\n  LargeSymbolPath.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      // Cache found data index.\n      var dataIdx = this.hoverDataIdx = this.findDataIndex(x, y);\n      return dataIdx >= 0;\n    }\n\n    this.hoverDataIdx = -1;\n    return false;\n  };\n\n  LargeSymbolPath.prototype.getBoundingRect = function () {\n    // Ignore stroke for large symbol draw.\n    var rect = this._rect;\n\n    if (!rect) {\n      var shape = this.shape;\n      var points = shape.points;\n      var size = shape.size;\n      var w = size[0];\n      var h = size[1];\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < points.length;) {\n        var x = points[i++];\n        var y = points[i++];\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n      }\n\n      rect = this._rect = new graphic.BoundingRect(minX - w / 2, minY - h / 2, maxX - minX + w, maxY - minY + h);\n    }\n\n    return rect;\n  };\n\n  return LargeSymbolPath;\n}(graphic.Path);\n\nvar LargeSymbolDraw =\n/** @class */\nfunction () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n  /**\n   * Update symbols draw by new data\n   */\n\n\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this._clear();\n\n    var symbolEl = this._create();\n\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, opt);\n  };\n\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n\n      child.setShape('points', points); // Reset draw cursor.\n\n      child.reset();\n    });\n  };\n\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._clear();\n  };\n\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var lastAdded = this._newAdded[0];\n    var points = data.getLayout('points');\n    var oldPoints = lastAdded && lastAdded.shape.points; // Merging the exists. Each element has 1e4 points.\n    // Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)\n\n    if (oldPoints && oldPoints.length < 2e4) {\n      var oldLen = oldPoints.length;\n      var newPoints = new Float32Array(oldLen + points.length); // Concat two array\n\n      newPoints.set(oldPoints);\n      newPoints.set(points, oldLen); // Update endIndex\n\n      lastAdded.endIndex = taskParams.end;\n      lastAdded.setShape({\n        points: newPoints\n      });\n    } else {\n      // Clear\n      this._newAdded = [];\n\n      var symbolEl = this._create();\n\n      symbolEl.startIndex = taskParams.start;\n      symbolEl.endIndex = taskParams.end;\n      symbolEl.incremental = true;\n      symbolEl.setShape({\n        points: points\n      });\n\n      this._setCommon(symbolEl, data, opt);\n    }\n  };\n\n  LargeSymbolDraw.prototype.eachRendered = function (cb) {\n    this._newAdded[0] && cb(this._newAdded[0]);\n  };\n\n  LargeSymbolDraw.prototype._create = function () {\n    var symbolEl = new LargeSymbolPath({\n      cursor: 'default'\n    });\n    symbolEl.ignoreCoarsePointer = true;\n    this.group.add(symbolEl);\n\n    this._newAdded.push(symbolEl);\n\n    return symbolEl;\n  };\n\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n\n    var ecData = getECData(symbolEl); // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n\n    ecData.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      ecData.dataIndex = null;\n      var dataIndex = symbolEl.hoverDataIdx;\n\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        ecData.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  };\n\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clear();\n  };\n\n  LargeSymbolDraw.prototype._clear = function () {\n    this._newAdded = [];\n    this.group.removeAll();\n  };\n\n  return LargeSymbolDraw;\n}();\n\nexport default LargeSymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype.eachRendered = function (cb) {\n    this._symbolDraw && this._symbolDraw.eachRendered(cb);\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../extension.js';\nimport { install } from './scatter/install.js';\nuse(install);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport ScatterSeriesModel from './ScatterSeries.js';\nimport ScatterView from './ScatterView.js';\nimport { install as installGridSimple } from '../../component/grid/installSimple.js';\nimport layoutPoints from '../../layout/points.js';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n"],"names":["_super","ScatterSeriesModel","_this","apply","this","arguments","type","hasSymbolVisual","prototype","getInitialData","option","ecModel","createSeriesData","useEncodeDefaulter","getProgressive","progressive","large","get","getProgressiveThreshold","progressiveThreshold","brushSelector","dataIndex","data","selectors","point","getItemLayout","getZLevelKey","getData","count","id","dependencies","defaultOption","coordinateSystem","z","legendHoverLink","symbolSize","largeThreshold","itemStyle","opacity","emphasis","scale","clip","select","borderColor","universalTransition","divideShape","LargeSymbolPathShape","LargeSymbolPath","opts","call","_off","hoverDataIdx","getDefaultShape","reset","notClear","buildPath","path","shape","i","points","size","symbolProxy","symbolProxyShape","ctx","getContext","canBoost","softClipShape","_ctx","length","x","y","isNaN","contain","width","height","incremental","afterBrush","fillRect","findDataIndex","w","Math","max","h","idx","x0","y0","localPos","transformCoordToLocal","rect","getBoundingRect","_rect","minX","Infinity","minY","maxX","maxY","min","LargeSymbolDraw","group","updateData","opt","_clear","symbolEl","_create","setShape","getLayout","_setCommon","updateLayout","eachChild","child","startIndex","len","endIndex","byteOffset","Float32Array","buffer","incrementalPrepareUpdate","incrementalUpdate","taskParams","lastAdded","_newAdded","oldPoints","oldLen","newPoints","set","end","start","eachRendered","cb","cursor","ignoreCoarsePointer","add","push","hostModel","getVisual","Array","clipShape","setColor","extrudeShadow","useStyle","getModel","getItemStyle","globalStyle","visualColor","fill","ecData","seriesIndex","on","e","remove","removeAll","ScatterView","render","seriesModel","api","_updateSymbolDraw","_getClipShape","_finished","incrementalPrepareRender","incrementalRender","_symbolDraw","updateTransform","dirty","update","res","progress","coordSys","clipArea","getArea","symbolDraw","isLargeDraw","pipelineContext","_isLargeDraw","SymbolDraw","dispose","registers","registerSeriesModel","ScatterSeries","registerChartView","registerLayout","module","exports","value","other","baseExtremum","baseGt","identity","array","undefined","baseLt"],"sourceRoot":""}