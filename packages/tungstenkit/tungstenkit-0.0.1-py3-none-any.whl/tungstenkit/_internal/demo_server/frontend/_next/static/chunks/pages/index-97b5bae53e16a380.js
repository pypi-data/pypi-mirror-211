(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(57615)}])},57615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return e6}});var i=n(85893),r=function(e){return Object.freeze({axiosInstance:e,list:function(t,n,i){let r="/projects/".concat(n,"/").concat(t,"/models");return e.get(r,{params:i})},get:function(t,n,i){let r="projects/".concat(t,"/").concat(n,"/models/").concat(i);return e.get(r)},getFile:function(t,n){return e.get("/files/".concat(t),n)},uploadFile:function(t,n){let i=t[n],r=new FormData;r.append("file",i);let s=e.post("/files",r,{headers:{accept:"application/json","Content-Type":"multipart/form-data"}});return s},startPrediction:function(t){return e.post("/predictions",t,{headers:{accept:"application/json","Content-Type":"application/json"}})},getPrediction:function(t){return e.get("/predictions/".concat(t))},cancelPrediction:function(t){return e.post("/predictions/".concat(t,"/cancel"))},getExamples:function(){return e.get("/examples")},addExample:function(t){return e.post("/predictions/".concat(t,"/save"))},deleteExample:function(t){return e.delete("examples/".concat(t))},getModelTree:function(t,n,i,r){let s="/projects/".concat(n,"/").concat(t,"/models/").concat(i,"/tree");return r&&(s+="?path=".concat(r)),e.get(s).catch(function(e){return[]})},getModelZipFile:function(t,n,i,r){let s="/projects/".concat(n,"/").concat(t,"/models/").concat(i,"/archive.zip");return e.get(s,r)}})},s=n(6154);let l=()=>{let e=s.Z.create({timeout:1e3});return e};var o=n(48473),a=n(5499),d=n(34282),x=n(99226),c=n(15861),p=n(83321),u=n(98456),h=n(67294),m=n(87536),f=n(88767),j=n(9473),g=n(35671);let Z=e=>{let{name:t,description:n,required:r,children:s,isDropzone:l=!1}=e;return(0,i.jsxs)(x.Z,{id:"".concat(n,"input"),children:[(0,i.jsxs)(x.Z,{sx:{display:"inline-block"},children:[(0,i.jsx)(x.Z,{children:(0,i.jsxs)(c.Z,{fontSize:"18px",sx:{display:"column"},children:[" ",t," ",r&&"*"," "]})}),(0,i.jsx)(c.Z,{color:"grey",variant:"mainTextMedium",sx:{mt:.5,display:"column"},children:n})]}),(0,i.jsx)(x.Z,{id:"input wrapper",sx:{mt:.5,backgroundColor:l?"":"#E9E9E9"},children:s})]})};var y=n(59653);let v=e=>(0,i.jsx)(Z,{name:e.name,description:e.description,required:e.required,isDropzone:!1,children:(0,i.jsx)(y.Z,{onChange:e.onChange,name:e.name,value:e.value,checked:e.value,size:"medium"})});var b=n(73397),w=n(67564),T=n(32512),S=n(41733),C=n(85215);n(76398);let z=e=>{let t=(0,h.useRef)(null),n=(0,h.useRef)(null),{options:r}=e,s=(e,t)=>{t.current=e};return(0,h.useEffect)(()=>{if(n.current){let e=n.current;e.autoplay(r.autoplay),e.src(r.sources)}else{let e=document.createElement("video-js");e.classList.add("vjs-big-play-centered"),t.current.appendChild(e);let i=n.current=(0,C.Z)(e,r,()=>{C.Z.log("player is ready"),s&&s(i,n)})}},[r,t]),(0,h.useEffect)(()=>{let e=n.current;return()=>{e&&!e.isDisposed()&&(e.dispose(),n.current=null)}},[n]),(0,i.jsxs)(x.Z,{sx:{maxWidth:"90%"},children:[(0,i.jsx)(c.Z,{fontSize:"18px",fontWeight:"10px",children:e.title}),(0,i.jsx)(x.Z,{"data-vjs-player":!0,children:(0,i.jsx)("div",{ref:t,style:{}})})]})};var L=n(7297),k=n(50066),E=n(19602),R=n(14945);function O(){let e=(0,L.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  width: 100%;\n  background: transparent;\n  gap: 2rem;\n"]);return O=function(){return e},e}function _(){let e=(0,L.Z)(["\n  width: 100%;\n  height: 90px;\n"]);return _=function(){return e},e}function I(){let e=(0,L.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 60px;\n  background: #E9E9E9;\n  border: 1px black;\n  outline: none;\n  cursor: pointer;\n  padding-bottom: 3px;\n  &:hover {\n    background: #ddd;\n  }\n"]);return I=function(){return e},e}let W=k.ZP.div(O()),M=k.ZP.div(_());k.ZP.button(I());var D=function(e){let{url:t,title:r,audioId:s}=e,[l,o]=(0,h.useState)(!1),[a,d]=(0,h.useState)(),u=!0;(0,h.useEffect)(()=>{if(u){let e=async()=>{let e=(await n.e(33).then(n.t.bind(n,21796,23))).default,i=e.create({barWidth:3,barRadius:3,barGap:2,barMinHeight:1,cursorWidth:1,container:"#waveform".concat(s),backend:"WebAudio",height:80,progressColor:"#black",responsive:!0,waveColor:"#C4C4C4",cursorColor:"transparent"});d(i),i.load(t),i.on("finish",()=>{o(!1)})};e(),u=!1}},[]);let m=e=>{o(!l),e.playPause()};return(0,i.jsxs)(x.Z,{sx:{maxWidth:"90%"},children:[(0,i.jsx)(c.Z,{fontSize:"18px",fontWeight:"10px",sx:{marginBottom:"-20px"},children:r}),(0,i.jsx)(x.Z,{style:{padding:"0px",margin:"0px"},children:(0,i.jsxs)(W,{style:{padding:"0px",margin:"0px",height:"90px"},children:[(0,i.jsx)(p.Z,{sx:{border:"none",borderRadius:"3px",width:"120px"},variant:"contained",startIcon:l?(0,i.jsx)(R.Z,{}):(0,i.jsx)(E.Z,{}),onClick:e=>m(a),children:l?"Pause":"Play"}),(0,i.jsx)(M,{id:"waveform".concat(s),style:{padding:"0px",margin:"0px",height:"80px"}}),(0,i.jsx)("audio",{id:"track".concat(s),src:t,style:{padding:"0px",margin:"0px"}})]})})]})};let P=e=>{if("object"==typeof e){let t=new Blob([e],{type:e.type});return URL.createObjectURL(t)}if("string"==typeof e)return e};var U=function(e){let{name:t,value:n,onChange:r,description:s,required:l,errors:o}=e,a=n.name,d=(0,h.useCallback)(e=>{if(e.length>0){var t;(t=e[0],new Promise(e=>{let n=new FileReader;n.readAsDataURL(t),n.onload=()=>{e(n.result)}})).then(t=>{r({base64:t,filename:e[0].path,bytes:e[0].size})})}},[]),{getRootProps:u,getInputProps:m}=(0,T.uI)({onDrop:d}),f=o&&t in o,j="";f&&"required"===o[t].type&&(j="Required");let g=e=>{e.stopPropagation(),r({target:{files:[]}})};return(0,i.jsxs)(Z,{name:t,description:s,required:l,isDropzone:!0,children:[n&&(e=>{if(e.type.includes("video")){let t={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:URL.createObjectURL(e),type:"video/mp4"}]};return(0,i.jsx)(z,{options:t,title:e.name})}if(e.type.includes("image")){let t=P(e);return(0,i.jsx)(x.Z,{component:"img",sx:{height:"100px",width:"100%",objectFit:"contain",objectPosition:"0 0",mb:1},alt:a,src:t})}if(e.type.includes("audio")){let t=URL.createObjectURL(e);return(0,i.jsx)(D,{url:t,title:e.name,audioId:e.name})}})(n),a&&(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",mb:.5},children:(0,i.jsx)(c.Z,{variant:"mainTextMedium",children:a})}),(0,i.jsx)(x.Z,{sx:{borderStyle:"dashed",borderColor:"#d3d3d3",backgroundColor:"#E9E9E9",height:"60px",display:"grid"},children:(0,i.jsxs)(x.Z,{component:"div",id:"inputfield",sx:{backgroundColor:"#E9E9E9",height:"53px",display:"grid"},...u(),children:[(0,i.jsx)("input",{...m(),onChange:r,id:"inputDropzone",style:{display:"inline",opacity:"0",width:"100%",height:"100%",gridColumn:1,gridRow:1}}),(0,i.jsxs)(x.Z,{sx:{display:"inline",alignItems:"center",flexWrap:"wrap",ml:0,gridColumn:1,gridRow:1,marginTop:"0px",marginBottom:"5px",padding:"6px"},children:[(0,i.jsx)(w.Z,{children:(0,i.jsx)(b.Z,{sx:{width:"100%",mx:"4px"}})}),(0,i.jsx)(c.Z,{variant:"mainTextMedium",color:"grey",sx:{ml:1,py:1,width:"77%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"100%",paddingLeft:"5px"},children:"Drag a file or click to select"}),a?(0,i.jsx)(p.Z,{onClick:e=>g(e),sx:{display:"inline",fontSize:"0px",float:"right"},children:(0,i.jsx)(S.Z,{sx:{}})}):(0,i.jsx)(i.Fragment,{})]})]})}),f&&(0,i.jsx)(c.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:j})]})},B=n(62474);let q=e=>{let{name:t,value:n,onChange:r,description:s,required:l,errors:o,integer:a,minimum:d,maximum:x}=e,p=o&&t in o,u="";p&&"required"===o[t].type&&(u="Required");let h=(0,i.jsx)(B.Z,{fullWidth:!0,type:"number",inputProps:{step:a?1:.01,min:d,max:x},size:"medium",value:n,onChange:r,error:p});return(0,i.jsxs)(Z,{name:t,description:s,required:l,isDropzone:!1,children:[h,p&&(0,i.jsx)(c.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:u})]})};var F=n(76547),A=n(23599);let Q=e=>(0,i.jsx)(Z,{name:e.name,description:e.description,required:e.required,isDropzone:!1,children:(0,i.jsx)(F.Z,{size:"medium",sx:{width:"100%"},value:e.value,onChange:e.onChange,children:e.options.map((e,t)=>(0,i.jsx)(A.Z,{value:e,children:e},t))})}),J=e=>{let{name:t,value:n,onChange:r,description:s,required:l,errors:o}=e,a=t in o,d="";return a&&"required"===o[t].type&&(d="Required"),(0,i.jsxs)(Z,{name:t,description:s,required:l,isDropzone:!1,children:[(0,i.jsx)(B.Z,{fullWidth:!0,size:"medium",name:t,value:n,onChange:r,error:a}),a&&(0,i.jsx)(c.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:d})]})};var N=n(8083),H=n(42293),G=n(40044),X=n(11703),V=function(e){let{menuOption:t,setMenuOption:n,tabs:r}=e,s=(e,t)=>{n(t)};return(0,i.jsx)("div",{children:(0,i.jsx)(H.Z,{position:"static",color:"transparent",sx:{border:0,boxShadow:"none",width:"".concat(r.length/4*100,"%"),minWidth:"100px"},children:(0,i.jsx)(X.Z,{value:t,onChange:s,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:r.map((e,t)=>(0,i.jsx)(G.Z,{label:e,id:"action-tab-".concat(0),"aria-controls":"action-tabpanel-".concat(0)},t))})})})};let Y=(e,t,n,r,s,l)=>{var o,a,d,x,c,p,u;let h=!!(null!==n&&n.includes(e)),f=null!==(o=t.choices)&&void 0!==o?o:"",j=null!==(a=t.description)&&void 0!==a?a:"",g=null!==(d=t.default)&&void 0!==d?d:"",Z={key:e,name:e,control:s,defaultValue:g,rules:{required:h}},y={name:e,description:j,required:h,options:f,errors:l};f&&["string","integer","number"].includes(t.type)?r.push((0,i.jsx)(m.Qr,{...Z,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(Q,{...y,value:n,onChange:t})}})):t.allOf?r.push((0,i.jsx)(m.Qr,{id:"controller obj for input",...Z,defaultValue:g,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(U,{...y,value:n,onChange:e=>{if(0==e.target.files.length){let e=document.getElementById("inputDropzone");e.value=""}t(e.target.files[0])}})}})):"string"===t.type?r.push((0,i.jsx)(m.Qr,{...Z,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(J,{...y,value:n,onChange:t})}})):"boolean"===t.type?r.push((0,i.jsx)(m.Qr,{...Z,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(v,{...y,value:n,onChange:t})}})):"integer"===t.type?r.push((0,i.jsx)(m.Qr,{...Z,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,i.jsx)(q,{...y,value:r,onChange:e=>{n(parseFloat(e.target.value))},integer:!0,minimum:null!==(x=t.minimum)&&void 0!==x?x:null,maximum:null!==(c=t.maximum)&&void 0!==c?c:null})}})):"number"===t.type&&r.push((0,i.jsx)(m.Qr,{...Z,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,i.jsx)(q,{...y,value:r,onChange:e=>n(parseFloat(e.target.value)),integer:!1,minimum:null!==(p=t.minimum)&&void 0!==p?p:null,maximum:null!==(u=t.maximum)&&void 0!==u?u:null})}}))},$=(e,t,n,i)=>{let r=[];if(e.input_schema){let s=e.input_schema.required;for(let l in e.input_schema.properties)if(s.includes(l)||i){let i=e.input_schema.properties[l];Y(l,i,s,r,t,n)}}return r};var K=function(e){let{model:t,doQuery:n,setDoQuery:s}=e,[Z,y]=(0,h.useState)(""),[v,b]=(0,h.useState)(!1);(0,j.v9)(e=>e.singleModel.trace);let w=(0,j.I0)(),T=l(),S=r(T),C=(0,j.v9)(e=>e.singleModel.example),z=C.input,{control:L,handleSubmit:k,reset:E,setValue:R,formState:{errors:O}}=(0,m.cI)(),_=$(t,L,O,v);(0,h.useEffect)(()=>{for(let e in z)R(e,z[e])},[]);let I=[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(g.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Input"})]},1)];async function W(e,t){for(let n in t)if(t[n].allOf){let t=(await S.uploadFile(e,n)).data.serving_url;e[n]=t}}async function M(e){let n={...e},i=t.input_schema.properties;w((0,o.Ir)({trace:""})),w((0,o.rA)({})),await W(n,i);let r=await S.startPrediction(n);y(r.data.prediction_id)}async function D(e){await M(e),s(!n),P()}(0,f.useQuery)("",()=>S.getPrediction(Z),{enabled:n,refetchInterval:750,onSuccess:e=>{let t=e.data.status,n=e.data.logs;w((0,o.Ir)({trace:"".concat(null!=n?n:t,"\n")})),w((0,o.MG)({output:e,status:t})),"failure"==t&&(w((0,o.Ir)({trace:n})),s(!1),w((0,o.MG)({output:{log:n},status:t}))),"success"==t&&(s(!1),w((0,o.MG)({output:e,status:t})))},onError:e=>{w({type:"ERROR",message:e.message})}});let P=()=>{let e=document.documentElement.scrollTop||document.body.scrollTop;e>window.innerHeight/4&&(window.requestAnimationFrame(P),window.scrollTo(0,e-e/8))};return(0,i.jsxs)(x.Z,{sx:{width:"45%"},children:[(0,i.jsx)(x.Z,{sx:{float:"left",marginTop:"0px",width:"100%"},children:(0,i.jsxs)(x.Z,{id:"demoinput body header",sx:{width:"100%"},children:[(0,i.jsx)(x.Z,{sx:{width:"70%",float:"left"},children:(0,i.jsx)(V,{menuOption:0,setMenuOption:()=>{},tabs:I})}),(0,i.jsx)(x.Z,{sx:{width:"30%",height:"40px",float:"right"},children:(0,i.jsx)(N.X,{sx:{marginTop:"20px",float:"right",display:"inline"},onChange:()=>{b(!v)},label:"Show optional fields"})})]})}),(0,i.jsxs)("form",{onSubmit:k(D),style:{marginTop:"70px"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",gap:3.3},children:_.map(e=>e)}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:2,marginBottom:"20px"},children:[(0,i.jsx)(p.Z,{size:"medium",sx:{mx:.5},variant:"outlined",startIcon:(0,i.jsx)(d.Z,{sx:{marginTop:"-3px"}}),onClick:E,children:"Reset"}),(0,i.jsx)(p.Z,{size:"medium",sx:{marginLeft:.5},variant:"contained",startIcon:n?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(a.Z,{sx:{marginTop:"-3px"}}),disabled:n,type:"submit",children:n?(0,i.jsx)(u.Z,{size:26,sx:{color:"white"}}):"Run"})]})]})]})},ee=n(94371),et=n(27262),en=n.n(et),ei=n(93946),er=n(58703),es=n(89227);let el=e=>{let[t,n]=(0,h.useState)(!1),r=()=>{n(!0),navigator.clipboard.writeText(JSON.stringify(e))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ei.Z,{onClick:r,size:"small",sx:{float:"right",padding:"0px"},children:(0,i.jsx)(es.Z,{sx:{width:"20px"}})}),(0,i.jsx)(er.Z,{message:"Copied to clibboard",anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:2e3,onClose:()=>n(!1),open:t})]})};var eo=function(e){let{outputJson:t}=e;return(0,i.jsx)(x.Z,{id:"postloadscreen",sx:{},children:(0,i.jsxs)(x.Z,{id:"postloadscreenchild",sx:{height:"fit-content",border:0,overflow:"auto",padding:"10px",backgroundColor:"#E9E9E9"},children:[(0,i.jsx)(el,{outputJson:t}),(0,i.jsx)(en(),{data:t,style:{fontSize:"14px",overflow:"auto"}})]})})},ea=function(){return(0,i.jsxs)(x.Z,{id:"preloadscreen",sx:{width:"100%",display:"column",textAlign:"center"},children:[(0,i.jsx)(x.Z,{component:"img",sx:{height:"20%",width:"25%",colorScheme:"black",marginTop:"100px",opacity:.6},alt:"tungsten_logo",src:"/tungsten_greyed_out_logo.png"}),(0,i.jsx)(c.Z,{fontSize:"18px",sx:{width:"100%",margin:"auto",marginTop:"50px",textAlign:"center",opacity:.5},children:"Please fill in the input fields to see the results"})]})},ed=n(39299),ex={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000",color:"#f8f8f8"},"hljs-comment":{color:"#7c7c7c"},"hljs-quote":{color:"#7c7c7c"},"hljs-meta":{color:"#7c7c7c"},"hljs-keyword":{color:"#96cbfe"},"hljs-selector-tag":{color:"#96cbfe"},"hljs-tag":{color:"#96cbfe"},"hljs-name":{color:"#96cbfe"},"hljs-attribute":{color:"#ffffb6"},"hljs-selector-id":{color:"#ffffb6"},"hljs-string":{color:"#a8ff60"},"hljs-selector-attr":{color:"#a8ff60"},"hljs-selector-pseudo":{color:"#a8ff60"},"hljs-addition":{color:"#a8ff60"},"hljs-subst":{color:"#daefa3"},"hljs-regexp":{color:"#e9c062"},"hljs-link":{color:"#e9c062"},"hljs-title":{color:"#ffffb6"},"hljs-section":{color:"#ffffb6"},"hljs-type":{color:"#ffffb6"},"hljs-doctag":{color:"#ffffb6"},"hljs-symbol":{color:"#c6c5fe"},"hljs-bullet":{color:"#c6c5fe"},"hljs-variable":{color:"#c6c5fe"},"hljs-template-variable":{color:"#c6c5fe"},"hljs-literal":{color:"#c6c5fe"},"hljs-number":{color:"#ff73fd"},"hljs-deletion":{color:"#ff73fd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}},ec=function(e){let{trace:t}=e,n=(0,h.useRef)(null),r=()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)};return(0,h.useEffect)(()=>{r()}),(0,i.jsx)(x.Z,{sx:{height:"450px",overflow:"auto",backgroundColor:"black",marginTop:"10px"},ref:n,children:(0,i.jsx)(ed.Z,{language:"plaintext",style:ex,customStyle:{padding:"2px",margin:"2px",fontSize:"16px",width:"98%",maxWidth:"98%"},wrapLines:!0,wrapLongLines:!0,lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},children:t})})},ep=function(e){let{header:t,content:n}=e;return(0,i.jsxs)(x.Z,{sx:{marginTop:"20px"},children:[(0,i.jsxs)(c.Z,{fontWeight:"10px",fontSize:"18px",children:[" ",t]}),(0,i.jsx)(c.Z,{fontFamily:"monospace",sx:{border:"0px solid black",wordBreak:"break-all",backgroundColor:"#e7e7e7",marginTop:"5px",padding:"5px",paddingLeft:"10px",fontSize:"14px"},children:n})]})};let eu=e=>(0,i.jsx)(x.Z,{sx:{marginBottom:"15px"},children:e});var eh=n(95271),em=n(67841),ef=n(16745),ej=n(11163),eg=function(){var e;let[t,n]=(0,h.useState)(!1),s=l(),o=r(s),a=(0,ej.useRouter)(),{output:d}=(0,j.v9)(e=>e.singleModel),x=null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.id;(0,h.useEffect)(()=>{t&&setTimeout(()=>n(!1),1e3)});let p=()=>{o.addExample(x),s.get("/metadata").then(e=>{0==e.data.examples_count&&a.reload()}),n(!0)};return(0,i.jsx)(eh.u,{label:"Added to examples",offset:5,position:"bottom",radius:"xl",transitionProps:{duration:100,transition:"slide-down"},opened:t,children:(0,i.jsxs)(em.z,{onClick:p,variant:"outline",color:"dark",sx:{borderRadius:"0",float:"left"},children:[(0,i.jsx)(ef.Z,{style:{width:"20px",marginRight:"10px"}}),(0,i.jsx)(c.Z,{variant:"mainTextMedium",fontWeight:80,children:"Add to examples"})]})})};function eZ(){let{output:e,status:t}=(0,j.v9)(e=>e.singleModel),[n,r]=(0,h.useState)([]),s=l();(0,h.useEffect)(()=>{"success"==t&&ev(e,s).then(e=>{r(e)})},[]);let o=eb(n,t,e);return(0,i.jsxs)(x.Z,{id:"mainContainerOutput",sx:{overflow:"auto",height:"fit-content"},children:[(0,i.jsx)(x.Z,{sx:{marginBottom:"10px",width:"100%",height:"fit-content",overflowY:"auto"},children:o}),(0,i.jsx)(x.Z,{style:{marginBottom:"100px",height:"200px",width:"400px"},children:"success"==t&&(0,i.jsx)(eg,{})})]})}let ey=e=>"string"==typeof e&&e.includes("http"),ev=async(e,t)=>{let n={},i=e.data.demo_output;for(let e in i){let r=i[e];if(ey(r)){let i=r.split("files")[1],s=await t.get("/files".concat(i),{responseType:"arraybuffer",headers:{}});n[e]=s}else n[e]=r}return n},eb=(e,t,n)=>{if("failure"==t)return(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(c.Z,{sx:{color:"#FF0000"},children:"Prediction failed. Log is shown below:"}),(0,i.jsx)(ec,{trace:n.log})]});let r=[];for(let t in e){let n=e[t];if("object"==typeof n&&n.data){var s,l;if(null===(s=null==n?void 0:n.headers["content-type"])||void 0===s?void 0:s.includes("image")){let e=eT(n),i=ew(e,t);r.unshift(i)}else if(null===(l=null==n?void 0:n.headers["content-type"])||void 0===l?void 0:l.includes("video")){let e={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:eT(n),type:n.headers["content-type"]}]},s=(0,i.jsx)(z,{options:e,title:t});r.unshift(s)}else if(n.headers["content-type"].includes("audio")){let e=(0,i.jsx)(D,{url:eT(n),title:t,audioId:"".concat(t)});r.unshift(e)}}else if("object"!=typeof n){let e=(0,i.jsx)(ep,{header:t,content:n});r.push(e)}else{let e=JSON.stringify(n);r.push((0,i.jsx)(ep,{header:"".concat(t," (non-visualizable data)"),content:e}))}}return r.map(e=>eu(e))},ew=(e,t)=>{let n=(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(c.Z,{fontSize:"18px",fontWeight:"10px",children:t}),(0,i.jsx)("img",{style:{maxWidth:"60%",border:"0px solid black"},src:e,alt:"new"})]});return n},eT=e=>{let t=new Blob([e.data],{type:e.headers["content-type"]}),n=URL.createObjectURL(t);return n};var eS=n(53592),eC=function(e){let{setDoQuery:t}=e,n=(0,j.I0)(),s=l(),a=r(s),d=(0,j.v9)(e=>{var t,n;return null===(t=e.singleModel.output)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.id});return(0,i.jsx)(p.Z,{size:"medium",sx:{my:.5},variant:"outlined",startIcon:(0,i.jsx)(eS.Z,{sx:{marginTop:"-3px"}}),onClick:async()=>{t(!1),await a.cancelPrediction(d),n((0,o.Zc)({status:"stopped"})),n((0,o.Ir)({trace:"initializing model prediction \n"}))},children:"Cancel"})},ez=function(e){let{trace:t,doQuery:n,setDoQuery:r}=e,s=(0,j.v9)(e=>e.singleModel.status);return"pending"==s?(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(u.Z,{size:20}),(0,i.jsx)(c.Z,{sx:{marginLeft:"10px",fontSize:"20px"},children:s.charAt(0).toUpperCase()+s.slice(1)})]}),n&&(0,i.jsx)(eC,{setDoQuery:r})]}):(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(x.Z,{children:(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(u.Z,{size:20}),(0,i.jsx)(c.Z,{sx:{marginLeft:"10px",fontSize:"20px"},children:s.charAt(0).toUpperCase()+s.slice(1)})]})}),(0,i.jsx)(ec,{trace:t.charAt(0).toUpperCase()+t.slice(1)}),n&&(0,i.jsx)(eC,{setDoQuery:r})]})},eL=function(){let e=(0,j.v9)(e=>e.singleModel.example.demo_output_processed);return(0,i.jsx)(x.Z,{sx:{width:"80%"},children:Object.keys(e).map((t,n)=>{if(!("object"==typeof e[t]&&e[t]instanceof Blob))return(0,i.jsx)(ep,{header:t,content:JSON.stringify(e[t])},t);if(e[t].type.includes("image"))return(0,i.jsxs)(x.Z,{sx:{marginTop:"20px"},children:[(0,i.jsxs)(c.Z,{fontWeight:"10px",sx:{fontSize:"18px"},children:[" ",t]}),(0,i.jsx)("img",{src:URL.createObjectURL(e[t]),style:{maxWidth:"75%",border:"0px solid #d3d3d3"}},n)]},n);if(e[t].type.includes("video")){let n={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:URL.createObjectURL(e[t]),type:e[t].type}]},r=(0,i.jsx)(z,{options:n,title:t});return r}if(e[t].type.includes("audio")){let n=(0,i.jsx)(D,{url:URL.createObjectURL(e[t]),title:t,audioId:"".concat(t)});return n}})})};let ek=[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(g.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Output"})]},1),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Json"})]},2),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Logs"})]},3)];var eE=function(){let[e,t]=(0,h.useState)(0),{demo_output:n,logs:r}=(0,j.v9)(e=>e.singleModel.example),s=(0,i.jsx)(eo,{outputJson:n}),l=(0,i.jsx)(ec,{trace:r});return(0,i.jsxs)(x.Z,{id:"exampleOutput",sx:{display:"inline"},children:[(0,i.jsx)(x.Z,{sx:{width:"60%",float:"left",marginTop:"0px"},children:(0,i.jsx)(V,{menuOption:e,setMenuOption:t,tabs:ek})}),(0,i.jsx)(x.Z,{sx:{marginTop:"70px"},children:0==e?(0,i.jsx)(eL,{}):1==e?s:l})]})},eR=function(e){let{output:t}=e;return(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(c.Z,{sx:{color:"#FF0000"},children:"Prediction failed. Log is shown below:"}),(0,i.jsx)(ec,{trace:t.log})]})};let eO=[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(g.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Output"})]},1),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Json"})]},2),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Logs"})]},3)];var e_=function(e){var t;let{doQuery:n,setDoQuery:r}=e,[s,l]=(0,h.useState)(0),{status:o,example:a,output:d,trace:c}=(0,j.v9)(e=>e.singleModel),p=a.output?(0,i.jsx)(eE,{}):(0,i.jsx)(ea,{}),u=(0,i.jsx)(ez,{trace:c,doQuery:n,setDoQuery:r}),m=(0,i.jsx)(eo,{outputJson:null==d?void 0:null===(t=d.data)||void 0===t?void 0:t.demo_output}),f=(0,i.jsx)(eZ,{}),g=(0,i.jsx)(eR,{output:d}),Z=(0,i.jsx)(ec,{trace:c}),y=(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(x.Z,{sx:{width:"80%",marginBottom:"30px"},children:(0,i.jsx)(V,{menuOption:s,setMenuOption:l,tabs:eO})}),0==s?f:1==s?m:Z]});return(0,i.jsx)(x.Z,{id:"modelbodydemooutput",sx:{width:"50%",marginLeft:"5%",marginTop:"0%"},children:(()=>{switch(o){case"success":return y;case"failure":return g;case"running":case"pending":return u;default:return p}})()})},eI=n(20209),eW=n(27924),eM=n(62851),eD=n(99985);function eP(e){let t,n=0;if(!e)return"#000000";for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);let i="#";for(t=0;t<3;t+=1){let e=n>>8*t&255;i+="00".concat(e.toString(16)).slice(-2)}return i}function eU(e){let{model:t,appbarIndex:n,setAppbarIndex:r}=e,s=eB(t);return(0,i.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",backgroundColor:"white",border:"1px solid #E1E2E6",minWidth:"900px"},children:(0,i.jsx)(x.Z,{sx:{display:"flex",mx:"4%",minWidth:"800px"},children:(0,i.jsxs)(x.Z,{style:{width:"100%",marginTop:"2%",display:"inline"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(eD.q,{color:eP(t.name),radius:"0",styles:{placeholder:{float:"left",backgroundColor:eP(t.name),color:"white"}},size:"100px",src:t.avatar_url}),(0,i.jsxs)(x.Z,{style:{marginLeft:"20px",height:"75px",display:"inline"},children:[(0,i.jsx)(x.Z,{style:{height:"fit-content",width:"100%",position:"relative",float:"left"},children:(0,i.jsx)(c.Z,{sx:{float:"left"},variant:"h5",children:t.name})}),(0,i.jsx)(x.Z,{style:{width:"100%",height:"fit-content",float:"left",marginTop:"0px"},children:(0,i.jsx)(c.Z,{sx:{float:"left",color:"#677285",fontSize:"18px"},children:t.description})})]})]}),(0,i.jsx)(x.Z,{sx:{width:"40%",marginTop:"15px"},children:(0,i.jsx)(V,{tabs:s,menuOption:n,setMenuOption:r})})]})})})}let eB=e=>{let t=(0,i.jsx)(eM.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),n=(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),r=(0,i.jsx)(eW.Z,{sx:{marginTop:"-3px",fontSize:"18px"}});eI.Z;let s=[eq("demo",t)];return e.readme&&s.push(eq("readme",r)),e.examples_count>0&&s.push(eq("examples",n)),s},eq=(e,t)=>(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[t,(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:e})]});var eF=n(67720),eA=n(95117),eQ=n(45266),eJ=n(74075);function eN(e){let{styles:t,ind:n,exampleID:s,setExamplesWithImg:o,examplesWithImg:a}=e,d=l(),x=(0,ej.useRouter)(),c=r(d),u=async()=>{c.deleteExample(s),o([...a].filter(e=>e.id!=s)),0==[...a].filter(e=>e.id!=s).length&&x.reload()},h=()=>{eQ.qk.openConfirmModal({modalId:n,key:n,title:"Deletexample",centered:!0,children:(0,i.jsx)(eA.x,{size:"sm",children:"Are you sure you want to delete this example? "}),labels:{confirm:"Delete example",cancel:"No don't delete it"},confirmProps:{color:"red"},onConfirm:()=>u()})};return(0,i.jsx)(p.Z,{onClick:()=>h(),variant:"outlined",sx:t,startIcon:(0,i.jsx)(eJ.Z,{style:{width:"16px",marginBottom:"6px"}}),children:(0,i.jsx)(eA.x,{sx:{fontWeight:"lighter",fontSize:"12px"},children:"DELETE"})},n)}var eH=n(34183),eG=function(e){let{onTryExampleCLick:t,example:n}=e;return(0,i.jsx)(p.Z,{size:"medium",sx:{float:"left",marginTop:"10px",borderRadius:"0px",height:"35px"},variant:"outlined",startIcon:(0,i.jsx)(eH.Z,{sx:{width:"16px",marginTop:"-3px"}}),onClick:()=>t(n),children:(0,i.jsx)(c.Z,{sx:{fontSize:"12px"},children:"Try this example"})})},eX=function(e){let{example:t,onTryExampleCLick:n,exampleIndex:r,setExamplesWithImg:s,examplesWithImg:l}=e,[o,a]=(0,h.useState)(0),d=t.logs,p=e=>{let n=Object.keys(e).map((n,r)=>{if(!("object"==typeof e[n]&&e[n]instanceof Blob))return(0,i.jsx)(x.Z,{sx:{marginTop:"20px",overflow:"hidden"},children:(0,i.jsx)(ep,{header:n,content:JSON.stringify(e[n])})},r);if(e[n].type.includes("image"))return(0,i.jsxs)(x.Z,{sx:{marginTop:"0px"},children:[(0,i.jsxs)(c.Z,{fontWeight:"10px",sx:{fontSize:"18px"},children:[" ",n]}),(0,i.jsx)("img",{src:URL.createObjectURL(e[n]),style:{maxWidth:"60%",border:"0px solid black"}},r)]},r);if(e[n].type.includes("video")){let t={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:URL.createObjectURL(e[n]),type:e[n].type}]},r=(0,i.jsx)(x.Z,{sx:{width:"60%"},children:(0,i.jsx)(z,{options:t,title:n})});return r}if(e[n].type.includes("audio")){let r=(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsx)(D,{url:URL.createObjectURL(e[n]),title:n,audioId:"".concat(n).concat(t.id)})});return r}});return n.map(e=>eu(e))},u=(0,i.jsx)(eo,{outputJson:t.demo_output}),m=(0,i.jsx)(ec,{trace:d});return(0,i.jsxs)(x.Z,{sx:{mx:"4%",marginBottom:"30px"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsxs)(x.Z,{sx:{width:"49%"},children:[(0,i.jsx)(x.Z,{sx:{width:"65%",float:"left"},children:(0,i.jsx)(V,{menuOption:0,setMenuOption:()=>{},tabs:eV})}),(0,i.jsx)(x.Z,{sx:{float:"right"}}),(0,i.jsxs)(x.Z,{sx:{marginTop:"70px"},children:[p(t.input),(0,i.jsx)(eG,{onTryExampleCLick:n,example:t}),(0,i.jsx)(eN,{styles:{marginTop:"10px",float:"left",marginLeft:"10px",height:"35px",borderRadius:"0px",borderColor:"red",color:"red"},ind:r+1,exampleID:t.id,examplesWithImg:l,setExamplesWithImg:s})]})]}),(0,i.jsxs)(x.Z,{sx:{marginLeft:"2%",width:"49%"},children:[(0,i.jsx)(x.Z,{sx:{width:"60%",float:"left"},children:(0,i.jsx)(V,{menuOption:o,setMenuOption:a,tabs:eY})}),(0,i.jsx)(x.Z,{sx:{float:"right"}}),(0,i.jsx)(x.Z,{sx:{marginTop:"70px"},children:0==o?p(t.demo_output_processed):1==o?u:m})]})]}),(0,i.jsx)(eF.Z,{sx:{marginTop:"40px",marginBottom:"5px",width:"100%"}})]},r)};let eV=[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(g.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Input"})]},1)],eY=[(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(g.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Output"})]},1),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Json"})]},2),(0,i.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,i.jsx)(ee.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),(0,i.jsx)(c.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Logs"})]},3)];var e$=n(94765),eK=function(e){let{model:t,setAppbarIndex:n}=e,s=(0,j.I0)(),a=l(),d=r(a),[c,p]=(0,h.useState)([]),u=e=>{s((0,o.Zc)("")),s((0,o.rA)(e)),n(0)},m=async e=>{let t={...e},n=e=>"string"==typeof e&&e.includes("http");for await(let e of Object.keys(t))if(n(t[e])){let n=t[e],i=await a.get(n,{responseType:"arraybuffer"}).catch(()=>{});if(i){let{headers:n,data:r}=i,s=new Blob([r],{type:n["content-type"]});t[e]=s}}return t};return(0,h.useEffect)(()=>{let e=async()=>{let e=(await d.getExamples()).data;return e},t=async e=>{for await(let t of e)t.input=await m(t.input),t.demo_output_processed=await m(t.demo_output);return e};e().then(e=>{t(e).then(e=>{p(e)})})},[]),(0,i.jsx)(e$.$,{children:(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsxs)(x.Z,{sx:{marginTop:"20px",width:"100%"},children:[(0,i.jsx)(x.Z,{sx:{mx:"4%",display:"flex",width:"100%"}}),e0(c,u,p,c)]})})})};let e0=(e,t,n,r)=>e.map((e,s)=>(0,i.jsx)(eX,{example:e,onTryExampleCLick:t,exampleIndex:s,setExamplesWithImg:n,examplesWithImg:r},s));var e1=n(18377),e3=n(92441),e5=n(72490),e2=n(16323),e9=function(e){let{readme:t}=e,n=[e5.Z];return(0,i.jsx)(e1.Z,{children:(0,i.jsxs)(e1.Z,{sx:{border:"1px solid #D3D3D3",width:"90%",borderRadius:"10px",marginBottom:"20px",paddingRight:"30px",paddingLeft:"30px",paddingTop:"15px",mx:"4%",marginTop:"35px"},children:[(0,i.jsxs)(e1.Z,{sx:{display:"inline"},children:[(0,i.jsx)(e2.Z,{sx:{display:"inline",marginLeft:"0px",marginBottom:"-7px",fontSize:"26px"}}),(0,i.jsx)(c.Z,{sx:{width:"50%",display:"inline",marginLeft:"10px"},fontSize:18,children:"README.md"})]}),(0,i.jsx)(eF.Z,{sx:{marginBottom:"20px",marginTop:"10px"}}),(0,i.jsx)(e3.D,{plugins:n,components:{img:e=>{let{node:t,...n}=e;return(0,i.jsx)("img",{style:{maxWidth:"300px"},...n})}},children:t})]})})},e6=function(){let[e,t]=(0,h.useState)(!1),[n,r]=(0,h.useState)({}),[s,o]=(0,h.useState)(0),a=l(),d=[(0,i.jsx)(x.Z,{sx:{marginTop:"20px",mx:"4%",minWidth:"0px"},children:(0,i.jsxs)(x.Z,{id:"modelbodydemo",sx:{display:"flex",width:"100%"},children:[(0,i.jsx)(K,{model:n,doQuery:e,setDoQuery:t}),(0,i.jsx)(e_,{doQuery:e,setDoQuery:t})]})},1)];return n.readme&&d.push((0,i.jsx)(e9,{readme:n.readme},1)),n.examples_count>0&&d.push((0,i.jsx)(eK,{model:n,setAppbarIndex:o},1)),(0,h.useEffect)(()=>{let e=async()=>{var e;let t=null===(e=await a.get("/metadata").catch(()=>{}))||void 0===e?void 0:e.data;t&&r(t)};e()},[]),(0,i.jsxs)(x.Z,{id:"main header",sx:{backgroundColor:"white",minHeight:"100vh"},children:[(0,i.jsx)(eU,{model:n,appbarIndex:s,setAppbarIndex:o}),d[s]]})}},25893:function(){}},function(e){e.O(0,[544,298,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);