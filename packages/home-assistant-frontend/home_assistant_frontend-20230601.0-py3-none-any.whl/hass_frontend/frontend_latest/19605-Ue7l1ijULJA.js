"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[19605,4631],{31595:(e,t,a)=>{a.a(e,(async(e,t)=>{try{var i=a(17463),s=a(34541),o=a(47838),n=a(68144),r=a(79932),l=a(63864),d=a(12198),c=a(44583),u=(a(32511),a(83927),a(33220),a(97712),e([d,c]));[d,c]=u.then?(await u)():u;const h="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",m="M21.8,13H20V21H13V17.67L15.79,14.88L16.5,15C17.66,15 18.6,14.06 18.6,12.9C18.6,11.74 17.66,10.8 16.5,10.8A2.1,2.1 0 0,0 14.4,12.9L14.5,13.61L13,15.13V9.65C13.66,9.29 14.1,8.6 14.1,7.8A2.1,2.1 0 0,0 12,5.7A2.1,2.1 0 0,0 9.9,7.8C9.9,8.6 10.34,9.29 11,9.65V15.13L9.5,13.61L9.6,12.9A2.1,2.1 0 0,0 7.5,10.8A2.1,2.1 0 0,0 5.4,12.9A2.1,2.1 0 0,0 7.5,15L8.21,14.88L11,17.67V21H4V13H2.25C1.83,13 1.42,13 1.42,12.79C1.43,12.57 1.85,12.15 2.28,11.72L11,3C11.33,2.67 11.67,2.33 12,2.33C12.33,2.33 12.67,2.67 13,3L17,7V6H19V9L21.78,11.78C22.18,12.18 22.59,12.59 22.6,12.8C22.6,13 22.2,13 21.8,13M7.5,12A0.9,0.9 0 0,1 8.4,12.9A0.9,0.9 0 0,1 7.5,13.8A0.9,0.9 0 0,1 6.6,12.9A0.9,0.9 0 0,1 7.5,12M16.5,12C17,12 17.4,12.4 17.4,12.9C17.4,13.4 17,13.8 16.5,13.8A0.9,0.9 0 0,1 15.6,12.9A0.9,0.9 0 0,1 16.5,12M12,6.9C12.5,6.9 12.9,7.3 12.9,7.8C12.9,8.3 12.5,8.7 12,8.7C11.5,8.7 11.1,8.3 11.1,7.8C11.1,7.3 11.5,6.9 12,6.9Z",p="M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z",k=e=>{const t=[];return e.includes("ssl")&&t.push({slug:"ssl",name:"SSL",checked:!1}),e.includes("share")&&t.push({slug:"share",name:"Share",checked:!1}),e.includes("media")&&t.push({slug:"media",name:"Media",checked:!1}),e.includes("addons/local")&&t.push({slug:"addons/local",name:"Local add-ons",checked:!1}),t.sort(((e,t)=>e.name>t.name?1:-1))},g=e=>e.map((e=>({slug:e.slug,name:e.name,version:e.version,checked:!1}))).sort(((e,t)=>e.name>t.name?1:-1));(0,i.Z)([(0,r.Mo)("supervisor-backup-content")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"localize",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"backup",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"backupType",value:()=>"full"},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"folders",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"addons",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"homeAssistant",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"backupHasPassword",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"onboarding",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)()],key:"backupName",value:()=>""},{kind:"field",decorators:[(0,r.Cb)()],key:"backupPassword",value:()=>""},{kind:"field",decorators:[(0,r.Cb)()],key:"confirmBackupPassword",value:()=>""},{kind:"field",decorators:[(0,r.IO)("paper-input, ha-radio, ha-checkbox",!0)],key:"_focusTarget",value:void 0},{kind:"method",key:"willUpdate",value:function(e){var t,i,n,r;((0,s.Z)((0,o.Z)(a.prototype),"willUpdate",this).call(this,e),this.hasUpdated)||(this.folders=k(this.backup?this.backup.folders:["ssl","share","media","addons/local"]),this.addons=g(this.backup?this.backup.addons:null===(t=this.supervisor)||void 0===t?void 0:t.addon.addons),this.backupType=(null===(i=this.backup)||void 0===i?void 0:i.type)||"full",this.backupName=(null===(n=this.backup)||void 0===n?void 0:n.name)||"",this.backupHasPassword=(null===(r=this.backup)||void 0===r?void 0:r.protected)||!1)}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._focusTarget)||void 0===e||e.focus()}},{kind:"field",key:"_localize",value(){return e=>{var t;return(null===(t=this.supervisor)||void 0===t?void 0:t.localize(`backup.${e}`))||this.localize(`ui.panel.page-onboarding.restore.${e}`)}}},{kind:"method",key:"render",value:function(){if(!this.onboarding&&!this.supervisor)return n.Ld;const e="partial"===this.backupType?this._getSection("folders"):void 0,t="partial"===this.backupType?this._getSection("addons"):void 0;return n.dy` ${this.backup?n.dy`<div class="details"> ${"full"===this.backup.type?this._localize("full_backup"):this._localize("partial_backup")} (${Math.ceil(10*this.backup.size)/10+" MB"})<br> ${this.hass?(0,c.o0)(new Date(this.backup.date),this.hass.locale):this.backup.date} </div>`:n.dy`<paper-input name="backupName" .label="${this._localize("name")}" .value="${this.backupName}" @value-changed="${this._handleTextValueChanged}"> </paper-input>`} ${this.backup&&"full"!==this.backup.type?"":n.dy`<div class="sub-header"> ${this.backup?this._localize("select_type"):this._localize("type")} </div> <div class="backup-types"> <ha-formfield .label="${this._localize("full_backup")}"> <ha-radio @change="${this._handleRadioValueChanged}" value="full" name="backupType" .checked="${"full"===this.backupType}"> </ha-radio> </ha-formfield> <ha-formfield .label="${this._localize("partial_backup")}"> <ha-radio @change="${this._handleRadioValueChanged}" value="partial" name="backupType" .checked="${"partial"===this.backupType}"> </ha-radio> </ha-formfield> </div>`} ${"partial"===this.backupType?n.dy`<div class="partial-picker"> ${!this.backup||this.backup.homeassistant?n.dy`<ha-formfield .label="${n.dy`<supervisor-formfield-label label="Home Assistant" .iconPath="${m}" .version="${this.backup?this.backup.homeassistant:this.hass.config.version}"> </supervisor-formfield-label>`}"> <ha-checkbox .checked="${this.homeAssistant}" @change="${this.toggleHomeAssistant}"> </ha-checkbox> </ha-formfield>`:""} ${null!=e&&e.templates.length?n.dy` <ha-formfield .label="${n.dy`<supervisor-formfield-label .label="${this._localize("folders")}" .iconPath="${h}"> </supervisor-formfield-label>`}"> <ha-checkbox @change="${this._toggleSection}" .checked="${e.checked}" .indeterminate="${e.indeterminate}" .section="${"folders"}"> </ha-checkbox> </ha-formfield> <div class="section-content">${e.templates}</div> `:""} ${null!=t&&t.templates.length?n.dy` <ha-formfield .label="${n.dy`<supervisor-formfield-label .label="${this._localize("addons")}" .iconPath="${p}"> </supervisor-formfield-label>`}"> <ha-checkbox @change="${this._toggleSection}" .checked="${t.checked}" .indeterminate="${t.indeterminate}" .section="${"addons"}"> </ha-checkbox> </ha-formfield> <div class="section-content">${t.templates}</div> `:""} </div> `:""} ${"partial"!==this.backupType||this.backup&&!this.backupHasPassword?"":n.dy`<hr>`} ${this.backup?"":n.dy`<ha-formfield class="password" .label="${this._localize("password_protection")}"> <ha-checkbox .checked="${this.backupHasPassword}" @change="${this._toggleHasPassword}"> </ha-checkbox> </ha-formfield>`} ${this.backupHasPassword?n.dy` <paper-input .label="${this._localize("password")}" type="password" name="backupPassword" .value="${this.backupPassword}" @value-changed="${this._handleTextValueChanged}"> </paper-input> ${this.backup?"":n.dy` <paper-input .label="${this._localize("confirm_password")}" type="password" name="confirmBackupPassword" .value="${this.confirmBackupPassword}" @value-changed="${this._handleTextValueChanged}"> </paper-input>`} `:""} `}},{kind:"method",key:"toggleHomeAssistant",value:function(){this.homeAssistant=!this.homeAssistant}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`.partial-picker ha-formfield{display:block}.partial-picker ha-checkbox{--mdc-checkbox-touch-target-size:32px}.partial-picker{display:block;margin:0px -6px}supervisor-formfield-label{display:inline-flex;align-items:center}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}.details{color:var(--secondary-text-color)}.section-content{display:flex;flex-direction:column;margin-left:30px}ha-formfield.password{display:block;margin:0 -14px -16px}.backup-types{display:flex;margin-left:-13px}.sub-header{margin-top:8px}`}},{kind:"method",key:"backupDetails",value:function(){var e,t;const a={};if(this.backup||(a.name=this.backupName||(0,d.p6)(new Date,this.hass.locale)),this.backupHasPassword&&(a.password=this.backupPassword,this.backup||(a.confirm_password=this.confirmBackupPassword)),"full"===this.backupType)return a;const i=null===(e=this.addons)||void 0===e?void 0:e.filter((e=>e.checked)).map((e=>e.slug)),s=null===(t=this.folders)||void 0===t?void 0:t.filter((e=>e.checked)).map((e=>e.slug));return null!=i&&i.length&&(a.addons=i),null!=s&&s.length&&(a.folders=s),a.homeassistant=this.homeAssistant,a}},{kind:"method",key:"_getSection",value:function(e){var t;const a=[],i="addons"===e?new Map(null===(t=this.supervisor)||void 0===t?void 0:t.addon.addons.map((e=>[e.slug,e]))):void 0;let s=0;this[e].forEach((t=>{var o;a.push(n.dy`<ha-formfield .label="${n.dy`<supervisor-formfield-label .label="${t.name}" .iconPath="${"addons"===e?p:h}" .imageUrl="${"addons"===e&&!this.onboarding&&(0,l.I)(this.hass.config.version,0,105)&&null!=i&&null!==(o=i.get(t.slug))&&void 0!==o&&o.icon?`/api/hassio/addons/${t.slug}/icon`:void 0}" .version="${t.version}"> </supervisor-formfield-label>`}"> <ha-checkbox .item="${t}" .checked="${t.checked}" .section="${e}" @change="${this._updateSectionEntry}"> </ha-checkbox> </ha-formfield>`),t.checked&&s++}));const o=s===this[e].length;return{templates:a,checked:o,indeterminate:!o&&0!==s}}},{kind:"method",key:"_handleRadioValueChanged",value:function(e){const t=e.currentTarget;this[t.name]=t.value}},{kind:"method",key:"_handleTextValueChanged",value:function(e){this[e.currentTarget.name]=e.detail.value}},{kind:"method",key:"_toggleHasPassword",value:function(){this.backupHasPassword=!this.backupHasPassword}},{kind:"method",key:"_toggleSection",value:function(e){const t=e.currentTarget.section;this[t]=("addons"===t?this.addons:this.folders).map((t=>({...t,checked:e.currentTarget.checked})))}},{kind:"method",key:"_updateSectionEntry",value:function(e){const t=e.currentTarget.item,a=e.currentTarget.section;this[a]=this[a].map((a=>a.slug===t.slug?{...a,checked:e.currentTarget.checked}:a))}}]}}),n.oi);t()}catch(e){t(e)}}))},97712:(e,t,a)=>{var i=a(17463),s=a(68144),o=a(79932);a(52039);(0,i.Z)([(0,o.Mo)("supervisor-formfield-label")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"imageUrl",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"iconPath",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"version",value:void 0},{kind:"method",key:"render",value:function(){return s.dy` ${this.imageUrl?s.dy`<img loading="lazy" alt="" src="${this.imageUrl}" class="icon">`:this.iconPath?s.dy`<ha-svg-icon .path="${this.iconPath}" class="icon"></ha-svg-icon>`:""} <span class="label">${this.label}</span> ${this.version?s.dy`<span class="version">(${this.version})</span>`:""} `}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:flex;align-items:center}.label{margin-right:4px}.version{color:var(--secondary-text-color)}.icon{max-height:22px;max-width:22px;margin-right:8px}`}}]}}),s.oi)},19605:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t);var s=a(17463),o=(a(44577),a(68144)),n=a(79932),r=a(63864),l=a(47181),d=a(32594),c=a(83447),u=(a(98762),a(9381),a(81545),a(90806),a(10983),a(22814)),h=a(60538),m=a(41682),p=a(26765),k=a(11654),g=a(25936),v=a(31595),y=e([v]);v=(y.then?(await y)():y)[0];const b="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",f="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z";(0,s.Z)([(0,n.Mo)("dialog-hassio-backup")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_backup",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_dialogParams",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_restoringBackup",value:()=>!1},{kind:"field",decorators:[(0,n.IO)("supervisor-backup-content")],key:"_backupContent",value:void 0},{kind:"method",key:"showDialog",value:async function(e){this._backup=await(0,h._P)(this.hass,e.slug),this._dialogParams=e,this._restoringBackup=!1}},{kind:"method",key:"closeDialog",value:function(){this._backup=void 0,this._dialogParams=void 0,this._restoringBackup=!1,this._error=void 0,(0,l.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e,t,a;return this._dialogParams&&this._backup?o.dy` <ha-dialog open scrimClickAction @closed="${this.closeDialog}" .heading="${this._backup.name}"> <div slot="heading"> <ha-header-bar> <span slot="title">${this._backup.name}</span> <ha-icon-button .label="${(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.close"))||"Close"}" .path="${b}" slot="actionItems" dialogAction="cancel"></ha-icon-button> </ha-header-bar> </div> ${this._restoringBackup?o.dy` <ha-circular-progress active></ha-circular-progress>`:o.dy`<supervisor-backup-content .hass="${this.hass}" .supervisor="${this._dialogParams.supervisor}" .backup="${this._backup}" .onboarding="${this._dialogParams.onboarding||!1}" .localize="${this._dialogParams.localize}" dialogInitialFocus> </supervisor-backup-content>`} ${this._error?o.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <mwc-button .disabled="${this._restoringBackup}" slot="secondaryAction" @click="${this._restoreClicked}"> Restore </mwc-button> ${this._dialogParams.onboarding?"":o.dy`<ha-button-menu fixed slot="primaryAction" @action="${this._handleMenuAction}" @closed="${d.U}"> <ha-icon-button .label="${this.hass.localize("ui.common.menu")||"Menu"}" .path="${f}" slot="trigger"></ha-icon-button> <mwc-list-item>${null===(t=this._dialogParams.supervisor)||void 0===t?void 0:t.localize("backup.download_backup")}</mwc-list-item> <mwc-list-item class="error">${null===(a=this._dialogParams.supervisor)||void 0===a?void 0:a.localize("backup.delete_backup_title")}</mwc-list-item> </ha-button-menu>`} </ha-dialog> `:o.Ld}},{kind:"get",static:!0,key:"styles",value:function(){return[k.Qx,k.yu,o.iv`ha-circular-progress{display:block;text-align:center}ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0;display:block}ha-icon-button{color:var(--secondary-text-color)}`]}},{kind:"method",key:"_handleMenuAction",value:function(e){switch(e.detail.index){case 0:this._downloadClicked();break;case 1:this._deleteClicked()}}},{kind:"method",key:"_restoreClicked",value:async function(){const e=this._backupContent.backupDetails();this._restoringBackup=!0,"full"===this._backupContent.backupType?await this._fullRestoreClicked(e):await this._partialRestoreClicked(e),this._restoringBackup=!1}},{kind:"method",key:"_partialRestoreClicked",value:async function(e){var t,a,i,s;if(void 0===(null===(t=this._dialogParams)||void 0===t?void 0:t.supervisor)||"running"===(null===(a=this._dialogParams)||void 0===a?void 0:a.supervisor.info.state)){if(await(0,p.g7)(this,{title:"Are you sure you want partially to restore this backup?",confirmText:"restore",dismissText:"cancel"}))if(null!==(i=this._dialogParams)&&void 0!==i&&i.onboarding)(0,l.B)(this,"restoring"),await fetch(`/api/hassio/backups/${this._backup.slug}/restore/partial`,{method:"POST",body:JSON.stringify(e)}),this.closeDialog();else try{await this.hass.callApi("POST",`hassio/${(0,r.I)(this.hass.config.version,2021,9)?"backups":"snapshots"}/${this._backup.slug}/restore/partial`,e),this.closeDialog()}catch(e){this._error=e.body.message}}else await(0,p.Ys)(this,{title:"Could not restore backup",text:`Restoring a backup is not possible right now because the system is in ${null===(s=this._dialogParams)||void 0===s?void 0:s.supervisor.info.state} state.`})}},{kind:"method",key:"_fullRestoreClicked",value:async function(e){var t,a,i,s;void 0===(null===(t=this._dialogParams)||void 0===t?void 0:t.supervisor)||"running"===(null===(a=this._dialogParams)||void 0===a?void 0:a.supervisor.info.state)?await(0,p.g7)(this,{title:"Are you sure you want to wipe your system and restore this backup?",confirmText:"restore",dismissText:"cancel"})&&(null!==(i=this._dialogParams)&&void 0!==i&&i.onboarding?((0,l.B)(this,"restoring"),fetch(`/api/hassio/backups/${this._backup.slug}/restore/full`,{method:"POST",body:JSON.stringify(e)}),this.closeDialog()):this.hass.callApi("POST",`hassio/${(0,r.I)(this.hass.config.version,2021,9)?"backups":"snapshots"}/${this._backup.slug}/restore/full`,e).then((()=>{this.closeDialog()}),(e=>{this._error=e.body.message}))):await(0,p.Ys)(this,{title:"Could not restore backup",text:`Restoring a backup is not possible right now because the system is in ${null===(s=this._dialogParams)||void 0===s?void 0:s.supervisor.info.state} state.`})}},{kind:"method",key:"_deleteClicked",value:async function(){if(await(0,p.g7)(this,{title:"Are you sure you want to delete this backup?",confirmText:"delete",dismissText:"cancel"}))try{await(0,h.FZ)(this.hass,this._backup.slug),this._dialogParams.onDelete&&this._dialogParams.onDelete(),this.closeDialog()}catch(e){this._error=e.body.message}}},{kind:"method",key:"_downloadClicked",value:async function(){let e;try{e=await(0,u.iI)(this.hass,`/api/hassio/${(0,r.I)(this.hass.config.version,2021,9)?"backups":"snapshots"}/${this._backup.slug}/download`)}catch(e){return void await(0,p.Ys)(this,{text:(0,m.js)(e)})}if(window.location.href.includes("ui.nabu.casa")){if(!await(0,p.g7)(this,{title:"Potential slow download",text:"Downloading backups over the Nabu Casa URL will take some time, it is recomended to use your local URL instead, do you want to continue?",confirmText:"continue",dismissText:"cancel"}))return}(0,g.N)(e.path,`home_assistant_backup_${(0,c.l)(this._computeName)}.tar`)}},{kind:"get",key:"_computeName",value:function(){return this._backup?this._backup.name||this._backup.slug:"Unnamed backup"}}]}}),o.oi);i()}catch(e){i(e)}}))},12198:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{D_:()=>$,NC:()=>g,Nh:()=>y,WB:()=>h,mn:()=>p,p6:()=>c,pU:()=>l,yQ:()=>f});var s=a(14516),o=a(66477),n=a(4631),r=e([n]);n=(r.then?(await r)():r)[0];const l=(e,t)=>d(t).format(e),d=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric"}))),c=(e,t)=>u(t).format(e),u=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric"}))),h=(e,t)=>{var a,i,s,n;const r=m(t);if(t.date_format===o.t6.language||t.date_format===o.t6.system)return r.format(e);const l=r.formatToParts(e),d=null===(a=l.find((e=>"literal"===e.type)))||void 0===a?void 0:a.value,c=null===(i=l.find((e=>"day"===e.type)))||void 0===i?void 0:i.value,u=null===(s=l.find((e=>"month"===e.type)))||void 0===s?void 0:s.value,h=null===(n=l.find((e=>"year"===e.type)))||void 0===n?void 0:n.value,p=l.at(l.length-1);let k="literal"===(null==p?void 0:p.type)?null==p?void 0:p.value:"";"bg"===t.language&&t.date_format===o.t6.YMD&&(k="");return{[o.t6.DMY]:`${c}${d}${u}${d}${h}${k}`,[o.t6.MDY]:`${u}${d}${c}${d}${h}${k}`,[o.t6.YMD]:`${h}${d}${u}${d}${c}${k}`}[t.date_format]},m=(0,s.Z)((e=>{const t=e.date_format===o.t6.system?void 0:e.language;return e.date_format===o.t6.language||(e.date_format,o.t6.system),new Intl.DateTimeFormat(t,{year:"numeric",month:"numeric",day:"numeric"})})),p=(e,t)=>k(t).format(e),k=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short"}))),g=(e,t)=>v(t).format(e),v=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric"}))),y=(e,t)=>b(t).format(e),b=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{month:"long"}))),f=(e,t)=>_(t).format(e),_=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{year:"numeric"}))),$=(e,t)=>w(t).format(e),w=(0,s.Z)((e=>new Intl.DateTimeFormat(e.language,{weekday:"long"})));i()}catch(e){i(e)}}))},44583:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{DG:()=>h,E8:()=>g,o0:()=>c,yD:()=>p});var s=a(14516),o=a(4631),n=a(65810),r=a(12198),l=a(49684),d=e([o,r,l]);[o,r,l]=d.then?(await d)():d;const c=(e,t)=>u(t).format(e),u=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{year:"numeric",month:"long",day:"numeric",hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",hour12:(0,n.y)(e)}))),h=(e,t)=>m(t).format(e),m=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{year:"numeric",month:"short",day:"numeric",hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",hour12:(0,n.y)(e)}))),p=(e,t)=>k(t).format(e),k=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{month:"short",day:"numeric",hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",hour12:(0,n.y)(e)}))),g=(e,t)=>v(t).format(e),v=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{year:"numeric",month:"long",day:"numeric",hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:(0,n.y)(e)})));i()}catch(e){i(e)}}))},49684:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{Vu:()=>c,Zs:()=>p,mr:()=>l,xO:()=>h});var s=a(14516),o=a(4631),n=a(65810),r=e([o]);o=(r.then?(await r)():r)[0];const l=(e,t)=>d(t).format(e),d=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{hour:"numeric",minute:"2-digit",hour12:(0,n.y)(e)}))),c=(e,t)=>u(t).format(e),u=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:(0,n.y)(e)}))),h=(e,t)=>m(t).format(e),m=(0,s.Z)((e=>new Intl.DateTimeFormat("en"!==e.language||(0,n.y)(e)?e.language:"en-u-hc-h23",{weekday:"long",hour:(0,n.y)(e)?"numeric":"2-digit",minute:"2-digit",hour12:(0,n.y)(e)}))),p=e=>k().format(e),k=(0,s.Z)((()=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1})));i()}catch(e){i(e)}}))},65810:(e,t,a)=>{a.d(t,{y:()=>o});var i=a(14516),s=a(66477);const o=(0,i.Z)((e=>{if(e.time_format===s.zt.language||e.time_format===s.zt.system){const t=e.time_format===s.zt.language?e.language:void 0,a=(new Date).toLocaleString(t);return a.includes("AM")||a.includes("PM")}return e.time_format===s.zt.am_pm}))},32594:(e,t,a)=>{a.d(t,{U:()=>i});const i=e=>e.stopPropagation()},83447:(e,t,a)=>{a.d(t,{l:()=>i});const i=(e,t="_")=>{const a="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",i=`aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz${t}${t}${t}${t}${t}${t}`,s=new RegExp(a.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,t).replace(s,(e=>i.charAt(a.indexOf(e)))).replace(/&/g,`${t}and${t}`).replace(/[^\w-]+/g,"").replace(/-/g,t).replace(new RegExp(`(${t})\\1+`,"g"),"$1").replace(new RegExp(`^${t}+`),"").replace(new RegExp(`${t}+$`),"")}},98762:(e,t,a)=>{var i=a(17463),s=(a(14271),a(68144)),o=a(79932);a(31206),a(52039);(0,i.Z)([(0,o.Mo)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return s.dy` <mwc-button ?raised="${this.raised}" .disabled="${this.disabled||this.progress}" @click="${this._buttonTapped}" class="${this._result||""}"> <slot></slot> </mwc-button> ${e?s.dy` <div class="progress"> ${"success"===this._result?s.dy`<ha-svg-icon .path="${"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"}"></ha-svg-icon>`:"error"===this._result?s.dy`<ha-svg-icon .path="${"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"}"></ha-svg-icon>`:this.progress?s.dy` <ha-circular-progress size="small" active></ha-circular-progress> `:""} </div> `:""} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"method",key:"_buttonTapped",value:function(e){this.progress&&e.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{outline:0;display:inline-block;position:relative}mwc-button{transition:all 1s}mwc-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}mwc-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}mwc-button.error slot,mwc-button.success slot{visibility:hidden}`}}]}}),s.oi)},81545:(e,t,a)=>{var i=a(17463),s=a(34541),o=a(47838),n=(a(65666),a(68144)),r=a(79932),l=a(74265);(0,i.Z)([(0,r.Mo)("ha-button-menu")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",key:l.gA,value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,r.Cb)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return n.dy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,s.Z)((0,o.Z)(a.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),n.oi)},32511:(e,t,a)=>{var i=a(17463),s=a(58417),o=a(39274),n=a(68144),r=a(79932);(0,i.Z)([(0,r.Mo)("ha-checkbox")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.W,n.iv`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),s.A)},83927:(e,t,a)=>{var i=a(17463),s=a(8485),o=a(92038),n=a(68144),r=a(79932),l=a(47181);(0,i.Z)([(0,r.Mo)("ha-formfield")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"_labelClick",value:function(){const e=this.input;if(e)switch(e.focus(),e.tagName){case"HA-CHECKBOX":case"HA-RADIO":if(e.disabled)break;e.checked=!e.checked,(0,l.B)(e,"change");break;default:e.click()}}},{kind:"field",static:!0,key:"styles",value:()=>[o.W,n.iv`:host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding-inline-start:4px;padding-inline-end:0}`]}]}}),s.a)},33220:(e,t,a)=>{var i=a(17463),s=a(35433),o=a(44973),n=a(68144),r=a(79932);(0,i.Z)([(0,r.Mo)("ha-radio")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.W,n.iv`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),s.J)},4631:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t);var s=a(43170),o=a(27499),n=a(32812),r=a(27815),l=a(64532),d=a(69906),c=a(24517);const e=async()=>{const e=(0,d.sS)(),t=[];(0,n.Y)()&&await Promise.all([a.e(77021),a.e(48196)]).then(a.bind(a,48196)),(0,r.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(20655)]).then(a.bind(a,20655))),(0,l.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(20759)]).then(a.bind(a,20759))),(0,s.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(76554)]).then(a.bind(a,76554)).then((()=>a.e(6042).then(a.t.bind(a,6042,23))))),(0,o.Yq)(e)&&t.push(Promise.all([a.e(77021),a.e(72684)]).then(a.bind(a,72684))),0!==t.length&&await Promise.all(t).then((()=>(0,c.n)(e)))};await e(),i()}catch(e){i(e)}}),1)},25936:(e,t,a)=>{a.d(t,{N:()=>i});const i=(e,t="")=>{const a=document.createElement("a");a.target="_blank",a.href=e,a.download=t,document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)}}}]);
//# sourceMappingURL=19605-Ue7l1ijULJA.js.map