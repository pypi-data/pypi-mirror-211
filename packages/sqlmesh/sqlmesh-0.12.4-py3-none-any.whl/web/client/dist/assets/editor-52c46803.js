import{p as T,q as f,s as v,t as p}from"./index-3144ef62.js";const w=new Worker(new URL("/assets/worker-b33174b4.js",self.location)),[m,S]=T("tabs"),o=l(),d=b(o),I=new Map([[o,d]]),x=f((t,a)=>({storedTabsIds:n(),tab:d,tabs:I,engine:w,dialects:[],previewQuery:void 0,previewTable:void 0,previewConsole:void 0,direction:"vertical",updateStoredTabsIds(){S({ids:Array.from(a().tabs.values()).filter(e=>e.file.isRemote).map(e=>e.file.id)}),t(()=>({storedTabsIds:n()}))},refreshTab(){const e=a().tab;e!=null&&a().selectTab({...e})},setDialects(e){t(()=>({dialects:e}))},selectTab(e){t(()=>({tab:e})),e!=null&&a().addTab(e)},addTab(e){const s=a();s.tabs.set(e.file,e);const i=new Map(s.tabs);t(()=>({tabs:i})),s.updateStoredTabsIds()},closeTab(e){var i;const s=a();if(s.tabs.delete(e),s.tabs.size===0)s.selectTab(void 0);else if(s.tabs.size===1){const r=Array.from(s.tabs.values());s.selectTab(r.at(0))}else if(e.id===((i=s.tab)==null?void 0:i.file.id)){const r=Array.from(s.tabs.values()),c=r.findIndex(u=>u.file===e);s.selectTab(r.at(c-1))}t(()=>({tabs:new Map(s.tabs)})),s.updateStoredTabsIds()},createTab:b,setPreviewQuery(e){t(()=>({previewQuery:e}))},setPreviewTable(e){t(()=>({previewTable:e}))},setPreviewConsole(e){t(()=>({previewConsole:e}))},setDirection(e){t(()=>({direction:e}))}}));function b(t=l()){return{id:v(),file:t,isValid:!0,isSaved:!0}}function l(){return new p({name:"",path:"",content:`-- Create arbitrary SQL queries
-- and execute them against different environments

`})}function n(){var t;return((t=m())==null?void 0:t.ids)??[]}export{w as s,x as u};
