"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3883],{1210:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),l=t(47999),a=t(49894),u=t(93461),s=t(57384),c=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var m=o.forwardRef(p),h=t(32063),v=t(85019),b=t(82531),w=t(66166),y=t(3055),g=t(49125),j=t(91427),x=t(24141);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,O=e.afterWidthOverride,_=e.before,C=e.beforeWidth,I=e.breadcrumbs,S=e.children,P=e.errors,k=e.headerMenuItems,N=e.headerOffset,H=e.mainContainerHeader,z=e.navigationItems,D=e.setErrors,E=e.subheaderChildren,M=e.title,A=e.uuid,T=(0,x.i)().width,B="dashboard_after_width_".concat(A),F="dashboard_before_width_".concat(A),q=(0,o.useRef)(null),L=(0,o.useState)(O?p:(0,j.U2)(B,p)),R=L[0],W=L[1],U=(0,o.useState)(!1),G=U[0],Q=U[1],J=(0,o.useState)(_?Math.max((0,j.U2)(F,C),13*g.iI):null),X=J[0],Y=J[1],K=(0,o.useState)(!1),V=K[0],$=K[1],ee=(0,o.useState)(null)[1],ne=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,te=null===ne||void 0===ne?void 0:ne.projects,re=[];I?re.push.apply(re,(0,i.Z)(I)):(null===te||void 0===te?void 0:te.length)>=1&&re.push.apply(re,[{label:function(){var e;return null===(e=te[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return M}}]),(0,o.useEffect)((function(){null===q||void 0===q||!q.current||G||V||null===ee||void 0===ee||ee(q.current.getBoundingClientRect().width)}),[G,R,V,X,q,ee,T]),(0,o.useEffect)((function(){G||(0,j.t8)(B,R)}),[r,G,R,B]),(0,o.useEffect)((function(){V||(0,j.t8)(F,X)}),[V,X,F]);var ie=(0,w.Z)(p);return(0,o.useEffect)((function(){O&&ie!==p&&W(p)}),[O,p,ie]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:M}),(0,f.jsx)(c.Z,{breadcrumbs:re,menuItems:k,project:null===te||void 0===te?void 0:te[0],version:null===te||void 0===te||null===(n=te[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===z||void 0===z?void 0:z.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(v.Z,{navigationItems:z,showMore:!0})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:t,afterHeightOffset:y.Mz,afterHidden:r,afterMousedownActive:G,afterWidth:R,before:_,beforeHeightOffset:y.Mz,beforeMousedownActive:V,beforeWidth:d.k1+(_?X:0),headerOffset:N,hideAfterCompletely:!0,leftOffset:_?d.k1:null,mainContainerHeader:H,mainContainerRef:q,setAfterMousedownActive:Q,setAfterWidth:W,setBeforeMousedownActive:$,setBeforeWidth:Y,children:[E&&(0,f.jsx)(m,{children:E}),S]})})]}),P&&(0,f.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(a.Z,Z(Z({},P),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},63153:function(e,n,t){t.d(n,{Z3:function(){return r},ms:function(){return o},s7:function(){return i}});var r=[{autoComplete:"username",label:"Username",required:!0,uuid:"username"},{autoComplete:"email",disabled:!1,label:"Email",required:!0,type:"email",uuid:"email"}],i="password_current",o=[{autoComplete:"current-password",label:"Current password",type:"password",uuid:i},{autoComplete:"new-password",label:"New password",type:"password",uuid:"password"},{autoComplete:"new-password",label:"Confirm new password",type:"password",uuid:"password_confirmation"}]},20582:function(e,n,t){var r=t(82394),i=t(21831),o=t(75582),l=t(21764),a=t(82684),u=t(83455),s=t(60328),c=t(79891),d=t(67971),f=t(87372),p=t(55378),m=t(86673),h=t(82944),v=t(82531),b=t(66166),w=t(63153),y=t(24224),g=t(9736),j=t(7715),x=t(96510),O=t(28598);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.disabledFields,t=e.entity,Z=e.entityID,C=e.hideFields,I=e.newUser,S=e.onDeleteSuccess,P=e.onSaveSuccess,k=e.showDelete,N=e.title,H=e.user,z=(0,a.useState)(!0),D=z[0],E=z[1],M=(0,a.useState)({}),A=M[0],T=M[1],B=(0,a.useState)(null),F=B[0],q=B[1],L=((0,g.PR)()||{}).owner,R=v.ZP.roles.list({entity:t,entity_ids:Z?[Z]:[],limit_roles:!!I},{revalidateOnFocus:!1}),W=R.data,U=(R.mutate,(0,a.useMemo)((function(){return(null===W||void 0===W?void 0:W.roles)||[]}),[null===W||void 0===W?void 0:W.roles])),G=(0,u.Db)(I?v.ZP.users.useCreate():v.ZP.users.useUpdate(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,x.wD)(e,{callback:function(e){var n=e.user,t=w.Z3.concat(w.ms).map((function(e){return e.uuid}));t.push("roles_new");var r=(0,j.GL)(n,t);q(r),l.Am.success(I?"New user created successfully.":"User profile successfully updated.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"user-update-success-".concat(n.id)}),null===P||void 0===P||P(r)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,i=n.message,o=n.type;l.Am.error((null===t||void 0===t?void 0:t.error)||r||i,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:o})}})}}),Q=(0,o.Z)(G,2),J=Q[0],X=Q[1].isLoading,Y=(0,u.Db)(v.ZP.users.useDelete(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,x.wD)(e,{callback:function(){null===S||void 0===S||S()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;alert(r),console.log(t)}})}}),K=(0,o.Z)(Y,2),V=K[0],$=K[1].isLoading,ee=C?(0,i.Z)(C):[];I&&ee.push(w.s7);var ne=!ee||!ee.includes(w.s7),te=(0,b.Z)(H);(0,a.useEffect)((function(){if(H&&(!F||(null===te||void 0===te?void 0:te.id)!==(null===H||void 0===H?void 0:H.id))){var e=w.Z3.concat(w.ms).map((function(e){return e.uuid}));e.push("roles_new"),q((0,j.GL)(H,e))}null!==F&&void 0!==F&&F.password||null!==F&&void 0!==F&&F.password_confirmation?(null===F||void 0===F?void 0:F.password)!==(null===F||void 0===F?void 0:F.password_confirmation)?T({password_confirmation:"Password confirmation does not match."}):!ne||null!==F&&void 0!==F&&F.password_current?T(null):T({password_current:"This field is required."}):null!==F&&void 0!==F&&F.password_current&&ne?null!==F&&void 0!==F&&F.password&&null!==F&&void 0!==F&&F.password_confirmation?T(null):T({password:"This field is required.",password_confirmation:"This field is required."}):null!==F&&void 0!==F&&F.password_current||null!==F&&void 0!==F&&F.password||null!==F&&void 0!==F&&F.password_confirmation||T(null)}),[F,ne,H,te]);var re=(0,a.useMemo)((function(){var e,n=[],t=(null===U||void 0===U?void 0:U.map((function(e){return e.id})))||[];return F?n=F.roles_new:null!==H&&void 0!==H&&H.roles_new&&(null===H||void 0===H?void 0:H.roles_new.length)>0&&(n=H.roles_new),null===(e=n)||void 0===e?void 0:e.filter((function(e){var n=e.id;return t.includes(n)}))}),[F,U,H]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(f.Z,{children:N||"Edit profile"}),(0,O.jsxs)("form",{children:[w.Z3.filter((function(e){var n=e.uuid;return!ee||!ee.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,a=e.uuid;return(0,O.jsx)(m.Z,{mt:2,children:(0,O.jsx)(h.Z,{autoComplete:n,disabled:t&&!I,label:i,onChange:function(e){E(!1),q((function(n){return _(_({},n),{},(0,r.Z)({},a,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===F||void 0===F?void 0:F[a])||""})},a)})),!(null!==H&&void 0!==H&&H.owner)&&(0,O.jsxs)(m.Z,{mt:2,children:[(0,O.jsx)(p.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:"Roles",onChange:function(e){E(!1);var n=(0,y.sE)(U,(function(n){return n.id==e.target.value}));n&&q((function(e){var t=(null===e||void 0===e?void 0:e.roles_new)||[],r={};return(0,y.sE)(t,(function(e){return e.id==(null===n||void 0===n?void 0:n.id)}))||(r={roles_new:[].concat((0,i.Z)(t),[n])}),_(_({},e),r)}))},primary:!0,setContentOnMount:!0,children:U.map((function(e){var n=e.id,t=e.name;return(0,O.jsx)("option",{value:n,children:t},t)}))}),(0,O.jsx)(m.Z,{mb:1}),(0,O.jsx)(d.Z,{alignItems:"center",flexWrap:"wrap",children:null===re||void 0===re?void 0:re.map((function(e){var n=e.id,t=e.name;return(0,O.jsx)(m.Z,{mb:1,mr:1,children:(0,O.jsx)(c.Z,{label:t,onClick:function(){E(!1),q((function(e){return _(_({},e),{},{roles_new:(0,y.Od)(e.roles_new||[],(function(e){return e.id===n}))})}))},primary:!0})},"user_roles/".concat(t))}))})]}),(0,O.jsxs)(m.Z,{mt:5,children:[(0,O.jsx)(f.Z,{children:I?"Password":"Change password"}),w.ms.filter((function(e){var n=e.uuid;return!ee||!ee.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,a=e.uuid;return(0,O.jsx)(m.Z,{mt:2,children:(0,O.jsx)(h.Z,{autoComplete:n,disabled:t,label:i,meta:{error:null===A||void 0===A?void 0:A[a],touched:!(null===A||void 0===A||!A[a])},onChange:function(e){E(!1),q((function(n){return _(_({},n),{},(0,r.Z)({},a,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===F||void 0===F?void 0:F[a])||""})},a)}))]}),(0,O.jsx)(m.Z,{mt:5,children:(0,O.jsxs)(d.Z,{children:[(0,O.jsx)(s.Z,{disabled:D||A&&!(0,j.Qr)(A),loading:X,onClick:function(){var e,n=_({},F);"roles_new"in n&&(n.roles_new=null===(e=F.roles_new)||void 0===e?void 0:e.map((function(e){return e.id})));J({user:n})},primary:!0,children:I?"Create new user":"Update user profile"}),k&&L&&(0,O.jsx)(m.Z,{ml:1,children:(0,O.jsx)(s.Z,{danger:!0,loading:$,onClick:function(){window.confirm("Are you sure you want to delete ".concat(F.username||F.email,"?"))&&V()},children:"Delete user"})})]})})]})]})}},79891:function(e,n,t){var r=t(9518),i=t(60328),o=t(67971),l=t(86673),a=t(19711),u=t(23831),s=t(10503),c=t(49125),d=t(31012),f=t(28598),p=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||u.Z.background).popup,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||u.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((c.iI+d.Al)/2,"px;\n    height: ").concat(1.5*c.iI+d.Al,"px;\n    padding: ").concat(c.iI/1.5,"px ").concat(1.25*c.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((c.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+c.iI/2+2,"px;\n    padding: ").concat(c.iI/4,"px ").concat(c.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||u.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.label,u=e.onClick,d=e.primary,m=e.small;return(0,f.jsx)(p,{border:n,primary:d,small:m,children:(0,f.jsx)(i.Z,{basic:!0,noPadding:!0,noBackground:!0,onClick:u,transparent:!0,children:(0,f.jsxs)(o.Z,{alignItems:"center",children:[t,r&&(0,f.jsx)(a.ZP,{small:m,children:r}),(0,f.jsx)(l.Z,{mr:1}),(0,f.jsx)(s.x8,{default:d,muted:!d,size:m?c.iI:1.25*c.iI})]})})})}},87372:function(e,n,t){var r,i,o,l,a,u,s,c,d=t(82394),f=t(26304),p=t(26653),m=t(9518),h=t(33591),v=t(23831),b=t(2005),w=t(31012),y=t(19711),g=t(49125),j=t(86673),x=t(28598),O=["children","condensed","inline","level","marketing","spacingBelow"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=(0,m.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],y.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||v.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(b.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(b.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(b.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),I=m.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||v.Z.content).active,";\n  ")})),S=m.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],C,h.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.lg(i||(i=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.xl(o||(o=(0,p.Z)(["\n    ","\n  "])),w.aQ)),P=m.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],C,w.MJ),k=m.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],C,h.media.xs(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.sm(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.md(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.lg(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.xl(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI)),N=m.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],C,w.BL),H=m.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],C),z=m.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],C),D=m.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],C),E=m.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],C,(function(e){return 1===e.level&&"\n    ".concat(w.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(w.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),M=function(e){var n,t=e.children,r=e.condensed,i=e.inline,o=e.level,l=e.marketing,a=e.spacingBelow,u=(0,f.Z)(e,O);i?n=E:0===Number(o)?n=S:1===Number(o)?n=l?k:P:2===Number(o)?n=N:3===Number(o)?n=H:4===Number(o)?n=z:5===Number(o)&&(n=D);var s=(0,x.jsxs)(n,_(_({},u),{},{level:o,children:[a&&(0,x.jsx)(j.Z,{mb:r?2:3,children:t}),!a&&t]}));return i?s:(0,x.jsx)(I,{children:s})};M.defaultProps={level:3,weightStyle:6},n.Z=M}}]);