[build-system]
requires = ["poetry-core>=1.2.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "ipoly"
version = "0.2.1"
description = "Data Science utilities."
authors = ["Thomas Danguilhen <ipoly.8vqpv@slmails.com>"]
license = "MIT"
readme = "README.md"
documentation = "https://ipoly.readthedocs.io/en/latest/source/ipoly.html"
repository = "https://github.com/Danguilhen/ipoly"
packages = [
    {include = "ipoly"},
]

[tool.poetry.dependencies]
python = ">=3.10,<3.12"
glob2 = "^0.7"
IPython = ">=8.11"
typeguard = ">=3.0.2"
nptyping = "^1.4"
pandas = ">=2.0"
colorama = "^0.4"
plyer = "^2.0"
webdriver-manager = "^3.5"
selenium = "^4.6"
beautifulsoup4 = "^4.10"
tensorflow = "^2.7"
tensorflow-io-gcs-filesystem = "0.31.0"
scikit-image = { version = ">=0.20.0", optional = true}
numpy = "<1.24"
polars = {version = ">=0.18.0", optional = true}
xlrd = {version = ">=2.0", optional = true}
openpyxl = {version = ">=3.1", optional = true}
pyarrow = {version = ">=12.0", optional = true}
torch = {version = ">=2.0", optional = true}
transformers = {version = ">=4.0", optional = true}
nvsmi = {version = ">=0.4", optional = true}
lazypredict = {version = ">=0.2", optional = true}
seaborn = {version = ">=0.12", optional = true}
scipy = {version = ">=1.10", optional = true}
opencv-python = {version = ">=4.7", optional = true}
ultralytics = {version = ">=8.0", optional = true}
albumentations = {version = ">=1.3", optional = true}
pydicom = {version = ">=2.3", optional = true}

[tool.poetry.extras]
table = ["polars", "xlrd", "openpyxl", "pyarrow"]
torch = ["torch"]
ml = ["transformers", "nvsmi", "lazypredict", "seaborn", "scipy"]
image = ["opencv-python", "ultralytics", "albumentations", "scikit-image"]
dicom = ['pydicom']

[tool.poetry.group.docs]
optional = true

[tool.poetry.group.docs.dependencies]
sphinx = ">=6.2"
sphinx-rtd-theme = ">=1.2"
sphinx-autodoc-typehints = ">=1.23"
sphinx-autodocgen = ">=1.3"
readthedocs-sphinx-search = ">=0.3"
myst-parser = ">=0.19"

[tool.poetry.group.dev.dependencies]
black = ">=23.3"
pytest = ">=7.3"
coveralls = "^3.3.1"
pytest-cov = ">=4.0.0"
ipykernel = ">=6.23"
notebook = ">=6.5"
pre-commit = ">=3.3"
GitPython = ">=3.1"

[tool.black]
line-length = 88  # Specify the line length
target-version = ['py310']  # Specify your Python version
include = '\.pyi?$'
exclude = '''  # Specify the files/dirs that should be ignored by the black formatter
/(
    \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | _build
  | buck-out
  | build
  | dist
)/
'''

[tool.pytest.ini_options]
addopts = "-q --doctest-modules --cov-report term-missing:skip-covered --cov=ipoly tests/"
